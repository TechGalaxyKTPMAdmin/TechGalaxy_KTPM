2025-05-20 05:56:41.889  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Starting OrderServiceApplication v0.0.1-SNAPSHOT using Java 17.0.15 with PID 1 (/app/OrderService.jar started by root in /app)
2025-05-20 05:56:42.583 DEBUG [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-05-20 05:56:42.642  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : No active profile set, falling back to 1 default profile: "default"
2025-05-20 05:56:43.621  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-05-20 05:56:43.635  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=application, profiles=[default], label=null, version=1acc8d8659fd96ed52844c8881c260bdb5135241, state=
2025-05-20 05:56:43.640  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-05-20 05:56:43.643  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=OrderService, profiles=[default], label=null, version=1acc8d8659fd96ed52844c8881c260bdb5135241, state=
2025-05-20 05:57:15.643  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-20 05:57:15.712  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-20 05:57:18.961  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 2874 ms. Found 2 JPA repository interfaces.
2025-05-20 05:57:19.349  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-20 05:57:19.409  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-05-20 05:57:19.733  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderDetailRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-20 05:57:19.822  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-20 05:57:19.853  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 195 ms. Found 0 Redis repository interfaces.
2025-05-20 05:57:29.590  INFO [traceId=, spanId=] 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=f9b4fb59-e3a5-3945-a671-7885d95e7545
2025-05-20 05:57:45.780  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9003 (http)
2025-05-20 05:57:45.897  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-20 05:57:45.952  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-05-20 05:57:46.258  INFO [traceId=, spanId=] 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-20 05:57:46.326  INFO [traceId=, spanId=] 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 62619 ms
2025-05-20 05:57:56.742  INFO [traceId=, spanId=] 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-20 05:57:57.666  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-05-20 05:57:58.387  INFO [traceId=, spanId=] 1 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-20 05:58:00.679  INFO [traceId=, spanId=] 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-20 05:58:00.924  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-20 05:58:01.952  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: e7b69dd2-833b-462c-bf8e-9deb16fb67f8
2025-05-20 05:58:01.987  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-20 05:58:02.421  WARN [traceId=, spanId=] 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-20 05:58:02.586  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-20 05:58:07.527  INFO [traceId=, spanId=] 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-20 05:58:12.107  INFO [traceId=, spanId=] 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-20 05:58:17.651  WARN [traceId=, spanId=] 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-20 05:58:19.667  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'InventoryService' URL not provided. Will try picking an instance via load-balancing.
2025-05-20 05:58:21.817  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'UserService' URL not provided. Will try picking an instance via load-balancing.
2025-05-20 05:58:40.486  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Connecting to localhost with guest user, assuming development environment
2025-05-20 05:58:40.488  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Using address resolver to always connect to localhost
2025-05-20 05:58:44.344  INFO [traceId=, spanId=] 1 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-05-20 05:58:44.758  WARN [traceId=, spanId=] 1 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-05-20 05:58:44.880  INFO [traceId=, spanId=] 1 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoints beneath base path '/actuator'
2025-05-20 05:58:45.372  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-05-20 05:58:45.511  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-05-20 05:58:45.536  INFO [traceId=, spanId=] 1 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-20 05:58:45.575  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-05-20 05:58:45.578  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-05-20 05:58:45.580  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-05-20 05:58:45.582  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-05-20 05:58:45.584  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-05-20 05:58:45.587  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-05-20 05:58:45.594  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-05-20 05:58:46.511  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-05-20 05:58:46.529  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-05-20 05:58:46.544  INFO [traceId=, spanId=] 1 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-05-20 05:58:46.551  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1747720726550 with initial instances count: 3
2025-05-20 05:58:46.609  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ORDERSERVICE with eureka with status UP
2025-05-20 05:58:46.613  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1747720726613, current=UP, previous=STARTING]
2025-05-20 05:58:46.631  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/796dd69f5478:OrderService:9003: registering service...
2025-05-20 05:58:46.790  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9003 (http) with context path '/'
2025-05-20 05:58:46.803  INFO [traceId=, spanId=] 1 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9003
2025-05-20 05:58:46.827  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [rabbitmq:5672]
2025-05-20 05:58:46.935  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/796dd69f5478:OrderService:9003 - registration status: 204
2025-05-20 05:58:47.274  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#727210eb:0/SimpleConnection@28839977 [delegate=amqp://guest@172.19.0.4:5672/, localPort=58302]
2025-05-20 05:58:47.609  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
2025-05-20 05:58:47.613  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Dropped 2 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused)

org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:925)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:840)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:701)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender.postSpans(ZipkinRestTemplateSender.java:50)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:69)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:41)
	at zipkin2.reporter.BaseHttpSender.send(BaseHttpSender.java:123)
	at zipkin2.reporter.internal.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:266)
	at zipkin2.reporter.internal.AsyncReporter$Flusher.run(AsyncReporter.java:352)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:547)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:602)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:899)
	... 9 common frames omitted

2025-05-20 05:58:47.779  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Started OrderServiceApplication in 150.442 seconds (process running for 162.21)
2025-05-20 05:59:07.205  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-20 05:59:07.207  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-20 05:59:07.216  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 7 ms
2025-05-20 06:03:45.577  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-20 06:08:45.557  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-20 06:13:45.540  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-20 06:18:45.523  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-20 06:23:45.531  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-20 06:28:04.152  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ORDERSERVICE with eureka with status DOWN
2025-05-20 06:28:04.254  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1747722484253, current=DOWN, previous=UP]
2025-05-20 06:28:04.267  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/796dd69f5478:OrderService:9003: registering service...
2025-05-20 06:28:04.558  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/796dd69f5478:OrderService:9003 - registration status: 204
2025-05-20 06:28:05.278  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-05-20 06:28:05.284  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-05-20 06:28:05.947  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-05-20 06:28:05.956  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-05-20 06:28:06.781  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-05-20 06:28:06.866  INFO [traceId=, spanId=] 1 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-05-20 06:28:08.549  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-20 06:28:08.625  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-20 06:28:08.649  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-20 06:28:08.784  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-05-20 06:28:11.785  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-05-20 06:28:11.865  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/796dd69f5478:OrderService:9003 - deregister  status: 200
2025-05-20 06:28:11.871  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-05-20 06:38:10.580  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Starting OrderServiceApplication v0.0.1-SNAPSHOT using Java 17.0.15 with PID 1 (/app/OrderService.jar started by root in /app)
2025-05-20 06:38:10.637 DEBUG [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-05-20 06:38:10.643  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : No active profile set, falling back to 1 default profile: "default"
2025-05-20 06:38:11.003  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-05-20 06:38:11.010  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=application, profiles=[default], label=null, version=1acc8d8659fd96ed52844c8881c260bdb5135241, state=
2025-05-20 06:38:11.014  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-05-20 06:38:11.017  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=OrderService, profiles=[default], label=null, version=1acc8d8659fd96ed52844c8881c260bdb5135241, state=
2025-05-20 06:38:24.434  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-20 06:38:24.446  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-20 06:38:25.744  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1069 ms. Found 2 JPA repository interfaces.
2025-05-20 06:38:25.849  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-20 06:38:25.859  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-05-20 06:38:25.932  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderDetailRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-20 06:38:25.936  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-20 06:38:25.939  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 21 ms. Found 0 Redis repository interfaces.
2025-05-20 06:38:29.532  INFO [traceId=, spanId=] 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=f9b4fb59-e3a5-3945-a671-7885d95e7545
2025-05-20 06:38:34.841  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9003 (http)
2025-05-20 06:38:34.920  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-20 06:38:34.941  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-05-20 06:38:35.228  INFO [traceId=, spanId=] 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-20 06:38:35.239  INFO [traceId=, spanId=] 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 24190 ms
2025-05-20 06:38:41.479  INFO [traceId=, spanId=] 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-20 06:38:42.471  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-05-20 06:38:42.734  INFO [traceId=, spanId=] 1 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-20 06:38:45.135  INFO [traceId=, spanId=] 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-20 06:38:45.384  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-20 06:38:46.482  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: cdaddcaa-6f87-460d-bf58-3259c0ee71dc
2025-05-20 06:38:46.490  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-20 06:38:46.779  WARN [traceId=, spanId=] 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-20 06:38:46.922  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-20 06:38:54.786  INFO [traceId=, spanId=] 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-20 06:38:56.916  INFO [traceId=, spanId=] 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-20 06:39:01.970  WARN [traceId=, spanId=] 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-20 06:39:05.803  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'InventoryService' URL not provided. Will try picking an instance via load-balancing.
2025-05-20 06:39:08.487  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'UserService' URL not provided. Will try picking an instance via load-balancing.
2025-05-20 06:39:25.129  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Connecting to localhost with guest user, assuming development environment
2025-05-20 06:39:25.133  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Using address resolver to always connect to localhost
2025-05-20 06:39:33.995  INFO [traceId=, spanId=] 1 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-05-20 06:39:34.566  WARN [traceId=, spanId=] 1 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-05-20 06:39:34.703  INFO [traceId=, spanId=] 1 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoints beneath base path '/actuator'
2025-05-20 06:39:35.424  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-05-20 06:39:35.624  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-05-20 06:39:35.652  INFO [traceId=, spanId=] 1 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-20 06:39:35.715  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-05-20 06:39:35.718  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-05-20 06:39:35.724  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-05-20 06:39:35.730  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-05-20 06:39:35.733  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-05-20 06:39:35.735  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-05-20 06:39:35.738  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-05-20 06:39:36.629  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-05-20 06:39:36.640  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-05-20 06:39:36.652  INFO [traceId=, spanId=] 1 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-05-20 06:39:36.666  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1747723176665 with initial instances count: 4
2025-05-20 06:39:36.705  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ORDERSERVICE with eureka with status UP
2025-05-20 06:39:36.710  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1747723176710, current=UP, previous=STARTING]
2025-05-20 06:39:36.726  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/b61f9ae7d8dd:OrderService:9003: registering service...
2025-05-20 06:39:36.848  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9003 (http) with context path '/'
2025-05-20 06:39:36.854  INFO [traceId=, spanId=] 1 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9003
2025-05-20 06:39:36.879  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [rabbitmq:5672]
2025-05-20 06:39:36.955  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/b61f9ae7d8dd:OrderService:9003 - registration status: 204
2025-05-20 06:39:37.253  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#35e4cf0c:0/SimpleConnection@48d7aa61 [delegate=amqp://guest@172.19.0.3:5672/, localPort=49034]
2025-05-20 06:39:37.644  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
2025-05-20 06:39:37.646  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Dropped 2 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused)

org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:925)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:840)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:701)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender.postSpans(ZipkinRestTemplateSender.java:50)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:69)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:41)
	at zipkin2.reporter.BaseHttpSender.send(BaseHttpSender.java:123)
	at zipkin2.reporter.internal.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:266)
	at zipkin2.reporter.internal.AsyncReporter$Flusher.run(AsyncReporter.java:352)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:547)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:602)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:899)
	... 9 common frames omitted

2025-05-20 06:39:37.759  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Started OrderServiceApplication in 105.733 seconds (process running for 110.135)
2025-05-20 06:39:49.288  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-20 06:39:49.292  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-20 06:39:49.301  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 8 ms
2025-05-20 06:44:35.721  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-20 06:49:35.716  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-20 06:54:35.693  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-20 06:59:35.672  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-20 07:02:03.827  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ORDERSERVICE with eureka with status DOWN
2025-05-20 07:02:03.835  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1747724523835, current=DOWN, previous=UP]
2025-05-20 07:02:03.869  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/b61f9ae7d8dd:OrderService:9003: registering service...
2025-05-20 07:02:03.983  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/b61f9ae7d8dd:OrderService:9003 - registration status: 204
2025-05-20 07:02:04.477  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-05-20 07:02:04.482  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-05-20 07:02:04.822  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-05-20 07:02:04.822  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-05-20 07:02:04.859  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-05-20 07:02:04.893  INFO [traceId=, spanId=] 1 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-05-20 07:02:06.702  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-20 07:02:06.786  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-20 07:02:06.806  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-20 07:02:07.161  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-05-20 07:02:10.165  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-05-20 07:02:10.193  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/b61f9ae7d8dd:OrderService:9003 - deregister  status: 200
2025-05-20 07:02:10.196  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-05-20 07:06:10.294  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Starting OrderServiceApplication v0.0.1-SNAPSHOT using Java 17.0.15 with PID 1 (/app/OrderService.jar started by root in /app)
2025-05-20 07:06:10.503 DEBUG [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-05-20 07:06:10.521  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : No active profile set, falling back to 1 default profile: "default"
2025-05-20 07:06:11.440  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-05-20 07:06:11.493  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=application, profiles=[default], label=null, version=1acc8d8659fd96ed52844c8881c260bdb5135241, state=
2025-05-20 07:06:11.535  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-05-20 07:06:11.560  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=OrderService, profiles=[default], label=null, version=1acc8d8659fd96ed52844c8881c260bdb5135241, state=
2025-05-20 07:06:32.294  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-20 07:06:32.339  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-20 07:06:35.200  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 2632 ms. Found 2 JPA repository interfaces.
2025-05-20 07:06:35.573  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-20 07:06:35.624  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-05-20 07:06:36.097  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderDetailRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-20 07:06:36.136  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-20 07:06:36.143  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 146 ms. Found 0 Redis repository interfaces.
2025-05-20 07:06:42.230  INFO [traceId=, spanId=] 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=f9b4fb59-e3a5-3945-a671-7885d95e7545
2025-05-20 07:06:51.726  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9003 (http)
2025-05-20 07:06:51.808  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-20 07:06:51.816  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-05-20 07:06:52.318  INFO [traceId=, spanId=] 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-20 07:06:52.330  INFO [traceId=, spanId=] 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 40749 ms
2025-05-20 07:06:59.458  INFO [traceId=, spanId=] 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-20 07:07:00.163  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-05-20 07:07:00.531  INFO [traceId=, spanId=] 1 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-20 07:07:03.099  INFO [traceId=, spanId=] 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-20 07:07:03.652  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-20 07:07:05.533  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: c8b53df4-ac09-4678-a69c-6c9a5b1fde15
2025-05-20 07:07:05.557  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-20 07:07:06.510  WARN [traceId=, spanId=] 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-20 07:07:06.843  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-20 07:07:14.587  INFO [traceId=, spanId=] 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-20 07:07:16.681  INFO [traceId=, spanId=] 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-20 07:07:23.730  WARN [traceId=, spanId=] 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-20 07:07:27.716  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'InventoryService' URL not provided. Will try picking an instance via load-balancing.
2025-05-20 07:07:29.461  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'UserService' URL not provided. Will try picking an instance via load-balancing.
2025-05-20 07:07:43.419  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Connecting to localhost with guest user, assuming development environment
2025-05-20 07:07:43.432  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Using address resolver to always connect to localhost
2025-05-20 07:07:50.345  INFO [traceId=, spanId=] 1 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-05-20 07:07:50.895  WARN [traceId=, spanId=] 1 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-05-20 07:07:51.161  INFO [traceId=, spanId=] 1 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoints beneath base path '/actuator'
2025-05-20 07:07:51.966  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-05-20 07:07:52.186  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-05-20 07:07:52.235  INFO [traceId=, spanId=] 1 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-20 07:07:52.335  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-05-20 07:07:52.339  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-05-20 07:07:52.355  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-05-20 07:07:52.359  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-05-20 07:07:52.362  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-05-20 07:07:52.366  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-05-20 07:07:52.369  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-05-20 07:07:53.730  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-05-20 07:07:53.763  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-05-20 07:07:53.780  INFO [traceId=, spanId=] 1 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-05-20 07:07:53.804  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1747724873802 with initial instances count: 3
2025-05-20 07:07:54.125  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ORDERSERVICE with eureka with status UP
2025-05-20 07:07:54.132  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1747724874132, current=UP, previous=STARTING]
2025-05-20 07:07:54.165  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/fa1d23e6c4be:OrderService:9003: registering service...
2025-05-20 07:07:54.271  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9003 (http) with context path '/'
2025-05-20 07:07:54.288  INFO [traceId=, spanId=] 1 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9003
2025-05-20 07:07:54.314  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [rabbitmq:5672]
2025-05-20 07:07:54.501  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/fa1d23e6c4be:OrderService:9003 - registration status: 204
2025-05-20 07:07:54.834  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
2025-05-20 07:07:54.848  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Dropped 2 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused)

org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:925)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:840)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:701)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender.postSpans(ZipkinRestTemplateSender.java:50)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:69)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:41)
	at zipkin2.reporter.BaseHttpSender.send(BaseHttpSender.java:123)
	at zipkin2.reporter.internal.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:266)
	at zipkin2.reporter.internal.AsyncReporter$Flusher.run(AsyncReporter.java:352)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:547)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:602)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:899)
	... 9 common frames omitted

2025-05-20 07:07:55.262  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#b50cfa7:0/SimpleConnection@6aaec13 [delegate=amqp://guest@172.19.0.3:5672/, localPort=32886]
2025-05-20 07:07:56.022  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Started OrderServiceApplication in 128.186 seconds (process running for 137.72)
2025-05-20 07:08:09.873  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-20 07:08:09.877  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-20 07:08:09.894  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 9 ms
2025-05-20 07:12:52.373  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-20 07:12:56.259  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ORDERSERVICE with eureka with status DOWN
2025-05-20 07:12:56.262  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1747725176262, current=DOWN, previous=UP]
2025-05-20 07:12:56.266  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/fa1d23e6c4be:OrderService:9003: registering service...
2025-05-20 07:12:56.286  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-05-20 07:12:56.292  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-05-20 07:12:56.318  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/fa1d23e6c4be:OrderService:9003 - registration status: 204
2025-05-20 07:12:56.964  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-05-20 07:12:57.012  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-05-20 07:12:57.019  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-05-20 07:12:57.086  INFO [traceId=, spanId=] 1 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-05-20 07:12:58.199  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-20 07:12:58.208  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-20 07:12:58.216  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-20 07:12:59.004  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-05-20 07:13:02.007  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-05-20 07:13:02.032  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/fa1d23e6c4be:OrderService:9003 - deregister  status: 200
2025-05-20 07:13:02.034  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-05-20 07:17:36.451  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Starting OrderServiceApplication v0.0.1-SNAPSHOT using Java 17.0.15 with PID 1 (/app/OrderService.jar started by root in /app)
2025-05-20 07:17:36.640 DEBUG [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-05-20 07:17:36.689  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : No active profile set, falling back to 1 default profile: "default"
2025-05-20 07:17:37.381  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-05-20 07:17:37.404  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=application, profiles=[default], label=null, version=1acc8d8659fd96ed52844c8881c260bdb5135241, state=
2025-05-20 07:17:37.410  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-05-20 07:17:37.413  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=OrderService, profiles=[default], label=null, version=1acc8d8659fd96ed52844c8881c260bdb5135241, state=
2025-05-20 07:17:57.638  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-20 07:17:57.726  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-20 07:18:02.102  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 4211 ms. Found 2 JPA repository interfaces.
2025-05-20 07:18:02.471  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-20 07:18:02.540  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-05-20 07:18:02.789  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderDetailRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-20 07:18:02.807  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-20 07:18:02.811  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 77 ms. Found 0 Redis repository interfaces.
2025-05-20 07:18:08.325  INFO [traceId=, spanId=] 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=f9b4fb59-e3a5-3945-a671-7885d95e7545
2025-05-20 07:18:16.041  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9003 (http)
2025-05-20 07:18:16.157  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-20 07:18:16.183  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-05-20 07:18:16.571  INFO [traceId=, spanId=] 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-20 07:18:16.591  INFO [traceId=, spanId=] 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 39164 ms
2025-05-20 07:18:25.546  INFO [traceId=, spanId=] 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-20 07:18:26.517  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-05-20 07:18:27.045  INFO [traceId=, spanId=] 1 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-20 07:18:30.619  INFO [traceId=, spanId=] 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-20 07:18:30.994  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-20 07:18:34.074  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 4fdf70f5-9b93-4051-a191-6ebc648eb041
2025-05-20 07:18:34.124  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-20 07:18:35.041  WARN [traceId=, spanId=] 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-20 07:18:35.283  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-20 07:18:45.751  INFO [traceId=, spanId=] 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-20 07:18:48.418  INFO [traceId=, spanId=] 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-20 07:18:52.885  WARN [traceId=, spanId=] 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-20 07:18:54.420  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'InventoryService' URL not provided. Will try picking an instance via load-balancing.
2025-05-20 07:18:56.342  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'UserService' URL not provided. Will try picking an instance via load-balancing.
2025-05-20 07:19:13.531  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Connecting to localhost with guest user, assuming development environment
2025-05-20 07:19:13.535  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Using address resolver to always connect to localhost
2025-05-20 07:19:21.122  INFO [traceId=, spanId=] 1 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-05-20 07:19:21.820  WARN [traceId=, spanId=] 1 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-05-20 07:19:22.003  INFO [traceId=, spanId=] 1 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoints beneath base path '/actuator'
2025-05-20 07:19:22.721  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-05-20 07:19:23.028  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-05-20 07:19:23.093  INFO [traceId=, spanId=] 1 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-20 07:19:23.197  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-05-20 07:19:23.201  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-05-20 07:19:23.204  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-05-20 07:19:23.209  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-05-20 07:19:23.216  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-05-20 07:19:23.222  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-05-20 07:19:23.243  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-05-20 07:19:24.503  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-05-20 07:19:24.535  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-05-20 07:19:24.547  INFO [traceId=, spanId=] 1 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-05-20 07:19:24.576  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1747725564575 with initial instances count: 3
2025-05-20 07:19:24.615  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ORDERSERVICE with eureka with status UP
2025-05-20 07:19:24.620  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1747725564620, current=UP, previous=STARTING]
2025-05-20 07:19:24.637  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/41d11fdc13ca:OrderService:9003: registering service...
2025-05-20 07:19:24.742  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9003 (http) with context path '/'
2025-05-20 07:19:24.748  INFO [traceId=, spanId=] 1 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9003
2025-05-20 07:19:24.781  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [rabbitmq:5672]
2025-05-20 07:19:24.907  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/41d11fdc13ca:OrderService:9003 - registration status: 204
2025-05-20 07:19:25.277  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#1f2eb34c:0/SimpleConnection@67488c90 [delegate=amqp://guest@172.19.0.3:5672/, localPort=40446]
2025-05-20 07:19:25.545  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
2025-05-20 07:19:25.548  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Dropped 2 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused)

org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:925)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:840)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:701)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender.postSpans(ZipkinRestTemplateSender.java:50)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:69)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:41)
	at zipkin2.reporter.BaseHttpSender.send(BaseHttpSender.java:123)
	at zipkin2.reporter.internal.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:266)
	at zipkin2.reporter.internal.AsyncReporter$Flusher.run(AsyncReporter.java:352)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:547)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:602)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:899)
	... 9 common frames omitted

2025-05-20 07:19:26.045  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Started OrderServiceApplication in 126.331 seconds (process running for 134.088)
2025-05-20 07:19:43.626  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-20 07:19:43.628  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-20 07:19:43.640  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 8 ms
2025-05-20 07:24:23.257  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-20 07:28:52.955  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ORDERSERVICE with eureka with status DOWN
2025-05-20 07:28:52.978  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1747726132978, current=DOWN, previous=UP]
2025-05-20 07:28:52.999  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/41d11fdc13ca:OrderService:9003: registering service...
2025-05-20 07:28:53.113  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/41d11fdc13ca:OrderService:9003 - registration status: 204
2025-05-20 07:28:54.031  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-05-20 07:28:54.039  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-05-20 07:28:54.038  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-05-20 07:28:54.050  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-05-20 07:28:54.151  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-05-20 07:28:54.229  INFO [traceId=, spanId=] 1 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-05-20 07:28:57.507  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-20 07:28:57.712  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-20 07:28:57.764  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-20 07:28:58.501  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-05-20 07:29:01.506  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-05-20 07:29:01.543  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/41d11fdc13ca:OrderService:9003 - deregister  status: 200
2025-05-20 07:29:01.545  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-05-20 07:34:08.521  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Starting OrderServiceApplication v0.0.1-SNAPSHOT using Java 17.0.15 with PID 1 (/app/OrderService.jar started by root in /app)
2025-05-20 07:34:08.749 DEBUG [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-05-20 07:34:08.788  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : No active profile set, falling back to 1 default profile: "default"
2025-05-20 07:34:09.898  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-05-20 07:34:09.949  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=application, profiles=[default], label=null, version=1acc8d8659fd96ed52844c8881c260bdb5135241, state=
2025-05-20 07:34:09.962  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-05-20 07:34:10.066  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=OrderService, profiles=[default], label=null, version=1acc8d8659fd96ed52844c8881c260bdb5135241, state=
2025-05-20 07:34:31.428  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-20 07:34:31.500  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-20 07:34:33.484  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1868 ms. Found 2 JPA repository interfaces.
2025-05-20 07:34:33.764  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-20 07:34:33.781  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-05-20 07:34:34.264  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderDetailRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-20 07:34:34.276  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-20 07:34:34.300  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 51 ms. Found 0 Redis repository interfaces.
2025-05-20 07:34:40.704  INFO [traceId=, spanId=] 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=f9b4fb59-e3a5-3945-a671-7885d95e7545
2025-05-20 07:34:53.293  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9003 (http)
2025-05-20 07:34:53.405  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-20 07:34:53.410  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-05-20 07:34:54.129  INFO [traceId=, spanId=] 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-20 07:34:54.132  INFO [traceId=, spanId=] 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 44041 ms
2025-05-20 07:35:00.205  INFO [traceId=, spanId=] 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-20 07:35:00.767  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-05-20 07:35:01.120  INFO [traceId=, spanId=] 1 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-20 07:35:03.401  INFO [traceId=, spanId=] 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-20 07:35:03.720  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-20 07:35:05.748  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 571e49de-a6dc-4a0e-8b5c-290fb64da372
2025-05-20 07:35:05.770  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-20 07:35:06.275  WARN [traceId=, spanId=] 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-20 07:35:06.534  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-20 07:35:16.315  INFO [traceId=, spanId=] 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-20 07:35:19.337  INFO [traceId=, spanId=] 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-20 07:35:25.527  WARN [traceId=, spanId=] 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-20 07:35:27.023  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'InventoryService' URL not provided. Will try picking an instance via load-balancing.
2025-05-20 07:35:28.935  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'UserService' URL not provided. Will try picking an instance via load-balancing.
2025-05-20 07:35:47.062  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Connecting to localhost with guest user, assuming development environment
2025-05-20 07:35:47.065  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Using address resolver to always connect to localhost
2025-05-20 07:35:54.364  INFO [traceId=, spanId=] 1 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-05-20 07:35:55.180  WARN [traceId=, spanId=] 1 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-05-20 07:35:55.367  INFO [traceId=, spanId=] 1 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoints beneath base path '/actuator'
2025-05-20 07:35:56.677  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-05-20 07:35:57.554  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-05-20 07:35:57.626  INFO [traceId=, spanId=] 1 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-20 07:35:57.885  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-05-20 07:35:57.886  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-05-20 07:35:57.887  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-05-20 07:35:57.889  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-05-20 07:35:57.890  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-05-20 07:35:57.892  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-05-20 07:35:57.894  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-05-20 07:35:59.388  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-05-20 07:35:59.398  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-05-20 07:35:59.413  INFO [traceId=, spanId=] 1 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-05-20 07:35:59.421  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1747726559420 with initial instances count: 3
2025-05-20 07:35:59.451  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ORDERSERVICE with eureka with status UP
2025-05-20 07:35:59.455  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1747726559455, current=UP, previous=STARTING]
2025-05-20 07:35:59.463  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/0bba4cc0e7c2:OrderService:9003: registering service...
2025-05-20 07:35:59.601  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9003 (http) with context path '/'
2025-05-20 07:35:59.616  INFO [traceId=, spanId=] 1 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9003
2025-05-20 07:35:59.670  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [rabbitmq:5672]
2025-05-20 07:35:59.833  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/0bba4cc0e7c2:OrderService:9003 - registration status: 204
2025-05-20 07:36:00.372  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#64356fe1:0/SimpleConnection@414776fb [delegate=amqp://guest@172.19.0.2:5672/, localPort=58912]
2025-05-20 07:36:00.421  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
2025-05-20 07:36:00.426  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Dropped 2 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused)

org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:925)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:840)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:701)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender.postSpans(ZipkinRestTemplateSender.java:50)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:69)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:41)
	at zipkin2.reporter.BaseHttpSender.send(BaseHttpSender.java:123)
	at zipkin2.reporter.internal.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:266)
	at zipkin2.reporter.internal.AsyncReporter$Flusher.run(AsyncReporter.java:352)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:547)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:602)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:899)
	... 9 common frames omitted

2025-05-20 07:36:01.038  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Started OrderServiceApplication in 134.448 seconds (process running for 147.177)
2025-05-20 07:36:06.345  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-20 07:36:06.355  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-20 07:36:06.382  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 19 ms
2025-05-20 07:40:57.875  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-20 07:45:57.858  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-20 07:50:10.752  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ORDERSERVICE with eureka with status DOWN
2025-05-20 07:50:10.756  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1747727410756, current=DOWN, previous=UP]
2025-05-20 07:50:10.761  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/0bba4cc0e7c2:OrderService:9003: registering service...
2025-05-20 07:50:10.822  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/0bba4cc0e7c2:OrderService:9003 - registration status: 204
2025-05-20 07:50:10.901  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-05-20 07:50:10.906  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-05-20 07:50:11.073  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-05-20 07:50:11.087  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-05-20 07:50:11.100  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-05-20 07:50:11.114  INFO [traceId=, spanId=] 1 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-05-20 07:50:12.291  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-20 07:50:12.313  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-20 07:50:12.322  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-20 07:50:12.705  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-05-20 07:50:15.707  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-05-20 07:50:15.717  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/0bba4cc0e7c2:OrderService:9003 - deregister  status: 200
2025-05-20 07:50:15.719  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-05-20 07:53:23.198  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Starting OrderServiceApplication v0.0.1-SNAPSHOT using Java 17.0.15 with PID 1 (/app/OrderService.jar started by root in /app)
2025-05-20 07:53:23.328 DEBUG [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-05-20 07:53:23.352  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : No active profile set, falling back to 1 default profile: "default"
2025-05-20 07:53:24.184  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-05-20 07:53:24.216  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=application, profiles=[default], label=null, version=1acc8d8659fd96ed52844c8881c260bdb5135241, state=
2025-05-20 07:53:24.223  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-05-20 07:53:24.237  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=OrderService, profiles=[default], label=null, version=1acc8d8659fd96ed52844c8881c260bdb5135241, state=
2025-05-20 07:53:39.808  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-20 07:53:39.851  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-20 07:53:41.645  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1661 ms. Found 2 JPA repository interfaces.
2025-05-20 07:53:41.801  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-20 07:53:41.834  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-05-20 07:53:41.938  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderDetailRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-20 07:53:41.944  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-20 07:53:41.965  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 52 ms. Found 0 Redis repository interfaces.
2025-05-20 07:53:46.157  INFO [traceId=, spanId=] 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=f9b4fb59-e3a5-3945-a671-7885d95e7545
2025-05-20 07:53:52.751  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9003 (http)
2025-05-20 07:53:52.908  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-20 07:53:52.912  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-05-20 07:53:53.203  INFO [traceId=, spanId=] 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-20 07:53:53.219  INFO [traceId=, spanId=] 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 28940 ms
2025-05-20 07:53:59.345  INFO [traceId=, spanId=] 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-20 07:53:59.814  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-05-20 07:54:00.057  INFO [traceId=, spanId=] 1 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-20 07:54:02.105  INFO [traceId=, spanId=] 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-20 07:54:02.326  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-20 07:54:03.296  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: cd08b0c7-1887-4304-aa68-2c4cf5c3aec4
2025-05-20 07:54:03.307  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-20 07:54:03.568  WARN [traceId=, spanId=] 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-20 07:54:03.699  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-20 07:54:08.497  INFO [traceId=, spanId=] 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-20 07:54:10.554  INFO [traceId=, spanId=] 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-20 07:54:13.554  WARN [traceId=, spanId=] 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-20 07:54:14.538  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'InventoryService' URL not provided. Will try picking an instance via load-balancing.
2025-05-20 07:54:15.855  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'UserService' URL not provided. Will try picking an instance via load-balancing.
2025-05-20 07:54:25.545  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Connecting to localhost with guest user, assuming development environment
2025-05-20 07:54:25.557  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Using address resolver to always connect to localhost
2025-05-20 07:54:29.624  INFO [traceId=, spanId=] 1 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-05-20 07:54:29.963  WARN [traceId=, spanId=] 1 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-05-20 07:54:30.054  INFO [traceId=, spanId=] 1 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoints beneath base path '/actuator'
2025-05-20 07:54:30.390  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-05-20 07:54:30.466  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-05-20 07:54:30.483  INFO [traceId=, spanId=] 1 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-20 07:54:30.517  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-05-20 07:54:30.520  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-05-20 07:54:30.522  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-05-20 07:54:30.524  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-05-20 07:54:30.526  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-05-20 07:54:30.529  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-05-20 07:54:30.532  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-05-20 07:54:31.040  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-05-20 07:54:31.046  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-05-20 07:54:31.051  INFO [traceId=, spanId=] 1 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-05-20 07:54:31.057  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1747727671056 with initial instances count: 5
2025-05-20 07:54:31.077  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ORDERSERVICE with eureka with status UP
2025-05-20 07:54:31.080  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1747727671080, current=UP, previous=STARTING]
2025-05-20 07:54:31.085  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/f23a51f2a059:OrderService:9003: registering service...
2025-05-20 07:54:31.124  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9003 (http) with context path '/'
2025-05-20 07:54:31.127  INFO [traceId=, spanId=] 1 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9003
2025-05-20 07:54:31.137  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [rabbitmq:5672]
2025-05-20 07:54:31.186  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/f23a51f2a059:OrderService:9003 - registration status: 204
2025-05-20 07:54:31.321  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#6f4249cb:0/SimpleConnection@1b0ff95b [delegate=amqp://guest@172.19.0.3:5672/, localPort=50420]
2025-05-20 07:54:31.645  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Started OrderServiceApplication in 82.146 seconds (process running for 86.379)
2025-05-20 07:54:32.061  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
2025-05-20 07:54:32.063  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Dropped 2 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused)

org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:925)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:840)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:701)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender.postSpans(ZipkinRestTemplateSender.java:50)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:69)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:41)
	at zipkin2.reporter.BaseHttpSender.send(BaseHttpSender.java:123)
	at zipkin2.reporter.internal.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:266)
	at zipkin2.reporter.internal.AsyncReporter$Flusher.run(AsyncReporter.java:352)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:547)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:602)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:899)
	... 9 common frames omitted

2025-05-20 07:54:35.869  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-20 07:54:35.872  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-20 07:54:35.885  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 10 ms
2025-05-20 07:58:22.626  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ORDERSERVICE with eureka with status DOWN
2025-05-20 07:58:22.630  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1747727902630, current=DOWN, previous=UP]
2025-05-20 07:58:22.633  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/f23a51f2a059:OrderService:9003: registering service...
2025-05-20 07:58:22.653  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/f23a51f2a059:OrderService:9003 - registration status: 204
2025-05-20 07:58:22.666  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-05-20 07:58:22.671  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-05-20 07:58:22.678  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-05-20 07:58:23.652  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-05-20 07:58:23.654  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-05-20 07:58:23.659  INFO [traceId=, spanId=] 1 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-05-20 07:58:24.733  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-20 07:58:24.739  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-20 07:58:24.747  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-20 07:58:25.148  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-05-20 07:58:28.150  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-05-20 07:58:28.162  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/f23a51f2a059:OrderService:9003 - deregister  status: 200
2025-05-20 07:58:28.164  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-05-20 08:01:44.012  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Starting OrderServiceApplication v0.0.1-SNAPSHOT using Java 17.0.15 with PID 1 (/app/OrderService.jar started by root in /app)
2025-05-20 08:01:44.043 DEBUG [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-05-20 08:01:44.050  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : No active profile set, falling back to 1 default profile: "default"
2025-05-20 08:01:44.380  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-05-20 08:01:44.383  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=application, profiles=[default], label=null, version=1acc8d8659fd96ed52844c8881c260bdb5135241, state=
2025-05-20 08:01:44.386  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-05-20 08:01:44.394  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=OrderService, profiles=[default], label=null, version=1acc8d8659fd96ed52844c8881c260bdb5135241, state=
2025-05-20 08:01:58.479  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-20 08:01:58.501  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-20 08:01:59.911  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1335 ms. Found 2 JPA repository interfaces.
2025-05-20 08:02:00.100  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-20 08:02:00.134  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-05-20 08:02:00.261  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderDetailRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-20 08:02:00.271  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-20 08:02:00.274  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 44 ms. Found 0 Redis repository interfaces.
2025-05-20 08:02:04.808  INFO [traceId=, spanId=] 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=f9b4fb59-e3a5-3945-a671-7885d95e7545
2025-05-20 08:02:10.167  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9003 (http)
2025-05-20 08:02:10.221  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-20 08:02:10.236  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-05-20 08:02:10.491  INFO [traceId=, spanId=] 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-20 08:02:10.501  INFO [traceId=, spanId=] 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 26094 ms
2025-05-20 08:02:15.194  INFO [traceId=, spanId=] 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-20 08:02:15.637  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-05-20 08:02:15.817  INFO [traceId=, spanId=] 1 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-20 08:02:18.013  INFO [traceId=, spanId=] 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-20 08:02:18.257  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-20 08:02:19.151  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 2c1cfb60-c168-4a9f-9264-233108566ccf
2025-05-20 08:02:19.163  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-20 08:02:19.391  WARN [traceId=, spanId=] 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-20 08:02:19.519  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-20 08:02:23.723  INFO [traceId=, spanId=] 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-20 08:02:25.357  INFO [traceId=, spanId=] 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-20 08:02:28.062  WARN [traceId=, spanId=] 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-20 08:02:28.851  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'InventoryService' URL not provided. Will try picking an instance via load-balancing.
2025-05-20 08:02:29.792  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'UserService' URL not provided. Will try picking an instance via load-balancing.
2025-05-20 08:02:37.707  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Connecting to localhost with guest user, assuming development environment
2025-05-20 08:02:37.709  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Using address resolver to always connect to localhost
2025-05-20 08:02:41.178  INFO [traceId=, spanId=] 1 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-05-20 08:02:41.558  WARN [traceId=, spanId=] 1 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-05-20 08:02:41.637  INFO [traceId=, spanId=] 1 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoints beneath base path '/actuator'
2025-05-20 08:02:41.952  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-05-20 08:02:42.031  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-05-20 08:02:42.044  INFO [traceId=, spanId=] 1 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-20 08:02:42.069  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-05-20 08:02:42.071  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-05-20 08:02:42.073  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-05-20 08:02:42.075  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-05-20 08:02:42.076  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-05-20 08:02:42.078  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-05-20 08:02:42.080  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-05-20 08:02:42.482  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-05-20 08:02:42.487  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-05-20 08:02:42.492  INFO [traceId=, spanId=] 1 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-05-20 08:02:42.496  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1747728162495 with initial instances count: 3
2025-05-20 08:02:42.519  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ORDERSERVICE with eureka with status UP
2025-05-20 08:02:42.522  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1747728162522, current=UP, previous=STARTING]
2025-05-20 08:02:42.527  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/c9c2ed534659:OrderService:9003: registering service...
2025-05-20 08:02:42.571  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9003 (http) with context path '/'
2025-05-20 08:02:42.574  INFO [traceId=, spanId=] 1 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9003
2025-05-20 08:02:42.586  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [rabbitmq:5672]
2025-05-20 08:02:42.629  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/c9c2ed534659:OrderService:9003 - registration status: 204
2025-05-20 08:02:42.761  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#40f2ae53:0/SimpleConnection@50a9fa29 [delegate=amqp://guest@172.19.0.3:5672/, localPort=45868]
2025-05-20 08:02:43.026  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Started OrderServiceApplication in 72.955 seconds (process running for 77.865)
2025-05-20 08:02:43.496  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
2025-05-20 08:02:43.499  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Dropped 2 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused)

org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:925)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:840)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:701)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender.postSpans(ZipkinRestTemplateSender.java:50)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:69)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:41)
	at zipkin2.reporter.BaseHttpSender.send(BaseHttpSender.java:123)
	at zipkin2.reporter.internal.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:266)
	at zipkin2.reporter.internal.AsyncReporter$Flusher.run(AsyncReporter.java:352)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:547)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:602)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:899)
	... 9 common frames omitted

2025-05-20 08:02:55.639  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-20 08:02:55.641  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-20 08:02:55.650  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2025-05-20 08:07:42.067  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-20 08:12:42.053  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-20 08:17:42.040  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-20 08:22:42.027  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-20 08:27:42.014  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-20 08:32:42.001  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-20 08:37:41.989  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-20 08:42:41.977  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-20 08:47:41.966  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-20 08:49:56.276  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ORDERSERVICE with eureka with status DOWN
2025-05-20 08:49:56.282  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1747730996281, current=DOWN, previous=UP]
2025-05-20 08:49:56.286  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/c9c2ed534659:OrderService:9003: registering service...
2025-05-20 08:49:56.352  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/c9c2ed534659:OrderService:9003 - registration status: 204
2025-05-20 08:49:56.658  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-05-20 08:49:56.662  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-05-20 08:49:57.420  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-05-20 08:49:57.426  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-05-20 08:49:57.457  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-05-20 08:49:57.481  INFO [traceId=, spanId=] 1 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-05-20 08:49:58.892  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-20 08:49:58.943  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-20 08:49:58.957  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-20 08:49:59.428  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-05-20 08:50:02.431  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-05-20 08:50:02.446  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/c9c2ed534659:OrderService:9003 - deregister  status: 200
2025-05-20 08:50:02.448  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-05-20 08:53:16.026  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Starting OrderServiceApplication v0.0.1-SNAPSHOT using Java 17.0.15 with PID 1 (/app/OrderService.jar started by root in /app)
2025-05-20 08:53:16.055 DEBUG [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-05-20 08:53:16.059  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : No active profile set, falling back to 1 default profile: "default"
2025-05-20 08:53:16.317  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-05-20 08:53:16.319  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=application, profiles=[default], label=null, version=1acc8d8659fd96ed52844c8881c260bdb5135241, state=
2025-05-20 08:53:16.322  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-05-20 08:53:16.324  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=OrderService, profiles=[default], label=null, version=1acc8d8659fd96ed52844c8881c260bdb5135241, state=
2025-05-20 08:53:30.314  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-20 08:53:30.346  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-20 08:53:31.875  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1429 ms. Found 2 JPA repository interfaces.
2025-05-20 08:53:31.996  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-20 08:53:32.007  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-05-20 08:53:32.118  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderDetailRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-20 08:53:32.128  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-20 08:53:32.134  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 51 ms. Found 0 Redis repository interfaces.
2025-05-20 08:53:36.466  INFO [traceId=, spanId=] 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=f9b4fb59-e3a5-3945-a671-7885d95e7545
2025-05-20 08:53:43.443  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9003 (http)
2025-05-20 08:53:43.556  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-20 08:53:43.578  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-05-20 08:53:43.845  INFO [traceId=, spanId=] 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-20 08:53:43.878  INFO [traceId=, spanId=] 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 27542 ms
2025-05-20 08:53:51.499  INFO [traceId=, spanId=] 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-20 08:53:52.002  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-05-20 08:53:52.240  INFO [traceId=, spanId=] 1 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-20 08:53:54.332  INFO [traceId=, spanId=] 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-20 08:53:54.579  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-20 08:53:55.608  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 2ebf8f41-1fbf-42f4-9000-bb4aaa872112
2025-05-20 08:53:55.643  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-20 08:53:55.957  WARN [traceId=, spanId=] 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-20 08:53:56.162  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-20 08:54:03.080  INFO [traceId=, spanId=] 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-20 08:54:04.546  INFO [traceId=, spanId=] 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-20 08:54:07.819  WARN [traceId=, spanId=] 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-20 08:54:08.703  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'InventoryService' URL not provided. Will try picking an instance via load-balancing.
2025-05-20 08:54:09.534  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'UserService' URL not provided. Will try picking an instance via load-balancing.
2025-05-20 08:54:19.337  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Connecting to localhost with guest user, assuming development environment
2025-05-20 08:54:19.340  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Using address resolver to always connect to localhost
2025-05-20 08:54:23.930  INFO [traceId=, spanId=] 1 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-05-20 08:54:24.282  WARN [traceId=, spanId=] 1 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-05-20 08:54:24.377  INFO [traceId=, spanId=] 1 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoints beneath base path '/actuator'
2025-05-20 08:54:24.725  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-05-20 08:54:24.815  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-05-20 08:54:24.830  INFO [traceId=, spanId=] 1 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-20 08:54:24.855  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-05-20 08:54:24.857  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-05-20 08:54:24.859  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-05-20 08:54:24.861  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-05-20 08:54:24.863  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-05-20 08:54:24.865  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-05-20 08:54:24.867  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-05-20 08:54:25.422  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-05-20 08:54:25.429  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-05-20 08:54:25.436  INFO [traceId=, spanId=] 1 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-05-20 08:54:25.442  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1747731265441 with initial instances count: 3
2025-05-20 08:54:25.467  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ORDERSERVICE with eureka with status UP
2025-05-20 08:54:25.471  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1747731265471, current=UP, previous=STARTING]
2025-05-20 08:54:25.476  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/ef929f9c4266:OrderService:9003: registering service...
2025-05-20 08:54:25.510  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9003 (http) with context path '/'
2025-05-20 08:54:25.514  INFO [traceId=, spanId=] 1 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9003
2025-05-20 08:54:25.526  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [rabbitmq:5672]
2025-05-20 08:54:25.595  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/ef929f9c4266:OrderService:9003 - registration status: 204
2025-05-20 08:54:25.753  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#1dece75a:0/SimpleConnection@68af530a [delegate=amqp://guest@172.19.0.3:5672/, localPort=54406]
2025-05-20 08:54:26.128  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Started OrderServiceApplication in 81.554 seconds (process running for 86.382)
2025-05-20 08:54:26.433  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
2025-05-20 08:54:26.436  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Dropped 2 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused)

org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:925)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:840)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:701)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender.postSpans(ZipkinRestTemplateSender.java:50)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:69)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:41)
	at zipkin2.reporter.BaseHttpSender.send(BaseHttpSender.java:123)
	at zipkin2.reporter.internal.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:266)
	at zipkin2.reporter.internal.AsyncReporter$Flusher.run(AsyncReporter.java:352)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:547)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:602)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:899)
	... 9 common frames omitted

2025-05-20 08:54:30.810  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-20 08:54:30.813  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-20 08:54:30.824  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 7 ms
2025-05-20 08:55:53.071  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ORDERSERVICE with eureka with status DOWN
2025-05-20 08:55:53.073  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1747731353073, current=DOWN, previous=UP]
2025-05-20 08:55:53.074  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/ef929f9c4266:OrderService:9003: registering service...
2025-05-20 08:55:53.092  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/ef929f9c4266:OrderService:9003 - registration status: 204
2025-05-20 08:55:53.092  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-05-20 08:55:53.094  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-05-20 08:55:53.096  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-05-20 08:55:54.078  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-05-20 08:55:54.081  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-05-20 08:55:54.085  INFO [traceId=, spanId=] 1 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-05-20 08:55:55.155  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-20 08:55:55.158  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-20 08:55:55.164  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-20 08:55:55.484  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-05-20 08:55:58.486  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-05-20 08:55:58.501  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/ef929f9c4266:OrderService:9003 - deregister  status: 200
2025-05-20 08:55:58.502  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-05-20 08:59:06.803  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Starting OrderServiceApplication v0.0.1-SNAPSHOT using Java 17.0.15 with PID 1 (/app/OrderService.jar started by root in /app)
2025-05-20 08:59:06.825 DEBUG [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-05-20 08:59:06.829  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : No active profile set, falling back to 1 default profile: "default"
2025-05-20 08:59:06.963  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-05-20 08:59:06.966  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=application, profiles=[default], label=null, version=1acc8d8659fd96ed52844c8881c260bdb5135241, state=
2025-05-20 08:59:06.968  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-05-20 08:59:06.971  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=OrderService, profiles=[default], label=null, version=1acc8d8659fd96ed52844c8881c260bdb5135241, state=
2025-05-20 08:59:14.741  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-20 08:59:14.753  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-20 08:59:15.383  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 583 ms. Found 2 JPA repository interfaces.
2025-05-20 08:59:15.461  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-20 08:59:15.467  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-05-20 08:59:15.524  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderDetailRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-20 08:59:15.528  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-20 08:59:15.531  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 22 ms. Found 0 Redis repository interfaces.
2025-05-20 08:59:17.455  INFO [traceId=, spanId=] 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=f9b4fb59-e3a5-3945-a671-7885d95e7545
2025-05-20 11:55:27.946  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Starting OrderServiceApplication v0.0.1-SNAPSHOT using Java 17.0.15 with PID 1 (/app/OrderService.jar started by root in /app)
2025-05-20 11:55:27.980 DEBUG [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-05-20 11:55:27.985  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : No active profile set, falling back to 1 default profile: "default"
2025-05-20 11:55:28.246  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-05-20 11:55:28.250  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=application, profiles=[default], label=null, version=1acc8d8659fd96ed52844c8881c260bdb5135241, state=
2025-05-20 11:55:28.253  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-05-20 11:55:28.256  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=OrderService, profiles=[default], label=null, version=1acc8d8659fd96ed52844c8881c260bdb5135241, state=
2025-05-20 11:55:44.544  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-20 11:55:44.609  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-20 11:55:46.391  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1779 ms. Found 2 JPA repository interfaces.
2025-05-20 11:55:46.728  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-20 11:55:46.766  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-05-20 11:55:47.047  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderDetailRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-20 11:55:47.080  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-20 11:55:47.099  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 108 ms. Found 0 Redis repository interfaces.
2025-05-20 11:55:54.262  INFO [traceId=, spanId=] 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=f9b4fb59-e3a5-3945-a671-7885d95e7545
2025-05-20 11:56:05.249  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9003 (http)
2025-05-20 11:56:05.363  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-20 11:56:05.367  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-05-20 11:56:05.950  INFO [traceId=, spanId=] 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-20 11:56:05.970  INFO [traceId=, spanId=] 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 37705 ms
2025-05-20 11:56:15.460  INFO [traceId=, spanId=] 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-20 11:56:16.033  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-05-20 11:56:16.229  INFO [traceId=, spanId=] 1 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-20 11:56:17.284  INFO [traceId=, spanId=] 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-20 11:56:17.401  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-20 11:56:18.007  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 1dc5d57a-a174-4b3f-867f-0fd727d26edf
2025-05-20 11:56:18.025  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-20 11:56:18.245  WARN [traceId=, spanId=] 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-20 11:56:18.378  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-20 11:56:22.677  INFO [traceId=, spanId=] 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-20 11:56:24.076  INFO [traceId=, spanId=] 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-20 11:56:26.859  WARN [traceId=, spanId=] 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-20 11:56:27.613  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'InventoryService' URL not provided. Will try picking an instance via load-balancing.
2025-05-20 11:56:28.691  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'UserService' URL not provided. Will try picking an instance via load-balancing.
2025-05-20 11:56:37.030  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Connecting to localhost with guest user, assuming development environment
2025-05-20 11:56:37.033  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Using address resolver to always connect to localhost
2025-05-20 11:56:40.675  INFO [traceId=, spanId=] 1 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-05-20 11:56:41.201  WARN [traceId=, spanId=] 1 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-05-20 11:56:41.334  INFO [traceId=, spanId=] 1 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoints beneath base path '/actuator'
2025-05-20 11:56:41.668  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-05-20 11:56:41.752  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-05-20 11:56:41.770  INFO [traceId=, spanId=] 1 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-20 11:56:41.807  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-05-20 11:56:41.811  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-05-20 11:56:41.814  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-05-20 11:56:41.817  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-05-20 11:56:41.820  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-05-20 11:56:41.822  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-05-20 11:56:41.825  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-05-20 11:56:42.326  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-05-20 11:56:42.332  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-05-20 11:56:42.374  INFO [traceId=, spanId=] 1 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-05-20 11:56:42.380  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1747742202379 with initial instances count: 3
2025-05-20 11:56:42.444  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ORDERSERVICE with eureka with status UP
2025-05-20 11:56:42.449  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1747742202448, current=UP, previous=STARTING]
2025-05-20 11:56:42.459  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/c47d4ed57af1:OrderService:9003: registering service...
2025-05-20 11:56:42.516  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9003 (http) with context path '/'
2025-05-20 11:56:42.521  INFO [traceId=, spanId=] 1 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9003
2025-05-20 11:56:42.535  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [rabbitmq:5672]
2025-05-20 11:56:42.608  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/c47d4ed57af1:OrderService:9003 - registration status: 204
2025-05-20 11:56:42.889  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#30082a5e:0/SimpleConnection@43ee5d81 [delegate=amqp://guest@172.19.0.5:5672/, localPort=57502]
2025-05-20 11:56:43.349  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
2025-05-20 11:56:43.351  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Dropped 2 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused)

org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:925)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:840)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:701)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender.postSpans(ZipkinRestTemplateSender.java:50)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:69)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:41)
	at zipkin2.reporter.BaseHttpSender.send(BaseHttpSender.java:123)
	at zipkin2.reporter.internal.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:266)
	at zipkin2.reporter.internal.AsyncReporter$Flusher.run(AsyncReporter.java:352)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:547)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:602)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:899)
	... 9 common frames omitted

2025-05-20 11:56:43.365  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Started OrderServiceApplication in 89.002 seconds (process running for 94.799)
2025-05-20 11:57:09.124  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-20 11:57:09.126  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-20 11:57:09.133  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2025-05-20 12:01:41.846  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-20 12:06:41.833  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-20 12:11:41.820  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-20 12:16:41.807  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-20 12:21:41.795  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-20 12:26:41.782  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-20 12:30:17.649  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ORDERSERVICE with eureka with status DOWN
2025-05-20 12:30:17.653  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1747744217653, current=DOWN, previous=UP]
2025-05-20 12:30:17.661  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/c47d4ed57af1:OrderService:9003: registering service...
2025-05-20 12:30:17.765  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/c47d4ed57af1:OrderService:9003 - registration status: 204
2025-05-20 12:30:17.930  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-05-20 12:30:17.932  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-05-20 12:30:18.602  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-05-20 12:30:18.606  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-05-20 12:30:18.625  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-05-20 12:30:18.642  INFO [traceId=, spanId=] 1 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-05-20 12:30:19.906  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-20 12:30:19.954  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-20 12:30:19.964  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-20 12:30:20.919  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-05-20 12:30:23.921  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-05-20 12:30:23.932  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/c47d4ed57af1:OrderService:9003 - deregister  status: 200
2025-05-20 12:30:23.934  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
