2025-04-12 02:23:14.382  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Starting OrderServiceApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 1 (/app/OrderService.jar started by root in /app)
2025-04-12 02:23:14.454 DEBUG [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-04-12 02:23:14.462  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : No active profile set, falling back to 1 default profile: "default"
2025-04-12 02:23:14.694  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-12 02:23:14.697  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=application, profiles=[default], label=null, version=2efb5a6a549b71a42b590f6a2b08183ed8af3466, state=
2025-04-12 02:23:14.700  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-12 02:23:14.703  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=OrderService, profiles=[default], label=null, version=2efb5a6a549b71a42b590f6a2b08183ed8af3466, state=
2025-04-12 02:23:24.269  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-12 02:23:24.280  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-12 02:23:25.281  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 956 ms. Found 2 JPA repository interfaces.
2025-04-12 02:23:25.409  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-12 02:23:25.424  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-04-12 02:23:25.553  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderDetailRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-12 02:23:25.560  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-12 02:23:25.573  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 73 ms. Found 0 Redis repository interfaces.
2025-04-12 02:23:28.331  INFO [traceId=, spanId=] 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=90b70314-821f-37c8-94e4-137079bd6dbe
2025-04-12 02:23:32.714  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9003 (http)
2025-04-12 02:23:32.780  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-12 02:23:32.785  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-12 02:23:33.006  INFO [traceId=, spanId=] 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-12 02:23:33.014  INFO [traceId=, spanId=] 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 18302 ms
2025-04-12 02:23:37.720  INFO [traceId=, spanId=] 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-12 02:23:38.129  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-12 02:23:38.382  INFO [traceId=, spanId=] 1 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-12 02:23:39.994  INFO [traceId=, spanId=] 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-12 02:23:40.142  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-12 02:23:41.301  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: e5c681c9-5e6b-471d-a3d9-4580b5f25f95
2025-04-12 02:23:41.313  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-12 02:23:41.690  WARN [traceId=, spanId=] 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-12 02:23:41.821  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-12 02:23:46.595  INFO [traceId=, spanId=] 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-12 02:23:47.883  INFO [traceId=, spanId=] 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 02:23:51.241  WARN [traceId=, spanId=] 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-12 02:23:53.271  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'InventoryService' URL not provided. Will try picking an instance via load-balancing.
2025-04-12 02:23:55.832  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'UserService' URL not provided. Will try picking an instance via load-balancing.
2025-04-12 02:24:04.981  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Connecting to localhost with guest user, assuming development environment
2025-04-12 02:24:04.983  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Using address resolver to always connect to localhost
2025-04-12 02:24:08.048  INFO [traceId=, spanId=] 1 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-04-12 02:24:08.461  WARN [traceId=, spanId=] 1 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-04-12 02:24:08.666  INFO [traceId=, spanId=] 1 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoints beneath base path '/actuator'
2025-04-12 02:24:09.217  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-04-12 02:24:09.356  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-04-12 02:24:09.375  INFO [traceId=, spanId=] 1 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 02:24:09.422  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-04-12 02:24:09.424  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-04-12 02:24:09.427  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-04-12 02:24:09.429  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-04-12 02:24:09.433  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-04-12 02:24:09.435  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-04-12 02:24:09.438  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-04-12 02:24:10.158  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-04-12 02:24:10.168  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-04-12 02:24:10.180  INFO [traceId=, spanId=] 1 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-04-12 02:24:10.190  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1744424650187 with initial instances count: 5
2025-04-12 02:24:10.245  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ORDERSERVICE with eureka with status UP
2025-04-12 02:24:10.255  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744424650255, current=UP, previous=STARTING]
2025-04-12 02:24:10.267  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/20038ec24239:OrderService:9003: registering service...
2025-04-12 02:24:10.320  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9003 (http) with context path '/'
2025-04-12 02:24:10.327  INFO [traceId=, spanId=] 1 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9003
2025-04-12 02:24:10.354  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [rabbitmq:5672]
2025-04-12 02:24:10.457  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/20038ec24239:OrderService:9003 - registration status: 204
2025-04-12 02:24:10.678  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#73ac846:0/SimpleConnection@25fcc928 [delegate=amqp://guest@172.19.0.4:5672/, localPort=35802]
2025-04-12 02:24:11.153  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Started OrderServiceApplication in 67.137 seconds (process running for 69.845)
2025-04-12 02:24:11.182  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
2025-04-12 02:24:11.188  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Dropped 2 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused)

org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:925)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:840)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:701)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender.postSpans(ZipkinRestTemplateSender.java:50)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:69)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:41)
	at zipkin2.reporter.BaseHttpSender.send(BaseHttpSender.java:123)
	at zipkin2.reporter.internal.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:266)
	at zipkin2.reporter.internal.AsyncReporter$Flusher.run(AsyncReporter.java:352)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:899)
	... 9 common frames omitted

2025-04-12 02:24:31.731  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-12 02:24:31.734  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-12 02:24:31.743  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 8 ms
2025-04-12 02:25:30.006  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ORDERSERVICE with eureka with status DOWN
2025-04-12 02:25:30.010  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744424730010, current=DOWN, previous=UP]
2025-04-12 02:25:30.013  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/20038ec24239:OrderService:9003: registering service...
2025-04-12 02:25:30.057  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/20038ec24239:OrderService:9003 - registration status: 204
2025-04-12 02:25:30.090  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-12 02:25:30.100  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-12 02:25:30.118  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-12 02:25:30.124  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-12 02:25:30.140  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-12 02:25:30.148  INFO [traceId=, spanId=] 1 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-12 02:25:31.270  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 02:25:31.276  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-12 02:25:31.285  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-12 02:25:32.237  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-04-12 02:25:35.237  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-04-12 02:25:35.249  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/20038ec24239:OrderService:9003 - deregister  status: 200
2025-04-12 02:25:35.251  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-04-12 03:32:48.690  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Starting OrderServiceApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 1 (/app/OrderService.jar started by root in /app)
2025-04-12 03:32:48.750 DEBUG [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-04-12 03:32:48.756  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : No active profile set, falling back to 1 default profile: "default"
2025-04-12 03:32:49.090  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-12 03:32:49.101  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=application, profiles=[default], label=null, version=2efb5a6a549b71a42b590f6a2b08183ed8af3466, state=
2025-04-12 03:32:49.104  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-12 03:32:49.110  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=OrderService, profiles=[default], label=null, version=2efb5a6a549b71a42b590f6a2b08183ed8af3466, state=
2025-04-12 03:33:01.273  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-12 03:33:01.288  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-12 03:33:02.312  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 945 ms. Found 2 JPA repository interfaces.
2025-04-12 03:33:02.402  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-12 03:33:02.409  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-04-12 03:33:02.487  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderDetailRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-12 03:33:02.493  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-12 03:33:02.496  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 25 ms. Found 0 Redis repository interfaces.
2025-04-12 03:33:05.534  INFO [traceId=, spanId=] 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=90b70314-821f-37c8-94e4-137079bd6dbe
2025-04-12 03:33:09.042  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9003 (http)
2025-04-12 03:33:09.105  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-12 03:33:09.112  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-12 03:33:09.368  INFO [traceId=, spanId=] 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-12 03:33:09.371  INFO [traceId=, spanId=] 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 20245 ms
2025-04-12 03:33:15.439  INFO [traceId=, spanId=] 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-12 03:33:15.876  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-12 03:33:16.108  INFO [traceId=, spanId=] 1 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-12 03:33:17.635  INFO [traceId=, spanId=] 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-12 03:33:17.797  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-12 03:33:18.494  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 00afd740-cb49-417e-9298-47ab7036532c
2025-04-12 03:33:18.503  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-12 03:33:18.689  WARN [traceId=, spanId=] 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-12 03:33:18.777  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-12 03:33:22.928  INFO [traceId=, spanId=] 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-12 03:33:25.053  INFO [traceId=, spanId=] 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 03:33:28.095  WARN [traceId=, spanId=] 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-12 03:33:29.821  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'InventoryService' URL not provided. Will try picking an instance via load-balancing.
2025-04-12 03:33:31.331  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'UserService' URL not provided. Will try picking an instance via load-balancing.
2025-04-12 03:33:39.785  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Connecting to localhost with guest user, assuming development environment
2025-04-12 03:33:39.787  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Using address resolver to always connect to localhost
2025-04-12 03:33:43.530  INFO [traceId=, spanId=] 1 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-04-12 03:33:43.828  WARN [traceId=, spanId=] 1 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-04-12 03:33:43.967  INFO [traceId=, spanId=] 1 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoints beneath base path '/actuator'
2025-04-12 03:33:44.274  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-04-12 03:33:44.461  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-04-12 03:33:44.491  INFO [traceId=, spanId=] 1 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 03:33:44.545  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-04-12 03:33:44.547  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-04-12 03:33:44.550  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-04-12 03:33:44.553  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-04-12 03:33:44.555  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-04-12 03:33:44.561  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-04-12 03:33:44.564  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-04-12 03:33:45.298  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-04-12 03:33:45.307  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-04-12 03:33:45.316  INFO [traceId=, spanId=] 1 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-04-12 03:33:45.322  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1744428825321 with initial instances count: 4
2025-04-12 03:33:45.378  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ORDERSERVICE with eureka with status UP
2025-04-12 03:33:45.385  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744428825384, current=UP, previous=STARTING]
2025-04-12 03:33:45.394  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/d77e6d542b3b:OrderService:9003: registering service...
2025-04-12 03:33:45.478  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9003 (http) with context path '/'
2025-04-12 03:33:45.483  INFO [traceId=, spanId=] 1 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9003
2025-04-12 03:33:45.508  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [rabbitmq:5672]
2025-04-12 03:33:45.582  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/d77e6d542b3b:OrderService:9003 - registration status: 204
2025-04-12 03:33:45.791  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#cf39749:0/SimpleConnection@757bdbbf [delegate=amqp://guest@172.19.0.4:5672/, localPort=43446]
2025-04-12 03:33:46.180  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Started OrderServiceApplication in 69.341 seconds (process running for 74.581)
2025-04-12 03:33:46.320  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
2025-04-12 03:33:46.324  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Dropped 2 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused)

org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:925)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:840)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:701)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender.postSpans(ZipkinRestTemplateSender.java:50)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:69)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:41)
	at zipkin2.reporter.BaseHttpSender.send(BaseHttpSender.java:123)
	at zipkin2.reporter.internal.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:266)
	at zipkin2.reporter.internal.AsyncReporter$Flusher.run(AsyncReporter.java:352)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:899)
	... 9 common frames omitted

2025-04-12 03:34:02.112  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-12 03:34:02.119  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-12 03:34:02.137  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 13 ms
2025-04-12 03:34:48.469  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ORDERSERVICE with eureka with status DOWN
2025-04-12 03:34:48.473  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744428888473, current=DOWN, previous=UP]
2025-04-12 03:34:48.479  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/d77e6d542b3b:OrderService:9003: registering service...
2025-04-12 03:34:48.534  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/d77e6d542b3b:OrderService:9003 - registration status: 204
2025-04-12 03:34:48.532  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-12 03:34:48.571  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-12 03:34:49.135  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-12 03:34:49.153  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-12 03:34:49.157  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-12 03:34:49.164  INFO [traceId=, spanId=] 1 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-12 03:34:50.292  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 03:34:50.298  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-12 03:34:50.305  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-12 03:34:50.365  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-04-12 03:34:53.367  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-04-12 03:34:53.388  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/d77e6d542b3b:OrderService:9003 - deregister  status: 200
2025-04-12 03:34:53.391  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-04-12 03:37:42.272  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Starting OrderServiceApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 1 (/app/OrderService.jar started by root in /app)
2025-04-12 03:37:42.362 DEBUG [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-04-12 03:37:42.371  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : No active profile set, falling back to 1 default profile: "default"
2025-04-12 03:37:42.944  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-12 03:37:42.960  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=application, profiles=[default], label=null, version=2efb5a6a549b71a42b590f6a2b08183ed8af3466, state=
2025-04-12 03:37:42.987  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-12 03:37:42.994  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=OrderService, profiles=[default], label=null, version=2efb5a6a549b71a42b590f6a2b08183ed8af3466, state=
2025-04-12 03:37:56.408  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-12 03:37:56.421  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-12 03:37:57.298  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 816 ms. Found 2 JPA repository interfaces.
2025-04-12 03:37:57.408  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-12 03:37:57.419  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-04-12 03:37:57.510  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderDetailRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-12 03:37:57.520  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-12 03:37:57.523  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 42 ms. Found 0 Redis repository interfaces.
2025-04-12 03:37:59.867  INFO [traceId=, spanId=] 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=90b70314-821f-37c8-94e4-137079bd6dbe
2025-04-12 03:38:04.386  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9003 (http)
2025-04-12 03:38:04.479  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-12 03:38:04.483  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-12 03:38:04.717  INFO [traceId=, spanId=] 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-12 03:38:04.723  INFO [traceId=, spanId=] 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 21692 ms
2025-04-12 03:38:10.377  INFO [traceId=, spanId=] 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-12 03:38:10.729  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-12 03:38:11.102  INFO [traceId=, spanId=] 1 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-12 03:38:12.815  INFO [traceId=, spanId=] 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-12 03:38:12.943  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-12 03:38:13.571  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 865b6dec-d9f0-4361-a4d6-4f5ed4c0738a
2025-04-12 03:38:13.584  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-12 03:38:13.773  WARN [traceId=, spanId=] 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-12 03:38:13.862  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-12 03:38:17.059  INFO [traceId=, spanId=] 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-12 03:38:18.196  INFO [traceId=, spanId=] 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 03:38:20.561  WARN [traceId=, spanId=] 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-12 03:38:21.632  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'InventoryService' URL not provided. Will try picking an instance via load-balancing.
2025-04-12 03:38:22.832  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'UserService' URL not provided. Will try picking an instance via load-balancing.
2025-04-12 03:38:30.237  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Connecting to localhost with guest user, assuming development environment
2025-04-12 03:38:30.239  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Using address resolver to always connect to localhost
2025-04-12 03:38:32.920  INFO [traceId=, spanId=] 1 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-04-12 03:38:33.313  WARN [traceId=, spanId=] 1 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-04-12 03:38:33.446  INFO [traceId=, spanId=] 1 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoints beneath base path '/actuator'
2025-04-12 03:38:33.741  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-04-12 03:38:33.822  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-04-12 03:38:33.836  INFO [traceId=, spanId=] 1 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 03:38:33.864  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-04-12 03:38:33.866  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-04-12 03:38:33.868  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-04-12 03:38:33.870  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-04-12 03:38:33.872  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-04-12 03:38:33.874  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-04-12 03:38:33.877  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-04-12 03:38:34.408  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-04-12 03:38:34.415  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-04-12 03:38:34.421  INFO [traceId=, spanId=] 1 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-04-12 03:38:34.427  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1744429114426 with initial instances count: 5
2025-04-12 03:38:34.455  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ORDERSERVICE with eureka with status UP
2025-04-12 03:38:34.458  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744429114458, current=UP, previous=STARTING]
2025-04-12 03:38:34.467  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/80d60d8dd6fc:OrderService:9003: registering service...
2025-04-12 03:38:34.507  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9003 (http) with context path '/'
2025-04-12 03:38:34.512  INFO [traceId=, spanId=] 1 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9003
2025-04-12 03:38:34.525  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [rabbitmq:5672]
2025-04-12 03:38:34.591  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/80d60d8dd6fc:OrderService:9003 - registration status: 204
2025-04-12 03:38:34.772  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#38617f1c:0/SimpleConnection@74ec23fc [delegate=amqp://guest@172.19.0.4:5672/, localPort=37902]
2025-04-12 03:38:35.194  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Started OrderServiceApplication in 65.019 seconds (process running for 69.702)
2025-04-12 03:38:35.424  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
2025-04-12 03:38:35.427  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Dropped 2 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused)

org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:925)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:840)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:701)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender.postSpans(ZipkinRestTemplateSender.java:50)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:69)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:41)
	at zipkin2.reporter.BaseHttpSender.send(BaseHttpSender.java:123)
	at zipkin2.reporter.internal.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:266)
	at zipkin2.reporter.internal.AsyncReporter$Flusher.run(AsyncReporter.java:352)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:899)
	... 9 common frames omitted

2025-04-12 03:38:55.850  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-12 03:38:55.852  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-12 03:38:55.861  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 7 ms
2025-04-12 03:43:33.861  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 03:44:52.232  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ORDERSERVICE with eureka with status DOWN
2025-04-12 03:44:52.236  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744429492236, current=DOWN, previous=UP]
2025-04-12 03:44:52.240  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/80d60d8dd6fc:OrderService:9003: registering service...
2025-04-12 03:44:52.277  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/80d60d8dd6fc:OrderService:9003 - registration status: 204
2025-04-12 03:44:52.277  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-12 03:44:52.296  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-12 03:44:53.190  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-12 03:44:53.209  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-12 03:44:53.213  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-12 03:44:53.217  INFO [traceId=, spanId=] 1 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-12 03:44:54.286  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 03:44:54.289  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-12 03:44:54.295  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-12 03:44:54.547  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-04-12 03:44:57.549  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-04-12 03:44:57.559  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/80d60d8dd6fc:OrderService:9003 - deregister  status: 200
2025-04-12 03:44:57.561  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-04-12 03:49:25.831  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Starting OrderServiceApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 1 (/app/OrderService.jar started by root in /app)
2025-04-12 03:49:25.909 DEBUG [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-04-12 03:49:25.922  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : No active profile set, falling back to 1 default profile: "default"
2025-04-12 03:49:26.388  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-12 03:49:26.392  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=application, profiles=[default], label=null, version=2efb5a6a549b71a42b590f6a2b08183ed8af3466, state=
2025-04-12 03:49:26.395  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-12 03:49:26.398  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=OrderService, profiles=[default], label=null, version=2efb5a6a549b71a42b590f6a2b08183ed8af3466, state=
2025-04-12 03:49:35.009  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-12 03:49:35.019  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-12 03:49:35.675  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 619 ms. Found 2 JPA repository interfaces.
2025-04-12 03:49:35.749  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-12 03:49:35.755  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-04-12 03:49:35.821  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderDetailRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-12 03:49:35.824  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-12 03:49:35.828  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 21 ms. Found 0 Redis repository interfaces.
2025-04-12 03:49:37.778  INFO [traceId=, spanId=] 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=90b70314-821f-37c8-94e4-137079bd6dbe
2025-04-12 03:49:40.806  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9003 (http)
2025-04-12 03:49:40.846  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-12 03:49:40.852  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-12 03:49:40.984  INFO [traceId=, spanId=] 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-12 03:49:40.988  INFO [traceId=, spanId=] 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 14571 ms
2025-04-12 03:49:43.992  INFO [traceId=, spanId=] 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-12 03:49:44.263  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-12 03:49:44.428  INFO [traceId=, spanId=] 1 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-12 03:49:45.521  INFO [traceId=, spanId=] 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-12 03:49:45.670  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-12 03:49:46.236  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: c4fa94e2-0b08-4c58-9feb-f276679943b9
2025-04-12 03:49:46.245  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-12 03:49:46.415  WARN [traceId=, spanId=] 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-12 03:49:46.488  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-12 03:49:50.248  INFO [traceId=, spanId=] 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-12 03:49:51.389  INFO [traceId=, spanId=] 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 03:49:54.272  WARN [traceId=, spanId=] 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-12 03:49:55.213  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'InventoryService' URL not provided. Will try picking an instance via load-balancing.
2025-04-12 03:49:56.610  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'UserService' URL not provided. Will try picking an instance via load-balancing.
2025-04-12 03:50:04.016  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Connecting to localhost with guest user, assuming development environment
2025-04-12 03:50:04.018  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Using address resolver to always connect to localhost
2025-04-12 03:50:06.664  INFO [traceId=, spanId=] 1 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-04-12 03:50:06.937  WARN [traceId=, spanId=] 1 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-04-12 03:50:07.037  INFO [traceId=, spanId=] 1 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoints beneath base path '/actuator'
2025-04-12 03:50:07.252  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-04-12 03:50:07.309  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-04-12 03:50:07.318  INFO [traceId=, spanId=] 1 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 03:50:07.348  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-04-12 03:50:07.350  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-04-12 03:50:07.353  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-04-12 03:50:07.355  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-04-12 03:50:07.356  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-04-12 03:50:07.359  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-04-12 03:50:07.361  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-04-12 03:50:07.717  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-04-12 03:50:07.723  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-04-12 03:50:07.729  INFO [traceId=, spanId=] 1 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-04-12 03:50:07.734  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1744429807733 with initial instances count: 5
2025-04-12 03:50:07.766  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ORDERSERVICE with eureka with status UP
2025-04-12 03:50:07.770  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744429807770, current=UP, previous=STARTING]
2025-04-12 03:50:07.776  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/822e742905a2:OrderService:9003: registering service...
2025-04-12 03:50:07.814  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9003 (http) with context path '/'
2025-04-12 03:50:07.819  INFO [traceId=, spanId=] 1 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9003
2025-04-12 03:50:07.831  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [rabbitmq:5672]
2025-04-12 03:50:07.870  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/822e742905a2:OrderService:9003 - registration status: 204
2025-04-12 03:50:07.933  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#11b59291:0/SimpleConnection@436427a5 [delegate=amqp://guest@172.19.0.3:5672/, localPort=45102]
2025-04-12 03:50:08.184  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Started OrderServiceApplication in 55.277 seconds (process running for 59.469)
2025-04-12 03:50:08.739  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
2025-04-12 03:50:08.742  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Dropped 2 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused)

org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:925)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:840)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:701)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender.postSpans(ZipkinRestTemplateSender.java:50)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:69)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:41)
	at zipkin2.reporter.BaseHttpSender.send(BaseHttpSender.java:123)
	at zipkin2.reporter.internal.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:266)
	at zipkin2.reporter.internal.AsyncReporter$Flusher.run(AsyncReporter.java:352)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:899)
	... 9 common frames omitted

2025-04-12 03:50:09.119  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-12 03:50:09.124  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-12 03:50:09.138  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 12 ms
2025-04-12 03:53:25.946  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ORDERSERVICE with eureka with status DOWN
2025-04-12 03:53:25.949  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744430005949, current=DOWN, previous=UP]
2025-04-12 03:53:25.957  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/822e742905a2:OrderService:9003: registering service...
2025-04-12 03:53:25.986  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/822e742905a2:OrderService:9003 - registration status: 204
2025-04-12 03:53:25.997  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-12 03:53:26.001  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-12 03:53:26.180  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-12 03:53:26.188  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-12 03:53:26.193  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-12 03:53:26.200  INFO [traceId=, spanId=] 1 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-12 03:53:27.308  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 03:53:27.313  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-12 03:53:27.320  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-12 03:53:27.823  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-04-12 03:53:30.826  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-04-12 03:53:30.839  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/822e742905a2:OrderService:9003 - deregister  status: 200
2025-04-12 03:53:30.841  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-04-12 03:59:37.395  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Starting OrderServiceApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 1 (/app/OrderService.jar started by root in /app)
2025-04-12 03:59:37.412 DEBUG [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-04-12 03:59:37.415  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : No active profile set, falling back to 1 default profile: "default"
2025-04-12 03:59:37.496  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-12 03:59:37.497  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=application, profiles=[default], label=null, version=2efb5a6a549b71a42b590f6a2b08183ed8af3466, state=
2025-04-12 03:59:37.498  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-12 03:59:37.500  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=OrderService, profiles=[default], label=null, version=2efb5a6a549b71a42b590f6a2b08183ed8af3466, state=
2025-04-12 03:59:42.584  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-12 03:59:42.596  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-12 03:59:43.378  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 732 ms. Found 2 JPA repository interfaces.
2025-04-12 03:59:43.471  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-12 03:59:43.479  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-04-12 03:59:43.545  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderDetailRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-12 03:59:43.551  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-12 03:59:43.555  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 28 ms. Found 0 Redis repository interfaces.
2025-04-12 03:59:45.705  INFO [traceId=, spanId=] 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=90b70314-821f-37c8-94e4-137079bd6dbe
2025-04-12 03:59:48.735  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9003 (http)
2025-04-12 03:59:48.778  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-12 03:59:48.783  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-12 03:59:48.995  INFO [traceId=, spanId=] 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-12 03:59:49.010  INFO [traceId=, spanId=] 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 11506 ms
2025-04-12 03:59:52.348  INFO [traceId=, spanId=] 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-12 03:59:52.621  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-12 03:59:52.752  INFO [traceId=, spanId=] 1 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-12 03:59:54.129  INFO [traceId=, spanId=] 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-12 03:59:54.328  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-12 03:59:55.140  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 2b6f08b8-dfbb-418e-9f6f-7b6d04f0167a
2025-04-12 03:59:55.164  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-12 03:59:55.493  WARN [traceId=, spanId=] 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-12 03:59:55.673  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-12 03:59:59.805  INFO [traceId=, spanId=] 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-12 04:00:01.129  INFO [traceId=, spanId=] 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 04:00:04.210  WARN [traceId=, spanId=] 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-12 04:00:05.310  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'InventoryService' URL not provided. Will try picking an instance via load-balancing.
2025-04-12 04:00:06.749  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'UserService' URL not provided. Will try picking an instance via load-balancing.
2025-04-12 04:00:16.081  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Connecting to localhost with guest user, assuming development environment
2025-04-12 04:00:16.084  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Using address resolver to always connect to localhost
2025-04-12 04:00:19.286  INFO [traceId=, spanId=] 1 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-04-12 04:00:19.657  WARN [traceId=, spanId=] 1 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-04-12 04:00:19.778  INFO [traceId=, spanId=] 1 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoints beneath base path '/actuator'
2025-04-12 04:00:20.143  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-04-12 04:00:20.246  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-04-12 04:00:20.274  INFO [traceId=, spanId=] 1 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 04:00:20.326  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-04-12 04:00:20.330  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-04-12 04:00:20.333  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-04-12 04:00:20.335  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-04-12 04:00:20.338  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-04-12 04:00:20.340  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-04-12 04:00:20.343  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-04-12 04:00:20.876  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-04-12 04:00:20.886  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-04-12 04:00:20.893  INFO [traceId=, spanId=] 1 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-04-12 04:00:20.903  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1744430420901 with initial instances count: 4
2025-04-12 04:00:20.943  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ORDERSERVICE with eureka with status UP
2025-04-12 04:00:20.947  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744430420947, current=UP, previous=STARTING]
2025-04-12 04:00:20.956  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/2a1bc37e0d10:OrderService:9003: registering service...
2025-04-12 04:00:21.007  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9003 (http) with context path '/'
2025-04-12 04:00:21.011  INFO [traceId=, spanId=] 1 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9003
2025-04-12 04:00:21.024  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [rabbitmq:5672]
2025-04-12 04:00:21.079  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/2a1bc37e0d10:OrderService:9003 - registration status: 204
2025-04-12 04:00:21.216  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#150ba838:0/SimpleConnection@6d07d713 [delegate=amqp://guest@172.19.0.4:5672/, localPort=39138]
2025-04-12 04:00:21.608  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Started OrderServiceApplication in 52.761 seconds (process running for 55.608)
2025-04-12 04:00:21.888  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
2025-04-12 04:00:21.890  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Dropped 2 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused)

org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:925)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:840)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:701)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender.postSpans(ZipkinRestTemplateSender.java:50)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:69)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:41)
	at zipkin2.reporter.BaseHttpSender.send(BaseHttpSender.java:123)
	at zipkin2.reporter.internal.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:266)
	at zipkin2.reporter.internal.AsyncReporter$Flusher.run(AsyncReporter.java:352)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:899)
	... 9 common frames omitted

2025-04-12 04:00:26.260  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-12 04:00:26.262  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-12 04:00:26.271  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2025-04-12 04:05:20.333  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 04:10:20.320  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 04:15:20.306  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 04:20:20.294  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 04:25:20.280  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 04:25:33.604  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ORDERSERVICE with eureka with status DOWN
2025-04-12 04:25:33.612  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744431933612, current=DOWN, previous=UP]
2025-04-12 04:25:33.621  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/2a1bc37e0d10:OrderService:9003: registering service...
2025-04-12 04:25:33.705  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/2a1bc37e0d10:OrderService:9003 - registration status: 204
2025-04-12 04:25:33.991  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-12 04:25:33.994  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-12 04:25:34.774  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-12 04:25:34.778  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-12 04:25:34.815  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-12 04:25:34.850  INFO [traceId=, spanId=] 1 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-12 04:25:36.290  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 04:25:36.357  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-12 04:25:36.378  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-12 04:25:36.452  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-04-12 04:25:39.454  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-04-12 04:25:39.471  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/2a1bc37e0d10:OrderService:9003 - deregister  status: 200
2025-04-12 04:25:39.474  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-04-12 04:29:31.797  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Starting OrderServiceApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 1 (/app/OrderService.jar started by root in /app)
2025-04-12 04:29:31.825 DEBUG [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-04-12 04:29:31.830  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : No active profile set, falling back to 1 default profile: "default"
2025-04-12 04:29:31.956  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-12 04:29:31.969  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=application, profiles=[default], label=null, version=2efb5a6a549b71a42b590f6a2b08183ed8af3466, state=
2025-04-12 04:29:31.971  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-12 04:29:31.973  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=OrderService, profiles=[default], label=null, version=2efb5a6a549b71a42b590f6a2b08183ed8af3466, state=
2025-04-12 04:29:38.873  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-12 04:29:38.886  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-12 04:29:39.748  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 803 ms. Found 2 JPA repository interfaces.
2025-04-12 04:29:39.844  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-12 04:29:39.860  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-04-12 04:29:39.959  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderDetailRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-12 04:29:39.968  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-12 04:29:39.981  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 39 ms. Found 0 Redis repository interfaces.
2025-04-12 04:29:43.122  INFO [traceId=, spanId=] 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=90b70314-821f-37c8-94e4-137079bd6dbe
2025-04-12 04:29:48.318  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9003 (http)
2025-04-12 04:29:48.401  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-12 04:29:48.409  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-12 04:29:48.817  INFO [traceId=, spanId=] 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-12 04:29:48.822  INFO [traceId=, spanId=] 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 16834 ms
2025-04-12 04:29:51.972  INFO [traceId=, spanId=] 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-12 04:29:52.281  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-12 04:29:52.434  INFO [traceId=, spanId=] 1 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-12 04:29:54.149  INFO [traceId=, spanId=] 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-12 04:29:54.286  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-12 04:29:55.114  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: fffeabfb-85e3-4c95-9a98-942cd1218c4d
2025-04-12 04:29:55.124  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-12 04:29:55.351  WARN [traceId=, spanId=] 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-12 04:29:55.545  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-12 04:30:00.173  INFO [traceId=, spanId=] 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-12 04:30:01.570  INFO [traceId=, spanId=] 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 04:30:05.169  WARN [traceId=, spanId=] 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-12 04:30:06.048  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'InventoryService' URL not provided. Will try picking an instance via load-balancing.
2025-04-12 04:30:07.418  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'UserService' URL not provided. Will try picking an instance via load-balancing.
2025-04-12 04:30:18.166  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Connecting to localhost with guest user, assuming development environment
2025-04-12 04:30:18.169  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Using address resolver to always connect to localhost
2025-04-12 04:30:21.994  INFO [traceId=, spanId=] 1 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-04-12 04:30:22.334  WARN [traceId=, spanId=] 1 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-04-12 04:30:22.440  INFO [traceId=, spanId=] 1 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoints beneath base path '/actuator'
2025-04-12 04:30:22.800  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-04-12 04:30:22.941  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-04-12 04:30:22.961  INFO [traceId=, spanId=] 1 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 04:30:23.003  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-04-12 04:30:23.006  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-04-12 04:30:23.009  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-04-12 04:30:23.014  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-04-12 04:30:23.018  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-04-12 04:30:23.022  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-04-12 04:30:23.024  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-04-12 04:30:23.711  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-04-12 04:30:23.722  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-04-12 04:30:23.734  INFO [traceId=, spanId=] 1 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-04-12 04:30:23.744  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1744432223742 with initial instances count: 4
2025-04-12 04:30:23.779  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ORDERSERVICE with eureka with status UP
2025-04-12 04:30:23.783  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744432223783, current=UP, previous=STARTING]
2025-04-12 04:30:23.791  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/789decb95093:OrderService:9003: registering service...
2025-04-12 04:30:23.842  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9003 (http) with context path '/'
2025-04-12 04:30:23.849  INFO [traceId=, spanId=] 1 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9003
2025-04-12 04:30:23.865  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [rabbitmq:5672]
2025-04-12 04:30:23.950  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/789decb95093:OrderService:9003 - registration status: 204
2025-04-12 04:30:24.115  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#33c2a762:0/SimpleConnection@39310988 [delegate=amqp://guest@172.19.0.3:5672/, localPort=46210]
2025-04-12 04:30:24.518  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Started OrderServiceApplication in 62.238 seconds (process running for 66.059)
2025-04-12 04:30:24.728  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
2025-04-12 04:30:24.731  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Dropped 2 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused)

org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:925)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:840)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:701)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender.postSpans(ZipkinRestTemplateSender.java:50)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:69)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:41)
	at zipkin2.reporter.BaseHttpSender.send(BaseHttpSender.java:123)
	at zipkin2.reporter.internal.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:266)
	at zipkin2.reporter.internal.AsyncReporter$Flusher.run(AsyncReporter.java:352)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:899)
	... 9 common frames omitted

2025-04-12 04:30:35.039  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ORDERSERVICE with eureka with status DOWN
2025-04-12 04:30:35.042  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744432235042, current=DOWN, previous=UP]
2025-04-12 04:30:35.045  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/789decb95093:OrderService:9003: registering service...
2025-04-12 04:30:35.084  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-12 04:30:35.085  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/789decb95093:OrderService:9003 - registration status: 204
2025-04-12 04:30:35.097  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-12 04:30:35.464  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-12 04:30:35.484  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-12 04:30:35.499  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-12 04:30:35.512  INFO [traceId=, spanId=] 1 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-12 04:30:36.631  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 04:30:36.638  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-12 04:30:36.647  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-12 04:30:36.747  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-04-12 04:30:39.750  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-04-12 04:30:39.783  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/789decb95093:OrderService:9003 - deregister  status: 200
2025-04-12 04:30:39.786  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-04-12 04:34:14.068  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Starting OrderServiceApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 1 (/app/OrderService.jar started by root in /app)
2025-04-12 04:34:14.131 DEBUG [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-04-12 04:34:14.175  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : No active profile set, falling back to 1 default profile: "default"
2025-04-12 04:34:14.787  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-12 04:34:14.791  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=application, profiles=[default], label=null, version=2efb5a6a549b71a42b590f6a2b08183ed8af3466, state=
2025-04-12 04:34:14.795  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-12 04:34:14.801  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=OrderService, profiles=[default], label=null, version=2efb5a6a549b71a42b590f6a2b08183ed8af3466, state=
2025-04-12 04:34:26.138  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-12 04:34:26.153  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-12 04:34:26.928  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 706 ms. Found 2 JPA repository interfaces.
2025-04-12 04:34:26.995  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-12 04:34:27.005  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-04-12 04:34:27.079  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderDetailRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-12 04:34:27.094  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-12 04:34:27.097  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 33 ms. Found 0 Redis repository interfaces.
2025-04-12 04:34:31.413  INFO [traceId=, spanId=] 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=90b70314-821f-37c8-94e4-137079bd6dbe
2025-04-12 04:34:36.860  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9003 (http)
2025-04-12 04:34:36.907  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-12 04:34:36.917  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-12 04:34:37.073  INFO [traceId=, spanId=] 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-12 04:34:37.076  INFO [traceId=, spanId=] 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 22245 ms
2025-04-12 04:34:41.546  INFO [traceId=, spanId=] 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-12 04:34:42.021  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-12 04:34:42.214  INFO [traceId=, spanId=] 1 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-12 04:34:43.811  INFO [traceId=, spanId=] 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-12 04:34:44.073  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-12 04:34:44.709  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 49ed340d-e6be-4884-aa8e-1d6e28ca3b78
2025-04-12 04:34:44.718  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-12 04:34:44.939  WARN [traceId=, spanId=] 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-12 04:34:45.055  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-12 04:34:49.810  INFO [traceId=, spanId=] 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-12 04:34:52.418  INFO [traceId=, spanId=] 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 04:34:56.107  WARN [traceId=, spanId=] 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-12 04:34:56.898  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'InventoryService' URL not provided. Will try picking an instance via load-balancing.
2025-04-12 04:34:58.045  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'UserService' URL not provided. Will try picking an instance via load-balancing.
2025-04-12 04:35:05.309  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Connecting to localhost with guest user, assuming development environment
2025-04-12 04:35:05.312  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Using address resolver to always connect to localhost
2025-04-12 04:35:08.420  INFO [traceId=, spanId=] 1 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-04-12 04:35:08.849  WARN [traceId=, spanId=] 1 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-04-12 04:35:09.030  INFO [traceId=, spanId=] 1 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoints beneath base path '/actuator'
2025-04-12 04:35:09.476  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-04-12 04:35:09.647  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-04-12 04:35:09.676  INFO [traceId=, spanId=] 1 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 04:35:09.728  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-04-12 04:35:09.731  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-04-12 04:35:09.735  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-04-12 04:35:09.739  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-04-12 04:35:09.742  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-04-12 04:35:09.744  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-04-12 04:35:09.747  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-04-12 04:35:10.465  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-04-12 04:35:10.473  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-04-12 04:35:10.479  INFO [traceId=, spanId=] 1 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-04-12 04:35:10.486  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1744432510485 with initial instances count: 5
2025-04-12 04:35:10.543  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ORDERSERVICE with eureka with status UP
2025-04-12 04:35:10.546  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744432510546, current=UP, previous=STARTING]
2025-04-12 04:35:10.552  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/75286420301e:OrderService:9003: registering service...
2025-04-12 04:35:10.610  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9003 (http) with context path '/'
2025-04-12 04:35:10.615  INFO [traceId=, spanId=] 1 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9003
2025-04-12 04:35:10.637  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [rabbitmq:5672]
2025-04-12 04:35:10.713  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/75286420301e:OrderService:9003 - registration status: 204
2025-04-12 04:35:10.972  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#296a6a10:0/SimpleConnection@9305ed7 [delegate=amqp://guest@172.19.0.4:5672/, localPort=46600]
2025-04-12 04:35:11.356  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Started OrderServiceApplication in 73.991 seconds (process running for 78.91)
2025-04-12 04:35:11.514  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
2025-04-12 04:35:11.518  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Dropped 2 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused)

org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:925)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:840)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:701)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender.postSpans(ZipkinRestTemplateSender.java:50)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:69)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:41)
	at zipkin2.reporter.BaseHttpSender.send(BaseHttpSender.java:123)
	at zipkin2.reporter.internal.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:266)
	at zipkin2.reporter.internal.AsyncReporter$Flusher.run(AsyncReporter.java:352)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:899)
	... 9 common frames omitted

2025-04-12 04:35:23.149  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-12 04:35:23.152  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-12 04:35:23.166  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 11 ms
2025-04-12 04:40:09.738  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 04:45:09.724  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 04:50:09.711  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 04:55:09.698  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 05:00:09.686  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 05:05:09.672  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 05:10:09.664  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 05:15:09.651  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 05:20:09.638  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 05:25:09.625  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 05:30:09.612  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 05:35:09.600  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 05:40:09.587  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 05:41:38.231  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ORDERSERVICE with eureka with status DOWN
2025-04-12 05:41:38.240  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744436498240, current=DOWN, previous=UP]
2025-04-12 05:41:38.248  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/75286420301e:OrderService:9003: registering service...
2025-04-12 05:41:38.368  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/75286420301e:OrderService:9003 - registration status: 204
2025-04-12 05:41:38.813  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-12 05:41:38.818  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-12 05:41:38.819  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-12 05:41:38.824  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-12 05:41:38.882  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-12 05:41:38.921  INFO [traceId=, spanId=] 1 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-12 05:41:40.570  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 05:41:40.669  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-12 05:41:40.683  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-12 05:41:40.912  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-04-12 05:41:43.915  WARN [traceId=, spanId=] 1 --- [DiscoveryClient-%d] c.netflix.discovery.TimedSupervisorTask  : task supervisor shutting down, can't accept the task
2025-04-12 05:41:43.915  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-04-12 05:41:43.936  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/75286420301e:OrderService:9003 - deregister  status: 200
2025-04-12 05:41:43.939  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-04-12 05:48:15.487  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Starting OrderServiceApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 1 (/app/OrderService.jar started by root in /app)
2025-04-12 05:48:15.531 DEBUG [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-04-12 05:48:15.540  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : No active profile set, falling back to 1 default profile: "default"
2025-04-12 05:48:15.883  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-12 05:48:15.890  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=application, profiles=[default], label=null, version=9261a4efe8f68087092a640220bd3f5f9a67a0aa, state=
2025-04-12 05:48:15.894  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-12 05:48:15.924  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=OrderService, profiles=[default], label=null, version=9261a4efe8f68087092a640220bd3f5f9a67a0aa, state=
2025-04-12 05:48:29.316  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-12 05:48:29.335  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-12 05:48:30.781  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1359 ms. Found 2 JPA repository interfaces.
2025-04-12 05:48:30.902  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-12 05:48:30.923  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-04-12 05:48:31.005  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderDetailRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-12 05:48:31.022  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-12 05:48:31.025  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 34 ms. Found 0 Redis repository interfaces.
2025-04-12 05:48:35.218  INFO [traceId=, spanId=] 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=90b70314-821f-37c8-94e4-137079bd6dbe
2025-04-12 05:48:40.805  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9003 (http)
2025-04-12 05:48:40.906  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-12 05:48:40.926  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-12 05:48:41.212  INFO [traceId=, spanId=] 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-12 05:48:41.221  INFO [traceId=, spanId=] 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 25279 ms
2025-04-12 05:48:46.532  INFO [traceId=, spanId=] 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-12 05:48:46.888  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-12 05:48:47.096  INFO [traceId=, spanId=] 1 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-12 05:48:48.878  INFO [traceId=, spanId=] 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-12 05:48:49.039  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-12 05:48:49.770  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: e2145e3e-86f8-403b-adac-88f6de49f592
2025-04-12 05:48:49.791  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-12 05:48:50.060  WARN [traceId=, spanId=] 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-12 05:48:50.201  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-12 05:48:54.928  INFO [traceId=, spanId=] 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-12 05:48:57.158  INFO [traceId=, spanId=] 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 05:49:01.032  WARN [traceId=, spanId=] 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-12 05:49:01.958  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'InventoryService' URL not provided. Will try picking an instance via load-balancing.
2025-04-12 05:49:03.224  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'UserService' URL not provided. Will try picking an instance via load-balancing.
2025-04-12 05:49:11.346  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Connecting to localhost with guest user, assuming development environment
2025-04-12 05:49:11.349  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Using address resolver to always connect to localhost
2025-04-12 05:49:14.307  INFO [traceId=, spanId=] 1 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-04-12 05:49:14.592  WARN [traceId=, spanId=] 1 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-04-12 05:49:14.706  INFO [traceId=, spanId=] 1 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoints beneath base path '/actuator'
2025-04-12 05:49:15.126  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-04-12 05:49:15.217  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-04-12 05:49:15.229  INFO [traceId=, spanId=] 1 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 05:49:15.263  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-04-12 05:49:15.266  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-04-12 05:49:15.269  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-04-12 05:49:15.271  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-04-12 05:49:15.273  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-04-12 05:49:15.276  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-04-12 05:49:15.278  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-04-12 05:49:15.913  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-04-12 05:49:15.923  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-04-12 05:49:15.936  INFO [traceId=, spanId=] 1 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-04-12 05:49:15.944  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1744436955943 with initial instances count: 4
2025-04-12 05:49:15.970  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ORDERSERVICE with eureka with status UP
2025-04-12 05:49:15.976  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744436955976, current=UP, previous=STARTING]
2025-04-12 05:49:15.984  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/a50716068c9e:OrderService:9003: registering service...
2025-04-12 05:49:16.048  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9003 (http) with context path '/'
2025-04-12 05:49:16.052  INFO [traceId=, spanId=] 1 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9003
2025-04-12 05:49:16.072  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [rabbitmq:5672]
2025-04-12 05:49:16.177  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/a50716068c9e:OrderService:9003 - registration status: 204
2025-04-12 05:49:16.365  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#1d05cbae:0/SimpleConnection@5bd9bb05 [delegate=amqp://guest@172.19.0.2:5672/, localPort=52886]
2025-04-12 05:49:16.801  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Started OrderServiceApplication in 75.68 seconds (process running for 81.496)
2025-04-12 05:49:16.947  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
2025-04-12 05:49:16.952  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Dropped 2 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused)

org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:925)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:840)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:701)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender.postSpans(ZipkinRestTemplateSender.java:50)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:69)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:41)
	at zipkin2.reporter.BaseHttpSender.send(BaseHttpSender.java:123)
	at zipkin2.reporter.internal.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:266)
	at zipkin2.reporter.internal.AsyncReporter$Flusher.run(AsyncReporter.java:352)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:899)
	... 9 common frames omitted

2025-04-12 05:49:25.961  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-12 05:49:25.964  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-12 05:49:25.975  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 8 ms
2025-04-12 05:54:15.272  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 05:59:15.260  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 06:04:15.249  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 06:08:56.211  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ORDERSERVICE with eureka with status DOWN
2025-04-12 06:08:56.217  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744438136217, current=DOWN, previous=UP]
2025-04-12 06:08:56.224  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/a50716068c9e:OrderService:9003: registering service...
2025-04-12 06:08:56.264  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/a50716068c9e:OrderService:9003 - registration status: 204
2025-04-12 06:08:56.626  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-12 06:08:56.630  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-12 06:08:56.908  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-12 06:08:56.919  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-12 06:08:56.984  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-12 06:08:57.048  INFO [traceId=, spanId=] 1 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-12 06:08:58.632  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 06:08:58.698  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-12 06:08:58.722  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-12 06:08:59.369  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-04-12 06:09:02.372  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-04-12 06:09:02.392  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/a50716068c9e:OrderService:9003 - deregister  status: 200
2025-04-12 06:09:02.396  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-04-12 06:12:05.608  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Starting OrderServiceApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 1 (/app/OrderService.jar started by root in /app)
2025-04-12 06:12:05.722 DEBUG [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-04-12 06:12:05.742  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : No active profile set, falling back to 1 default profile: "default"
2025-04-12 06:12:06.717  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-12 06:12:06.760  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=application, profiles=[default], label=null, version=9261a4efe8f68087092a640220bd3f5f9a67a0aa, state=
2025-04-12 06:12:06.763  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-12 06:12:06.782  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=OrderService, profiles=[default], label=null, version=9261a4efe8f68087092a640220bd3f5f9a67a0aa, state=
2025-04-12 06:12:22.138  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-12 06:12:22.149  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-12 06:12:23.730  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1504 ms. Found 2 JPA repository interfaces.
2025-04-12 06:12:23.857  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-12 06:12:23.914  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-04-12 06:12:24.104  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderDetailRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-12 06:12:24.114  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-12 06:12:24.119  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 87 ms. Found 0 Redis repository interfaces.
2025-04-12 06:12:26.955  INFO [traceId=, spanId=] 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=90b70314-821f-37c8-94e4-137079bd6dbe
2025-04-12 06:12:31.543  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9003 (http)
2025-04-12 06:12:31.618  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-12 06:12:31.624  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-12 06:12:31.854  INFO [traceId=, spanId=] 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-12 06:12:31.859  INFO [traceId=, spanId=] 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 25052 ms
2025-04-12 06:12:35.225  INFO [traceId=, spanId=] 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-12 06:12:35.531  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-12 06:12:35.694  INFO [traceId=, spanId=] 1 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-12 06:12:37.609  INFO [traceId=, spanId=] 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-12 06:12:37.824  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-12 06:12:38.654  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 71750997-8ef7-445f-b628-778cfee04a7f
2025-04-12 06:12:38.669  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-12 06:12:38.894  WARN [traceId=, spanId=] 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-12 06:12:38.995  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-12 06:12:44.734  INFO [traceId=, spanId=] 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-12 06:12:46.016  INFO [traceId=, spanId=] 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 06:12:49.673  WARN [traceId=, spanId=] 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-12 06:12:50.777  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'InventoryService' URL not provided. Will try picking an instance via load-balancing.
2025-04-12 06:12:52.922  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'UserService' URL not provided. Will try picking an instance via load-balancing.
2025-04-12 06:13:03.841  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Connecting to localhost with guest user, assuming development environment
2025-04-12 06:13:03.844  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Using address resolver to always connect to localhost
2025-04-12 06:13:06.713  INFO [traceId=, spanId=] 1 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-04-12 06:13:06.951  WARN [traceId=, spanId=] 1 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-04-12 06:13:07.041  INFO [traceId=, spanId=] 1 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoints beneath base path '/actuator'
2025-04-12 06:13:07.318  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-04-12 06:13:07.388  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-04-12 06:13:07.398  INFO [traceId=, spanId=] 1 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 06:13:07.421  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-04-12 06:13:07.423  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-04-12 06:13:07.425  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-04-12 06:13:07.427  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-04-12 06:13:07.428  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-04-12 06:13:07.430  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-04-12 06:13:07.432  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-04-12 06:13:08.343  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-04-12 06:13:08.358  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-04-12 06:13:08.372  INFO [traceId=, spanId=] 1 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-04-12 06:13:08.382  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1744438388378 with initial instances count: 5
2025-04-12 06:13:08.433  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ORDERSERVICE with eureka with status UP
2025-04-12 06:13:08.437  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744438388437, current=UP, previous=STARTING]
2025-04-12 06:13:08.445  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/6f2dc6044c45:OrderService:9003: registering service...
2025-04-12 06:13:08.520  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9003 (http) with context path '/'
2025-04-12 06:13:08.526  INFO [traceId=, spanId=] 1 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9003
2025-04-12 06:13:08.553  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [rabbitmq:5672]
2025-04-12 06:13:08.636  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/6f2dc6044c45:OrderService:9003 - registration status: 204
2025-04-12 06:13:08.765  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#35537fe:0/SimpleConnection@346079da [delegate=amqp://guest@172.19.0.4:5672/, localPort=38210]
2025-04-12 06:13:09.090  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Started OrderServiceApplication in 81.569 seconds (process running for 88.022)
2025-04-12 06:13:09.348  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
2025-04-12 06:13:09.351  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Dropped 2 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused)

org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:925)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:840)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:701)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender.postSpans(ZipkinRestTemplateSender.java:50)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:69)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:41)
	at zipkin2.reporter.BaseHttpSender.send(BaseHttpSender.java:123)
	at zipkin2.reporter.internal.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:266)
	at zipkin2.reporter.internal.AsyncReporter$Flusher.run(AsyncReporter.java:352)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:899)
	... 9 common frames omitted

2025-04-12 06:13:11.811  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-12 06:13:11.840  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-12 06:13:11.885  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 37 ms
2025-04-12 06:14:50.957  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ORDERSERVICE with eureka with status DOWN
2025-04-12 06:14:50.964  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744438490964, current=DOWN, previous=UP]
2025-04-12 06:14:50.970  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/6f2dc6044c45:OrderService:9003: registering service...
2025-04-12 06:14:51.014  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/6f2dc6044c45:OrderService:9003 - registration status: 204
2025-04-12 06:14:51.020  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-12 06:14:51.028  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-12 06:14:51.061  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-12 06:14:51.079  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-12 06:14:51.093  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-12 06:14:51.102  INFO [traceId=, spanId=] 1 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-12 06:14:52.265  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 06:14:52.270  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-12 06:14:52.278  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-12 06:14:52.403  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-04-12 06:14:55.405  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-04-12 06:14:55.416  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/6f2dc6044c45:OrderService:9003 - deregister  status: 200
2025-04-12 06:14:55.418  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-04-12 06:19:16.022  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Starting OrderServiceApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 1 (/app/OrderService.jar started by root in /app)
2025-04-12 06:19:16.051 DEBUG [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-04-12 06:19:16.056  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : No active profile set, falling back to 1 default profile: "default"
2025-04-12 06:19:16.253  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-12 06:19:16.257  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=application, profiles=[default], label=null, version=9261a4efe8f68087092a640220bd3f5f9a67a0aa, state=
2025-04-12 06:19:16.261  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-12 06:19:16.269  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=OrderService, profiles=[default], label=null, version=9261a4efe8f68087092a640220bd3f5f9a67a0aa, state=
2025-04-12 06:19:30.438  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-12 06:19:30.459  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-12 06:19:31.769  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1219 ms. Found 2 JPA repository interfaces.
2025-04-12 06:19:31.901  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-12 06:19:31.917  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-04-12 06:19:32.059  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderDetailRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-12 06:19:32.067  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-12 06:19:32.070  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 38 ms. Found 0 Redis repository interfaces.
2025-04-12 06:19:35.006  INFO [traceId=, spanId=] 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=90b70314-821f-37c8-94e4-137079bd6dbe
2025-04-12 06:19:40.138  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9003 (http)
2025-04-12 06:19:40.180  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-12 06:19:40.184  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-12 06:19:40.328  INFO [traceId=, spanId=] 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-12 06:19:40.335  INFO [traceId=, spanId=] 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 24049 ms
2025-04-12 06:19:46.475  INFO [traceId=, spanId=] 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-12 06:19:47.036  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-12 06:19:47.407  INFO [traceId=, spanId=] 1 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-12 06:19:49.247  INFO [traceId=, spanId=] 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-12 06:19:49.398  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-12 06:19:50.269  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 17ba9fc6-9f74-488c-a6da-bdb8c93c31b9
2025-04-12 06:19:50.283  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-12 06:19:50.520  WARN [traceId=, spanId=] 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-12 06:19:50.627  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-12 06:19:55.194  INFO [traceId=, spanId=] 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-12 06:19:56.755  INFO [traceId=, spanId=] 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 06:20:00.624  WARN [traceId=, spanId=] 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-12 06:20:01.492  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'InventoryService' URL not provided. Will try picking an instance via load-balancing.
2025-04-12 06:20:02.696  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'UserService' URL not provided. Will try picking an instance via load-balancing.
2025-04-12 06:20:11.273  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Connecting to localhost with guest user, assuming development environment
2025-04-12 06:20:11.275  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Using address resolver to always connect to localhost
2025-04-12 06:20:14.425  INFO [traceId=, spanId=] 1 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-04-12 06:20:14.719  WARN [traceId=, spanId=] 1 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-04-12 06:20:14.817  INFO [traceId=, spanId=] 1 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoints beneath base path '/actuator'
2025-04-12 06:20:15.233  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-04-12 06:20:15.396  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-04-12 06:20:15.421  INFO [traceId=, spanId=] 1 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 06:20:15.469  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-04-12 06:20:15.471  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-04-12 06:20:15.474  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-04-12 06:20:15.476  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-04-12 06:20:15.478  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-04-12 06:20:15.481  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-04-12 06:20:15.483  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-04-12 06:20:16.571  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-04-12 06:20:16.581  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-04-12 06:20:16.594  INFO [traceId=, spanId=] 1 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-04-12 06:20:16.601  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1744438816600 with initial instances count: 5
2025-04-12 06:20:16.635  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ORDERSERVICE with eureka with status UP
2025-04-12 06:20:16.639  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744438816639, current=UP, previous=STARTING]
2025-04-12 06:20:16.646  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/ec4886cdbb07:OrderService:9003: registering service...
2025-04-12 06:20:16.694  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9003 (http) with context path '/'
2025-04-12 06:20:16.699  INFO [traceId=, spanId=] 1 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9003
2025-04-12 06:20:16.716  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [rabbitmq:5672]
2025-04-12 06:20:16.894  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/ec4886cdbb07:OrderService:9003 - registration status: 204
2025-04-12 06:20:17.393  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#23e883fb:0/SimpleConnection@5037eda8 [delegate=amqp://guest@172.19.0.4:5672/, localPort=35598]
2025-04-12 06:20:17.629  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
2025-04-12 06:20:17.633  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Dropped 2 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused)

org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:925)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:840)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:701)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender.postSpans(ZipkinRestTemplateSender.java:50)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:69)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:41)
	at zipkin2.reporter.BaseHttpSender.send(BaseHttpSender.java:123)
	at zipkin2.reporter.internal.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:266)
	at zipkin2.reporter.internal.AsyncReporter$Flusher.run(AsyncReporter.java:352)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:899)
	... 9 common frames omitted

2025-04-12 06:20:17.971  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Started OrderServiceApplication in 75.234 seconds (process running for 81.445)
2025-04-12 06:20:26.916  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-12 06:20:26.919  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-12 06:20:26.927  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2025-04-12 06:25:15.476  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 06:30:15.464  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 06:31:24.519  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ORDERSERVICE with eureka with status DOWN
2025-04-12 06:31:24.543  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744439484543, current=DOWN, previous=UP]
2025-04-12 06:31:24.549  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/ec4886cdbb07:OrderService:9003: registering service...
2025-04-12 06:31:24.596  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/ec4886cdbb07:OrderService:9003 - registration status: 204
2025-04-12 06:31:24.758  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-12 06:31:24.765  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-12 06:31:24.969  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-12 06:31:24.988  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-12 06:31:25.005  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-12 06:31:25.031  INFO [traceId=, spanId=] 1 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-12 06:31:26.385  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 06:31:26.433  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-12 06:31:26.446  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-12 06:31:26.841  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-04-12 06:31:29.843  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-04-12 06:31:29.859  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/ec4886cdbb07:OrderService:9003 - deregister  status: 200
2025-04-12 06:31:29.862  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-04-12 06:35:01.935  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Starting OrderServiceApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 1 (/app/OrderService.jar started by root in /app)
2025-04-12 06:35:01.967 DEBUG [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-04-12 06:35:01.972  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : No active profile set, falling back to 1 default profile: "default"
2025-04-12 06:35:02.143  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-12 06:35:02.146  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=application, profiles=[default], label=null, version=9261a4efe8f68087092a640220bd3f5f9a67a0aa, state=
2025-04-12 06:35:02.148  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-12 06:35:02.151  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=OrderService, profiles=[default], label=null, version=9261a4efe8f68087092a640220bd3f5f9a67a0aa, state=
2025-04-12 06:35:19.388  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-12 06:35:19.407  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-12 06:35:20.743  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1283 ms. Found 2 JPA repository interfaces.
2025-04-12 06:35:21.000  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-12 06:35:21.018  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-04-12 06:35:21.280  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderDetailRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-12 06:35:21.321  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-12 06:35:21.338  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 144 ms. Found 0 Redis repository interfaces.
2025-04-12 06:35:25.497  INFO [traceId=, spanId=] 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=90b70314-821f-37c8-94e4-137079bd6dbe
2025-04-12 06:35:32.358  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9003 (http)
2025-04-12 06:35:32.417  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-12 06:35:32.420  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-12 06:35:32.598  INFO [traceId=, spanId=] 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-12 06:35:32.601  INFO [traceId=, spanId=] 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 30438 ms
2025-04-12 06:35:38.594  INFO [traceId=, spanId=] 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-12 06:35:39.059  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-12 06:35:39.219  INFO [traceId=, spanId=] 1 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-12 06:35:40.735  INFO [traceId=, spanId=] 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-12 06:35:40.890  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-12 06:35:42.013  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: d3058ebe-18bf-4288-9e12-c5e8e6a31e8d
2025-04-12 06:35:42.024  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-12 06:35:42.274  WARN [traceId=, spanId=] 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-12 06:35:42.408  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-12 06:35:47.441  INFO [traceId=, spanId=] 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-12 06:35:48.733  INFO [traceId=, spanId=] 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 06:35:51.509  WARN [traceId=, spanId=] 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-12 06:35:52.707  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'InventoryService' URL not provided. Will try picking an instance via load-balancing.
2025-04-12 06:35:53.906  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'UserService' URL not provided. Will try picking an instance via load-balancing.
2025-04-12 06:36:03.510  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Connecting to localhost with guest user, assuming development environment
2025-04-12 06:36:03.513  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Using address resolver to always connect to localhost
2025-04-12 06:36:07.300  INFO [traceId=, spanId=] 1 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-04-12 06:36:07.772  WARN [traceId=, spanId=] 1 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-04-12 06:36:07.940  INFO [traceId=, spanId=] 1 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoints beneath base path '/actuator'
2025-04-12 06:36:08.377  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-04-12 06:36:08.536  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-04-12 06:36:08.557  INFO [traceId=, spanId=] 1 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 06:36:08.621  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-04-12 06:36:08.624  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-04-12 06:36:08.627  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-04-12 06:36:08.628  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-04-12 06:36:08.631  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-04-12 06:36:08.633  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-04-12 06:36:08.635  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-04-12 06:36:09.299  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-04-12 06:36:09.314  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-04-12 06:36:09.323  INFO [traceId=, spanId=] 1 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-04-12 06:36:09.332  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1744439769332 with initial instances count: 5
2025-04-12 06:36:09.388  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ORDERSERVICE with eureka with status UP
2025-04-12 06:36:09.393  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744439769392, current=UP, previous=STARTING]
2025-04-12 06:36:09.412  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/404ebf636833:OrderService:9003: registering service...
2025-04-12 06:36:09.479  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9003 (http) with context path '/'
2025-04-12 06:36:09.485  INFO [traceId=, spanId=] 1 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9003
2025-04-12 06:36:09.506  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [rabbitmq:5672]
2025-04-12 06:36:09.637  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/404ebf636833:OrderService:9003 - registration status: 204
2025-04-12 06:36:09.834  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#3f3b50df:0/SimpleConnection@78938cbd [delegate=amqp://guest@172.19.0.4:5672/, localPort=57376]
2025-04-12 06:36:10.331  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
2025-04-12 06:36:10.337  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Dropped 2 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused)

org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:925)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:840)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:701)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender.postSpans(ZipkinRestTemplateSender.java:50)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:69)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:41)
	at zipkin2.reporter.BaseHttpSender.send(BaseHttpSender.java:123)
	at zipkin2.reporter.internal.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:266)
	at zipkin2.reporter.internal.AsyncReporter$Flusher.run(AsyncReporter.java:352)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:899)
	... 9 common frames omitted

2025-04-12 06:36:10.603  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Started OrderServiceApplication in 81.139 seconds (process running for 84.953)
2025-04-12 06:36:16.257  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-12 06:36:16.259  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-12 06:36:16.270  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 9 ms
2025-04-12 06:41:08.616  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 06:46:08.594  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 06:46:54.964  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ORDERSERVICE with eureka with status DOWN
2025-04-12 06:46:54.970  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744440414969, current=DOWN, previous=UP]
2025-04-12 06:46:54.975  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/404ebf636833:OrderService:9003: registering service...
2025-04-12 06:46:55.013  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/404ebf636833:OrderService:9003 - registration status: 204
2025-04-12 06:46:55.170  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-12 06:46:55.174  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-12 06:46:55.565  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-12 06:46:55.601  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-12 06:46:55.620  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-12 06:46:55.641  INFO [traceId=, spanId=] 1 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-12 06:46:56.947  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 06:46:56.975  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-12 06:46:56.988  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-12 06:46:57.546  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-04-12 06:47:00.548  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-04-12 06:47:00.562  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/404ebf636833:OrderService:9003 - deregister  status: 200
2025-04-12 06:47:00.564  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-04-12 06:49:35.497  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Starting OrderServiceApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 1 (/app/OrderService.jar started by root in /app)
2025-04-12 06:49:35.530 DEBUG [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-04-12 06:49:35.537  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : No active profile set, falling back to 1 default profile: "default"
2025-04-12 06:49:35.833  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-12 06:49:35.844  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=application, profiles=[default], label=null, version=9261a4efe8f68087092a640220bd3f5f9a67a0aa, state=
2025-04-12 06:49:35.847  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-12 06:49:35.852  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=OrderService, profiles=[default], label=null, version=9261a4efe8f68087092a640220bd3f5f9a67a0aa, state=
2025-04-12 06:49:49.228  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-12 06:49:49.248  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-12 06:49:50.464  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1106 ms. Found 2 JPA repository interfaces.
2025-04-12 06:49:50.621  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-12 06:49:50.632  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-04-12 06:49:50.728  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderDetailRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-12 06:49:50.741  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-12 06:49:50.757  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 56 ms. Found 0 Redis repository interfaces.
2025-04-12 06:49:53.808  INFO [traceId=, spanId=] 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=90b70314-821f-37c8-94e4-137079bd6dbe
2025-04-12 06:50:00.597  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9003 (http)
2025-04-12 06:50:00.686  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-12 06:50:00.693  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-12 06:50:01.215  INFO [traceId=, spanId=] 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-12 06:50:01.232  INFO [traceId=, spanId=] 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 25364 ms
2025-04-12 06:50:09.896  INFO [traceId=, spanId=] 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-12 06:50:10.297  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-12 06:50:10.559  INFO [traceId=, spanId=] 1 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-12 06:50:12.610  INFO [traceId=, spanId=] 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-12 06:50:12.824  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-12 06:50:13.876  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 0659c7f4-a699-4df9-9147-043fb50340bf
2025-04-12 06:50:13.891  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-12 06:50:14.198  WARN [traceId=, spanId=] 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-12 06:50:14.293  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-12 06:50:19.826  INFO [traceId=, spanId=] 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-12 06:50:21.128  INFO [traceId=, spanId=] 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 06:50:26.880  WARN [traceId=, spanId=] 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-12 06:50:27.808  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'InventoryService' URL not provided. Will try picking an instance via load-balancing.
2025-04-12 06:50:29.050  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'UserService' URL not provided. Will try picking an instance via load-balancing.
2025-04-12 06:50:37.251  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Connecting to localhost with guest user, assuming development environment
2025-04-12 06:50:37.256  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Using address resolver to always connect to localhost
2025-04-12 06:50:40.526  INFO [traceId=, spanId=] 1 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-04-12 06:50:40.839  WARN [traceId=, spanId=] 1 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-04-12 06:50:40.952  INFO [traceId=, spanId=] 1 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoints beneath base path '/actuator'
2025-04-12 06:50:41.464  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-04-12 06:50:41.588  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-04-12 06:50:41.609  INFO [traceId=, spanId=] 1 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 06:50:41.653  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-04-12 06:50:41.655  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-04-12 06:50:41.658  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-04-12 06:50:41.660  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-04-12 06:50:41.663  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-04-12 06:50:41.667  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-04-12 06:50:41.670  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-04-12 06:50:42.573  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-04-12 06:50:42.586  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-04-12 06:50:42.598  INFO [traceId=, spanId=] 1 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-04-12 06:50:42.606  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1744440642604 with initial instances count: 5
2025-04-12 06:50:42.654  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ORDERSERVICE with eureka with status UP
2025-04-12 06:50:42.658  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744440642658, current=UP, previous=STARTING]
2025-04-12 06:50:42.667  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/eecfe3767e63:OrderService:9003: registering service...
2025-04-12 06:50:42.751  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9003 (http) with context path '/'
2025-04-12 06:50:42.758  INFO [traceId=, spanId=] 1 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9003
2025-04-12 06:50:42.782  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [rabbitmq:5672]
2025-04-12 06:50:42.871  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/eecfe3767e63:OrderService:9003 - registration status: 204
2025-04-12 06:50:43.097  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#2101e969:0/SimpleConnection@4efa7f30 [delegate=amqp://guest@172.19.0.4:5672/, localPort=40664]
2025-04-12 06:50:43.487  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Started OrderServiceApplication in 81.12 seconds (process running for 87.072)
2025-04-12 06:50:43.573  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
2025-04-12 06:50:43.576  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Dropped 2 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused)

org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:925)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:840)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:701)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender.postSpans(ZipkinRestTemplateSender.java:50)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:69)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:41)
	at zipkin2.reporter.BaseHttpSender.send(BaseHttpSender.java:123)
	at zipkin2.reporter.internal.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:266)
	at zipkin2.reporter.internal.AsyncReporter$Flusher.run(AsyncReporter.java:352)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:899)
	... 9 common frames omitted

2025-04-12 06:50:47.703  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-12 06:50:47.706  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-12 06:50:47.725  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 11 ms
2025-04-12 06:55:41.660  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 06:58:24.232  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ORDERSERVICE with eureka with status DOWN
2025-04-12 06:58:24.237  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744441104237, current=DOWN, previous=UP]
2025-04-12 06:58:24.245  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/eecfe3767e63:OrderService:9003: registering service...
2025-04-12 06:58:24.280  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/eecfe3767e63:OrderService:9003 - registration status: 204
2025-04-12 06:58:24.416  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-12 06:58:24.418  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-12 06:58:24.498  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-12 06:58:24.512  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-12 06:58:24.530  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-12 06:58:24.576  INFO [traceId=, spanId=] 1 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-12 06:58:25.974  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 06:58:26.003  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-12 06:58:26.015  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-12 06:58:26.765  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-04-12 06:58:29.767  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-04-12 06:58:29.782  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/eecfe3767e63:OrderService:9003 - deregister  status: 200
2025-04-12 06:58:29.785  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-04-12 07:01:18.481  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Starting OrderServiceApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 1 (/app/OrderService.jar started by root in /app)
2025-04-12 07:01:18.588 DEBUG [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-04-12 07:01:18.595  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : No active profile set, falling back to 1 default profile: "default"
2025-04-12 07:01:19.359  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-12 07:01:19.367  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=application, profiles=[default], label=null, version=9261a4efe8f68087092a640220bd3f5f9a67a0aa, state=
2025-04-12 07:01:19.383  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-12 07:01:19.398  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=OrderService, profiles=[default], label=null, version=9261a4efe8f68087092a640220bd3f5f9a67a0aa, state=
2025-04-12 07:01:33.261  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-12 07:01:33.297  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-12 07:01:34.634  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1213 ms. Found 2 JPA repository interfaces.
2025-04-12 07:01:34.807  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-12 07:01:34.822  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-04-12 07:01:34.969  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderDetailRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-12 07:01:34.988  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-12 07:01:34.997  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 62 ms. Found 0 Redis repository interfaces.
2025-04-12 07:01:38.706  INFO [traceId=, spanId=] 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=90b70314-821f-37c8-94e4-137079bd6dbe
2025-04-12 07:01:43.532  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9003 (http)
2025-04-12 07:01:43.611  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-12 07:01:43.625  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-12 07:01:43.927  INFO [traceId=, spanId=] 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-12 07:01:43.930  INFO [traceId=, spanId=] 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 24483 ms
2025-04-12 07:01:50.383  INFO [traceId=, spanId=] 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-12 07:01:51.332  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-12 07:01:51.793  INFO [traceId=, spanId=] 1 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-12 07:01:54.440  INFO [traceId=, spanId=] 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-12 07:01:54.707  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-12 07:01:56.287  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 0f7b731e-b9dd-4a0b-8a1d-6da0f2d672e8
2025-04-12 07:01:56.306  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-12 07:01:56.733  WARN [traceId=, spanId=] 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-12 07:01:56.917  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-12 07:02:02.426  INFO [traceId=, spanId=] 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-12 07:02:03.551  INFO [traceId=, spanId=] 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 07:02:08.067  WARN [traceId=, spanId=] 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-12 07:02:09.338  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'InventoryService' URL not provided. Will try picking an instance via load-balancing.
2025-04-12 07:02:10.534  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'UserService' URL not provided. Will try picking an instance via load-balancing.
2025-04-12 07:02:20.959  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Connecting to localhost with guest user, assuming development environment
2025-04-12 07:02:20.961  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Using address resolver to always connect to localhost
2025-04-12 07:02:26.506  INFO [traceId=, spanId=] 1 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-04-12 07:02:27.372  WARN [traceId=, spanId=] 1 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-04-12 07:02:27.514  INFO [traceId=, spanId=] 1 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoints beneath base path '/actuator'
2025-04-12 07:02:27.916  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-04-12 07:02:28.015  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-04-12 07:02:28.028  INFO [traceId=, spanId=] 1 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 07:02:28.069  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-04-12 07:02:28.071  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-04-12 07:02:28.074  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-04-12 07:02:28.078  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-04-12 07:02:28.080  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-04-12 07:02:28.083  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-04-12 07:02:28.089  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-04-12 07:02:28.728  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-04-12 07:02:28.738  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-04-12 07:02:28.750  INFO [traceId=, spanId=] 1 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-04-12 07:02:28.756  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1744441348755 with initial instances count: 4
2025-04-12 07:02:28.785  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ORDERSERVICE with eureka with status UP
2025-04-12 07:02:28.790  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744441348790, current=UP, previous=STARTING]
2025-04-12 07:02:28.797  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/6a21f5616330:OrderService:9003: registering service...
2025-04-12 07:02:28.862  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9003 (http) with context path '/'
2025-04-12 07:02:28.865  INFO [traceId=, spanId=] 1 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9003
2025-04-12 07:02:28.876  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [rabbitmq:5672]
2025-04-12 07:02:28.943  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/6a21f5616330:OrderService:9003 - registration status: 204
2025-04-12 07:02:29.148  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#11b59291:0/SimpleConnection@44d92f46 [delegate=amqp://guest@172.19.0.4:5672/, localPort=43272]
2025-04-12 07:02:29.513  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Started OrderServiceApplication in 89.056 seconds (process running for 94.013)
2025-04-12 07:02:29.731  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
2025-04-12 07:02:29.733  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Dropped 2 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused)

org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:925)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:840)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:701)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender.postSpans(ZipkinRestTemplateSender.java:50)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:69)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:41)
	at zipkin2.reporter.BaseHttpSender.send(BaseHttpSender.java:123)
	at zipkin2.reporter.internal.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:266)
	at zipkin2.reporter.internal.AsyncReporter$Flusher.run(AsyncReporter.java:352)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:899)
	... 9 common frames omitted

2025-04-12 07:02:56.531  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-12 07:02:56.533  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-12 07:02:56.541  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2025-04-12 07:06:13.856  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ORDERSERVICE with eureka with status DOWN
2025-04-12 07:06:13.859  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744441573858, current=DOWN, previous=UP]
2025-04-12 07:06:13.861  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/6a21f5616330:OrderService:9003: registering service...
2025-04-12 07:06:13.885  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/6a21f5616330:OrderService:9003 - registration status: 204
2025-04-12 07:06:13.896  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-12 07:06:13.901  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-12 07:06:14.494  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-12 07:06:14.512  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-12 07:06:14.516  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-12 07:06:14.522  INFO [traceId=, spanId=] 1 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-12 07:06:15.600  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 07:06:15.603  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-12 07:06:15.608  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-12 07:06:15.814  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-04-12 07:06:18.815  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-04-12 07:06:18.826  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/6a21f5616330:OrderService:9003 - deregister  status: 200
2025-04-12 07:06:18.829  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-04-12 07:11:10.824  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Starting OrderServiceApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 1 (/app/OrderService.jar started by root in /app)
2025-04-12 07:11:10.863 DEBUG [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-04-12 07:11:10.870  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : No active profile set, falling back to 1 default profile: "default"
2025-04-12 07:11:11.448  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-12 07:11:11.461  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=application, profiles=[default], label=null, version=9261a4efe8f68087092a640220bd3f5f9a67a0aa, state=
2025-04-12 07:11:11.471  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-12 07:11:11.499  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=OrderService, profiles=[default], label=null, version=9261a4efe8f68087092a640220bd3f5f9a67a0aa, state=
2025-04-12 07:11:24.440  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-12 07:11:24.462  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-12 07:11:25.949  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1401 ms. Found 2 JPA repository interfaces.
2025-04-12 07:11:26.169  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-12 07:11:26.192  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-04-12 07:11:26.359  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderDetailRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-12 07:11:26.366  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-12 07:11:26.374  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 34 ms. Found 0 Redis repository interfaces.
2025-04-12 07:11:29.765  INFO [traceId=, spanId=] 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=90b70314-821f-37c8-94e4-137079bd6dbe
2025-04-12 07:11:35.629  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9003 (http)
2025-04-12 07:11:35.691  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-12 07:11:35.696  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-12 07:11:35.872  INFO [traceId=, spanId=] 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-12 07:11:35.876  INFO [traceId=, spanId=] 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 24339 ms
2025-04-12 07:11:39.717  INFO [traceId=, spanId=] 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-12 07:11:40.093  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-12 07:11:40.294  INFO [traceId=, spanId=] 1 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-12 07:11:41.781  INFO [traceId=, spanId=] 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-12 07:11:41.974  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-12 07:11:42.848  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 362492f3-0958-4df8-88e9-b85ba726b850
2025-04-12 07:11:42.859  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-12 07:11:43.166  WARN [traceId=, spanId=] 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-12 07:11:43.465  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-12 07:11:48.923  INFO [traceId=, spanId=] 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-12 07:11:50.248  INFO [traceId=, spanId=] 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 07:11:53.929  WARN [traceId=, spanId=] 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-12 07:11:55.424  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'InventoryService' URL not provided. Will try picking an instance via load-balancing.
2025-04-12 07:11:56.699  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'UserService' URL not provided. Will try picking an instance via load-balancing.
2025-04-12 07:12:05.368  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Connecting to localhost with guest user, assuming development environment
2025-04-12 07:12:05.370  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Using address resolver to always connect to localhost
2025-04-12 07:12:09.351  INFO [traceId=, spanId=] 1 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-04-12 07:12:09.692  WARN [traceId=, spanId=] 1 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-04-12 07:12:09.790  INFO [traceId=, spanId=] 1 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoints beneath base path '/actuator'
2025-04-12 07:12:10.433  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-04-12 07:12:10.506  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-04-12 07:12:10.518  INFO [traceId=, spanId=] 1 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 07:12:10.548  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-04-12 07:12:10.550  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-04-12 07:12:10.552  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-04-12 07:12:10.554  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-04-12 07:12:10.556  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-04-12 07:12:10.559  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-04-12 07:12:10.561  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-04-12 07:12:11.007  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-04-12 07:12:11.016  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-04-12 07:12:11.024  INFO [traceId=, spanId=] 1 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-04-12 07:12:11.029  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1744441931028 with initial instances count: 5
2025-04-12 07:12:11.054  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ORDERSERVICE with eureka with status UP
2025-04-12 07:12:11.057  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744441931057, current=UP, previous=STARTING]
2025-04-12 07:12:11.063  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/3d388b2a7358:OrderService:9003: registering service...
2025-04-12 07:12:11.104  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9003 (http) with context path '/'
2025-04-12 07:12:11.107  INFO [traceId=, spanId=] 1 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9003
2025-04-12 07:12:11.119  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [rabbitmq:5672]
2025-04-12 07:12:11.186  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/3d388b2a7358:OrderService:9003 - registration status: 204
2025-04-12 07:12:11.291  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#70d259a5:0/SimpleConnection@678f7a91 [delegate=amqp://guest@172.19.0.4:5672/, localPort=53432]
2025-04-12 07:12:11.584  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Started OrderServiceApplication in 77.765 seconds (process running for 86.151)
2025-04-12 07:12:12.025  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
2025-04-12 07:12:12.030  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Dropped 2 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused)

org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:925)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:840)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:701)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender.postSpans(ZipkinRestTemplateSender.java:50)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:69)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:41)
	at zipkin2.reporter.BaseHttpSender.send(BaseHttpSender.java:123)
	at zipkin2.reporter.internal.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:266)
	at zipkin2.reporter.internal.AsyncReporter$Flusher.run(AsyncReporter.java:352)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:899)
	... 9 common frames omitted

2025-04-12 07:12:16.092  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-12 07:12:16.095  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-12 07:12:16.125  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 9 ms
2025-04-12 07:17:10.539  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 07:21:38.689  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ORDERSERVICE with eureka with status DOWN
2025-04-12 07:21:38.695  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744442498695, current=DOWN, previous=UP]
2025-04-12 07:21:38.705  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/3d388b2a7358:OrderService:9003: registering service...
2025-04-12 07:21:38.751  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/3d388b2a7358:OrderService:9003 - registration status: 204
2025-04-12 07:21:38.773  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-12 07:21:38.784  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-12 07:21:39.607  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-12 07:21:39.621  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-12 07:21:39.634  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-12 07:21:39.647  INFO [traceId=, spanId=] 1 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-12 07:21:40.846  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 07:21:40.874  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-12 07:21:40.883  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-12 07:21:41.217  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-04-12 07:21:44.220  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-04-12 07:21:44.240  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/3d388b2a7358:OrderService:9003 - deregister  status: 200
2025-04-12 07:21:44.243  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-04-12 07:24:46.985  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Starting OrderServiceApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 1 (/app/OrderService.jar started by root in /app)
2025-04-12 07:24:47.095 DEBUG [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-04-12 07:24:47.107  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : No active profile set, falling back to 1 default profile: "default"
2025-04-12 07:24:47.795  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-12 07:24:47.840  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=application, profiles=[default], label=null, version=9261a4efe8f68087092a640220bd3f5f9a67a0aa, state=
2025-04-12 07:24:47.860  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-12 07:24:47.880  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=OrderService, profiles=[default], label=null, version=9261a4efe8f68087092a640220bd3f5f9a67a0aa, state=
2025-04-12 07:25:02.120  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-12 07:25:02.136  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-12 07:25:03.100  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 878 ms. Found 2 JPA repository interfaces.
2025-04-12 07:25:03.233  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-12 07:25:03.259  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-04-12 07:25:03.330  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderDetailRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-12 07:25:03.336  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-12 07:25:03.340  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 26 ms. Found 0 Redis repository interfaces.
2025-04-12 07:25:06.720  INFO [traceId=, spanId=] 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=90b70314-821f-37c8-94e4-137079bd6dbe
2025-04-12 07:25:13.173  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9003 (http)
2025-04-12 07:25:13.272  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-12 07:25:13.276  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-12 07:25:13.478  INFO [traceId=, spanId=] 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-12 07:25:13.484  INFO [traceId=, spanId=] 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 25558 ms
2025-04-12 07:25:20.822  INFO [traceId=, spanId=] 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-12 07:25:21.332  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-12 07:25:21.609  INFO [traceId=, spanId=] 1 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-12 07:25:23.359  INFO [traceId=, spanId=] 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-12 07:25:23.554  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-12 07:25:24.596  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 6a20fc4a-0680-4202-819c-9b6d42e3e10b
2025-04-12 07:25:24.608  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-12 07:25:24.908  WARN [traceId=, spanId=] 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-12 07:25:25.051  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-12 07:25:30.604  INFO [traceId=, spanId=] 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-12 07:25:32.473  INFO [traceId=, spanId=] 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 07:25:36.931  WARN [traceId=, spanId=] 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-12 07:25:40.078  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'InventoryService' URL not provided. Will try picking an instance via load-balancing.
2025-04-12 07:25:42.933  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'UserService' URL not provided. Will try picking an instance via load-balancing.
2025-04-12 07:25:59.269  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Connecting to localhost with guest user, assuming development environment
2025-04-12 07:25:59.272  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Using address resolver to always connect to localhost
2025-04-12 07:26:03.882  INFO [traceId=, spanId=] 1 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-04-12 07:26:05.303  WARN [traceId=, spanId=] 1 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-04-12 07:26:05.597  INFO [traceId=, spanId=] 1 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoints beneath base path '/actuator'
2025-04-12 07:26:06.295  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-04-12 07:26:06.508  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-04-12 07:26:06.533  INFO [traceId=, spanId=] 1 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 07:26:06.590  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-04-12 07:26:06.592  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-04-12 07:26:06.595  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-04-12 07:26:06.597  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-04-12 07:26:06.599  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-04-12 07:26:06.602  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-04-12 07:26:06.605  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-04-12 07:26:07.186  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-04-12 07:26:07.193  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-04-12 07:26:07.201  INFO [traceId=, spanId=] 1 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-04-12 07:26:07.207  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1744442767206 with initial instances count: 6
2025-04-12 07:26:07.234  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ORDERSERVICE with eureka with status UP
2025-04-12 07:26:07.238  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744442767238, current=UP, previous=STARTING]
2025-04-12 07:26:07.244  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/c078b6e981e5:OrderService:9003: registering service...
2025-04-12 07:26:07.285  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9003 (http) with context path '/'
2025-04-12 07:26:07.289  INFO [traceId=, spanId=] 1 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9003
2025-04-12 07:26:07.302  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [rabbitmq:5672]
2025-04-12 07:26:07.364  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/c078b6e981e5:OrderService:9003 - registration status: 204
2025-04-12 07:26:07.489  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#b41c538:0/SimpleConnection@74ec23fc [delegate=amqp://guest@172.19.0.4:5672/, localPort=53418]
2025-04-12 07:26:07.783  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Started OrderServiceApplication in 95.32 seconds (process running for 101.248)
2025-04-12 07:26:08.196  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
2025-04-12 07:26:08.199  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Dropped 2 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused)

org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:925)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:840)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:701)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender.postSpans(ZipkinRestTemplateSender.java:50)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:69)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:41)
	at zipkin2.reporter.BaseHttpSender.send(BaseHttpSender.java:123)
	at zipkin2.reporter.internal.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:266)
	at zipkin2.reporter.internal.AsyncReporter$Flusher.run(AsyncReporter.java:352)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:899)
	... 9 common frames omitted

2025-04-12 07:26:27.161  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-12 07:26:27.164  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-12 07:26:27.180  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 14 ms
2025-04-12 07:31:06.592  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 07:33:33.936  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ORDERSERVICE with eureka with status DOWN
2025-04-12 07:33:33.940  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744443213940, current=DOWN, previous=UP]
2025-04-12 07:33:33.943  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/c078b6e981e5:OrderService:9003: registering service...
2025-04-12 07:33:33.981  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/c078b6e981e5:OrderService:9003 - registration status: 204
2025-04-12 07:33:34.108  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-12 07:33:34.111  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-12 07:33:34.799  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-12 07:33:34.812  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-12 07:33:34.823  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-12 07:33:34.836  INFO [traceId=, spanId=] 1 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-12 07:33:36.016  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 07:33:36.045  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-12 07:33:36.059  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-12 07:33:36.351  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-04-12 07:33:39.353  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-04-12 07:33:39.354  WARN [traceId=, spanId=] 1 --- [DiscoveryClient-%d] c.netflix.discovery.TimedSupervisorTask  : task supervisor shutting down, can't accept the task
2025-04-12 07:33:39.377  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/c078b6e981e5:OrderService:9003 - deregister  status: 200
2025-04-12 07:33:39.380  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-04-12 07:38:29.199  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Starting OrderServiceApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 1 (/app/OrderService.jar started by root in /app)
2025-04-12 07:38:29.306 DEBUG [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-04-12 07:38:29.336  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : No active profile set, falling back to 1 default profile: "default"
2025-04-12 07:38:30.242  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-12 07:38:30.283  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=application, profiles=[default], label=null, version=9261a4efe8f68087092a640220bd3f5f9a67a0aa, state=
2025-04-12 07:38:30.313  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-12 07:38:30.324  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=OrderService, profiles=[default], label=null, version=9261a4efe8f68087092a640220bd3f5f9a67a0aa, state=
2025-04-12 07:38:49.841  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-12 07:38:49.877  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-12 07:38:51.733  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1731 ms. Found 2 JPA repository interfaces.
2025-04-12 07:38:51.946  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-12 07:38:51.956  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-04-12 07:38:52.105  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderDetailRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-12 07:38:52.124  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-12 07:38:52.141  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 79 ms. Found 0 Redis repository interfaces.
2025-04-12 07:38:56.949  INFO [traceId=, spanId=] 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=90b70314-821f-37c8-94e4-137079bd6dbe
2025-04-12 07:39:07.728  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9003 (http)
2025-04-12 07:39:07.883  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-12 07:39:07.912  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-12 07:39:08.321  INFO [traceId=, spanId=] 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-12 07:39:08.326  INFO [traceId=, spanId=] 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 37962 ms
2025-04-12 07:39:16.472  INFO [traceId=, spanId=] 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-12 07:39:17.358  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-12 07:39:17.799  INFO [traceId=, spanId=] 1 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-12 07:39:20.584  INFO [traceId=, spanId=] 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-12 07:39:20.870  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-12 07:39:22.221  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 0c80b672-0061-4c4c-8ca6-8edb557a2075
2025-04-12 07:39:22.242  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-12 07:39:22.684  WARN [traceId=, spanId=] 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-12 07:39:23.027  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-12 07:39:30.412  INFO [traceId=, spanId=] 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-12 07:39:32.661  INFO [traceId=, spanId=] 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 07:39:37.914  WARN [traceId=, spanId=] 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-12 07:39:39.423  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'InventoryService' URL not provided. Will try picking an instance via load-balancing.
2025-04-12 07:39:41.134  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'UserService' URL not provided. Will try picking an instance via load-balancing.
2025-04-12 07:40:01.288  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Connecting to localhost with guest user, assuming development environment
2025-04-12 07:40:01.291  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Using address resolver to always connect to localhost
2025-04-12 07:40:07.864  INFO [traceId=, spanId=] 1 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-04-12 07:40:08.579  WARN [traceId=, spanId=] 1 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-04-12 07:40:08.786  INFO [traceId=, spanId=] 1 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoints beneath base path '/actuator'
2025-04-12 07:40:09.399  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-04-12 07:40:09.563  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-04-12 07:40:09.593  INFO [traceId=, spanId=] 1 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 07:40:09.652  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-04-12 07:40:09.654  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-04-12 07:40:09.657  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-04-12 07:40:09.659  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-04-12 07:40:09.661  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-04-12 07:40:09.664  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-04-12 07:40:09.666  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-04-12 07:40:10.767  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-04-12 07:40:10.782  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-04-12 07:40:10.793  INFO [traceId=, spanId=] 1 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-04-12 07:40:10.806  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1744443610805 with initial instances count: 5
2025-04-12 07:40:10.861  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ORDERSERVICE with eureka with status UP
2025-04-12 07:40:10.867  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744443610867, current=UP, previous=STARTING]
2025-04-12 07:40:10.876  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/fdac2df2106c:OrderService:9003: registering service...
2025-04-12 07:40:10.973  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9003 (http) with context path '/'
2025-04-12 07:40:10.982  INFO [traceId=, spanId=] 1 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9003
2025-04-12 07:40:11.019  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [rabbitmq:5672]
2025-04-12 07:40:11.165  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/fdac2df2106c:OrderService:9003 - registration status: 204
2025-04-12 07:40:11.493  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#2495bc30:0/SimpleConnection@2aa31739 [delegate=amqp://guest@172.19.0.4:5672/, localPort=39666]
2025-04-12 07:40:11.783  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
2025-04-12 07:40:11.785  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Dropped 2 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused)

org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:925)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:840)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:701)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender.postSpans(ZipkinRestTemplateSender.java:50)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:69)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:41)
	at zipkin2.reporter.BaseHttpSender.send(BaseHttpSender.java:123)
	at zipkin2.reporter.internal.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:266)
	at zipkin2.reporter.internal.AsyncReporter$Flusher.run(AsyncReporter.java:352)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:899)
	... 9 common frames omitted

2025-04-12 07:40:11.944  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Started OrderServiceApplication in 120.773 seconds (process running for 127.948)
2025-04-12 07:40:35.625  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-12 07:40:35.630  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-12 07:40:35.656  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 21 ms
2025-04-12 07:45:09.656  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 07:48:28.105  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ORDERSERVICE with eureka with status DOWN
2025-04-12 07:48:28.115  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744444108115, current=DOWN, previous=UP]
2025-04-12 07:48:28.130  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/fdac2df2106c:OrderService:9003: registering service...
2025-04-12 07:48:28.165  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/fdac2df2106c:OrderService:9003 - registration status: 204
2025-04-12 07:48:28.186  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-12 07:48:28.219  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-12 07:48:28.952  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-12 07:48:28.972  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-12 07:48:28.980  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-12 07:48:28.989  INFO [traceId=, spanId=] 1 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-12 07:48:30.100  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 07:48:30.116  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-12 07:48:30.122  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-12 07:48:30.949  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-04-12 07:48:33.951  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-04-12 07:48:33.962  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/fdac2df2106c:OrderService:9003 - deregister  status: 200
2025-04-12 07:48:33.964  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-04-12 07:51:35.853  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Starting OrderServiceApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 1 (/app/OrderService.jar started by root in /app)
2025-04-12 07:51:35.905 DEBUG [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-04-12 07:51:35.921  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : No active profile set, falling back to 1 default profile: "default"
2025-04-12 07:51:36.523  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-12 07:51:36.525  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=application, profiles=[default], label=null, version=9261a4efe8f68087092a640220bd3f5f9a67a0aa, state=
2025-04-12 07:51:36.530  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-12 07:51:36.602  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=OrderService, profiles=[default], label=null, version=9261a4efe8f68087092a640220bd3f5f9a67a0aa, state=
2025-04-12 07:51:53.933  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-12 07:51:53.953  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-12 07:51:55.333  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1295 ms. Found 2 JPA repository interfaces.
2025-04-12 07:51:55.514  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-12 07:51:55.533  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-04-12 07:51:55.669  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderDetailRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-12 07:51:55.677  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-12 07:51:55.685  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 50 ms. Found 0 Redis repository interfaces.
2025-04-12 07:51:59.868  INFO [traceId=, spanId=] 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=90b70314-821f-37c8-94e4-137079bd6dbe
2025-04-12 07:52:08.055  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9003 (http)
2025-04-12 07:52:08.134  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-12 07:52:08.147  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-12 07:52:08.399  INFO [traceId=, spanId=] 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-12 07:52:08.403  INFO [traceId=, spanId=] 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 31773 ms
2025-04-12 07:52:14.143  INFO [traceId=, spanId=] 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-12 07:52:14.781  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-12 07:52:15.026  INFO [traceId=, spanId=] 1 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-12 07:52:17.067  INFO [traceId=, spanId=] 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-12 07:52:17.304  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-12 07:52:18.264  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 1383978b-d32f-4258-ba7d-c8187d67cc41
2025-04-12 07:52:18.277  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-12 07:52:18.509  WARN [traceId=, spanId=] 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-12 07:52:18.686  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-12 07:52:24.002  INFO [traceId=, spanId=] 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-12 07:52:25.753  INFO [traceId=, spanId=] 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 07:52:28.709  WARN [traceId=, spanId=] 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-12 07:52:29.555  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'InventoryService' URL not provided. Will try picking an instance via load-balancing.
2025-04-12 07:52:31.360  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'UserService' URL not provided. Will try picking an instance via load-balancing.
2025-04-12 07:52:45.480  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Connecting to localhost with guest user, assuming development environment
2025-04-12 07:52:45.483  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Using address resolver to always connect to localhost
2025-04-12 07:52:48.353  INFO [traceId=, spanId=] 1 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-04-12 07:52:48.594  WARN [traceId=, spanId=] 1 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-04-12 07:52:48.688  INFO [traceId=, spanId=] 1 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoints beneath base path '/actuator'
2025-04-12 07:52:49.031  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-04-12 07:52:49.119  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-04-12 07:52:49.133  INFO [traceId=, spanId=] 1 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 07:52:49.167  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-04-12 07:52:49.169  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-04-12 07:52:49.170  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-04-12 07:52:49.172  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-04-12 07:52:49.174  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-04-12 07:52:49.177  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-04-12 07:52:49.179  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-04-12 07:52:49.660  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-04-12 07:52:49.671  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-04-12 07:52:49.686  INFO [traceId=, spanId=] 1 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-04-12 07:52:49.695  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1744444369693 with initial instances count: 5
2025-04-12 07:52:49.736  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ORDERSERVICE with eureka with status UP
2025-04-12 07:52:49.742  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744444369742, current=UP, previous=STARTING]
2025-04-12 07:52:49.749  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/2b271a4a99cc:OrderService:9003: registering service...
2025-04-12 07:52:49.819  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9003 (http) with context path '/'
2025-04-12 07:52:49.822  INFO [traceId=, spanId=] 1 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9003
2025-04-12 07:52:49.841  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [rabbitmq:5672]
2025-04-12 07:52:49.905  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/2b271a4a99cc:OrderService:9003 - registration status: 204
2025-04-12 07:52:50.054  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#6b41df80:0/SimpleConnection@7cfb8bf0 [delegate=amqp://guest@172.19.0.4:5672/, localPort=48326]
2025-04-12 07:52:50.354  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Started OrderServiceApplication in 91.071 seconds (process running for 96.774)
2025-04-12 07:52:50.666  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
2025-04-12 07:52:50.669  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Dropped 2 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused)

org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:925)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:840)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:701)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender.postSpans(ZipkinRestTemplateSender.java:50)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:69)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:41)
	at zipkin2.reporter.BaseHttpSender.send(BaseHttpSender.java:123)
	at zipkin2.reporter.internal.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:266)
	at zipkin2.reporter.internal.AsyncReporter$Flusher.run(AsyncReporter.java:352)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:899)
	... 9 common frames omitted

2025-04-12 07:53:14.418  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-12 07:53:14.422  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-12 07:53:14.447  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 18 ms
2025-04-12 07:53:43.286  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ORDERSERVICE with eureka with status DOWN
2025-04-12 07:53:43.306  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744444423306, current=DOWN, previous=UP]
2025-04-12 07:53:43.318  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/2b271a4a99cc:OrderService:9003: registering service...
2025-04-12 07:53:43.364  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/2b271a4a99cc:OrderService:9003 - registration status: 204
2025-04-12 07:53:43.379  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-12 07:53:43.400  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-12 07:53:44.323  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-12 07:53:44.336  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-12 07:53:44.343  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-12 07:53:44.353  INFO [traceId=, spanId=] 1 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-12 07:53:45.493  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 07:53:45.499  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-12 07:53:45.507  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-12 07:53:45.712  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-04-12 07:53:48.714  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-04-12 07:53:48.724  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/2b271a4a99cc:OrderService:9003 - deregister  status: 200
2025-04-12 07:53:48.726  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-04-13 06:15:13.202  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Starting OrderServiceApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 1 (/app/OrderService.jar started by root in /app)
2025-04-13 06:15:13.316 DEBUG [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-04-13 06:15:13.345  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : No active profile set, falling back to 1 default profile: "default"
2025-04-13 06:15:14.003  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-13 06:15:14.012  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=application, profiles=[default], label=null, version=9261a4efe8f68087092a640220bd3f5f9a67a0aa, state=
2025-04-13 06:15:14.016  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-13 06:15:14.018  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=OrderService, profiles=[default], label=null, version=9261a4efe8f68087092a640220bd3f5f9a67a0aa, state=
2025-04-13 06:15:28.173  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-13 06:15:28.187  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-13 06:15:29.239  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 963 ms. Found 2 JPA repository interfaces.
2025-04-13 06:15:29.372  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-13 06:15:29.390  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-04-13 06:15:29.499  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderDetailRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-13 06:15:29.513  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-13 06:15:29.516  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 42 ms. Found 0 Redis repository interfaces.
2025-04-13 06:15:32.274  INFO [traceId=, spanId=] 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=90b70314-821f-37c8-94e4-137079bd6dbe
2025-04-13 06:15:37.631  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9003 (http)
2025-04-13 06:15:37.692  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-13 06:15:37.699  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-13 06:15:37.873  INFO [traceId=, spanId=] 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-13 06:15:37.876  INFO [traceId=, spanId=] 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 23790 ms
2025-04-13 06:15:42.235  INFO [traceId=, spanId=] 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-13 06:15:42.690  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-13 06:15:42.914  INFO [traceId=, spanId=] 1 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-13 06:15:44.770  INFO [traceId=, spanId=] 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-13 06:15:44.968  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-13 06:15:46.297  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: e5cf4fae-a7d7-428d-bb9f-d5c343faf8f5
2025-04-13 06:15:46.309  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-13 06:15:46.776  WARN [traceId=, spanId=] 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-13 06:15:46.947  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-13 06:15:51.608  INFO [traceId=, spanId=] 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-13 06:15:52.802  INFO [traceId=, spanId=] 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-13 06:15:56.855  WARN [traceId=, spanId=] 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-13 06:15:58.300  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'InventoryService' URL not provided. Will try picking an instance via load-balancing.
2025-04-13 06:15:59.926  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'UserService' URL not provided. Will try picking an instance via load-balancing.
2025-04-13 06:16:10.795  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Connecting to localhost with guest user, assuming development environment
2025-04-13 06:16:10.798  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Using address resolver to always connect to localhost
2025-04-13 06:16:14.499  INFO [traceId=, spanId=] 1 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-04-13 06:16:14.988  WARN [traceId=, spanId=] 1 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-04-13 06:16:15.157  INFO [traceId=, spanId=] 1 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoints beneath base path '/actuator'
2025-04-13 06:16:15.693  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-04-13 06:16:15.825  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-04-13 06:16:15.850  INFO [traceId=, spanId=] 1 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-13 06:16:15.917  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-04-13 06:16:15.922  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-04-13 06:16:15.927  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-04-13 06:16:15.929  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-04-13 06:16:15.932  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-04-13 06:16:15.935  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-04-13 06:16:15.938  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-04-13 06:16:16.550  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-04-13 06:16:16.560  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-04-13 06:16:16.571  INFO [traceId=, spanId=] 1 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-04-13 06:16:16.587  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1744524976585 with initial instances count: 4
2025-04-13 06:16:16.651  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ORDERSERVICE with eureka with status UP
2025-04-13 06:16:16.658  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744524976657, current=UP, previous=STARTING]
2025-04-13 06:16:16.675  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/555a10234861:OrderService:9003: registering service...
2025-04-13 06:16:16.814  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9003 (http) with context path '/'
2025-04-13 06:16:16.819  INFO [traceId=, spanId=] 1 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9003
2025-04-13 06:16:16.847  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [rabbitmq:5672]
2025-04-13 06:16:17.052  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/555a10234861:OrderService:9003 - registration status: 204
2025-04-13 06:16:17.435  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#10063448:0/SimpleConnection@25fcc928 [delegate=amqp://guest@172.19.0.4:5672/, localPort=50376]
2025-04-13 06:16:17.608  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
2025-04-13 06:16:17.621  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Dropped 2 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused)

org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:925)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:840)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:701)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender.postSpans(ZipkinRestTemplateSender.java:50)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:69)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:41)
	at zipkin2.reporter.BaseHttpSender.send(BaseHttpSender.java:123)
	at zipkin2.reporter.internal.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:266)
	at zipkin2.reporter.internal.AsyncReporter$Flusher.run(AsyncReporter.java:352)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:899)
	... 9 common frames omitted

2025-04-13 06:16:18.586  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Started OrderServiceApplication in 79.48 seconds (process running for 86.503)
2025-04-13 06:16:22.798  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-13 06:16:22.802  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-13 06:16:22.818  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 13 ms
2025-04-13 06:18:01.104  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling CustomerService for customerId: 9a54db74-521e-4870-81aa-56925fceb6b0
2025-04-13 06:18:01.488  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling System User Service for systemUserId: 046a91e9-dfc3-4715-934d-53c427e1f992
2025-04-13 06:18:01.626  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling CustomerService for customerId: 008b425f-fcbe-4b3a-952c-555835a4dc2c
2025-04-13 06:18:01.712  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling System User Service for systemUserId: 046a91e9-dfc3-4715-934d-53c427e1f992
2025-04-13 06:18:01.824  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling CustomerService for customerId: 9a54db74-521e-4870-81aa-56925fceb6b0
2025-04-13 06:18:01.883  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling System User Service for systemUserId: 046a91e9-dfc3-4715-934d-53c427e1f992
2025-04-13 06:18:02.002  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling CustomerService for customerId: 2a965310-71c4-4d25-a257-257edd815e3a
2025-04-13 06:18:02.160  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling System User Service for systemUserId: ce60452d-d5c8-4fbd-8173-967a2857938b
2025-04-13 06:18:02.335  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling CustomerService for customerId: 9a54db74-521e-4870-81aa-56925fceb6b0
2025-04-13 06:18:02.404  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling System User Service for systemUserId: 046a91e9-dfc3-4715-934d-53c427e1f992
2025-04-13 06:18:02.497  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling CustomerService for customerId: 008b425f-fcbe-4b3a-952c-555835a4dc2c
2025-04-13 06:18:02.560  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling System User Service for systemUserId: 046a91e9-dfc3-4715-934d-53c427e1f992
2025-04-13 06:18:02.651  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling CustomerService for customerId: 9a54db74-521e-4870-81aa-56925fceb6b0
2025-04-13 06:18:02.715  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling System User Service for systemUserId: 046a91e9-dfc3-4715-934d-53c427e1f992
2025-04-13 06:18:02.815  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling CustomerService for customerId: 9a54db74-521e-4870-81aa-56925fceb6b0
2025-04-13 06:18:02.901  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling System User Service for systemUserId: 046a91e9-dfc3-4715-934d-53c427e1f992
2025-04-13 06:18:02.997  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling CustomerService for customerId: 9a54db74-521e-4870-81aa-56925fceb6b0
2025-04-13 06:18:03.053  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling System User Service for systemUserId: 046a91e9-dfc3-4715-934d-53c427e1f992
2025-04-13 06:18:03.134  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling CustomerService for customerId: 008b425f-fcbe-4b3a-952c-555835a4dc2c
2025-04-13 06:18:03.203  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling System User Service for systemUserId: 046a91e9-dfc3-4715-934d-53c427e1f992
2025-04-13 06:18:03.298  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling CustomerService for customerId: 008b425f-fcbe-4b3a-952c-555835a4dc2c
2025-04-13 06:18:03.369  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling System User Service for systemUserId: 046a91e9-dfc3-4715-934d-53c427e1f992
2025-04-13 06:18:03.465  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling CustomerService for customerId: 9a54db74-521e-4870-81aa-56925fceb6b0
2025-04-13 06:18:03.534  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling System User Service for systemUserId: 046a91e9-dfc3-4715-934d-53c427e1f992
2025-04-13 06:18:03.636  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling CustomerService for customerId: 008b425f-fcbe-4b3a-952c-555835a4dc2c
2025-04-13 06:18:03.698  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling System User Service for systemUserId: 046a91e9-dfc3-4715-934d-53c427e1f992
2025-04-13 06:18:03.782  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling CustomerService for customerId: 008b425f-fcbe-4b3a-952c-555835a4dc2c
2025-04-13 06:18:03.835  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling System User Service for systemUserId: 046a91e9-dfc3-4715-934d-53c427e1f992
2025-04-13 06:18:03.899  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling CustomerService for customerId: 9a54db74-521e-4870-81aa-56925fceb6b0
2025-04-13 06:18:03.950  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling System User Service for systemUserId: 046a91e9-dfc3-4715-934d-53c427e1f992
2025-04-13 06:18:04.023  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling CustomerService for customerId: 008b425f-fcbe-4b3a-952c-555835a4dc2c
2025-04-13 06:18:04.080  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling System User Service for systemUserId: 046a91e9-dfc3-4715-934d-53c427e1f992
2025-04-13 06:18:04.154  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling CustomerService for customerId: ba21e63f-c8cc-41c1-aa7c-bde769860887
2025-04-13 06:18:04.202  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling System User Service for systemUserId: 046a91e9-dfc3-4715-934d-53c427e1f992
2025-04-13 06:18:04.273  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling CustomerService for customerId: 9a54db74-521e-4870-81aa-56925fceb6b0
2025-04-13 06:18:04.322  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling System User Service for systemUserId: 046a91e9-dfc3-4715-934d-53c427e1f992
2025-04-13 06:18:04.397  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling CustomerService for customerId: 008b425f-fcbe-4b3a-952c-555835a4dc2c
2025-04-13 06:18:04.459  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling System User Service for systemUserId: 046a91e9-dfc3-4715-934d-53c427e1f992
2025-04-13 06:18:04.547  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling CustomerService for customerId: 9a54db74-521e-4870-81aa-56925fceb6b0
2025-04-13 06:18:04.616  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling System User Service for systemUserId: 046a91e9-dfc3-4715-934d-53c427e1f992
2025-04-13 06:18:04.698  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling CustomerService for customerId: 9a54db74-521e-4870-81aa-56925fceb6b0
2025-04-13 06:18:04.779  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling System User Service for systemUserId: 046a91e9-dfc3-4715-934d-53c427e1f992
2025-04-13 06:18:04.875  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling CustomerService for customerId: 9a54db74-521e-4870-81aa-56925fceb6b0
2025-04-13 06:18:04.917  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling System User Service for systemUserId: 046a91e9-dfc3-4715-934d-53c427e1f992
2025-04-13 06:18:04.980  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling CustomerService for customerId: 9a54db74-521e-4870-81aa-56925fceb6b0
2025-04-13 06:18:05.025  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling System User Service for systemUserId: 046a91e9-dfc3-4715-934d-53c427e1f992
2025-04-13 06:18:05.082  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling CustomerService for customerId: 008b425f-fcbe-4b3a-952c-555835a4dc2c
2025-04-13 06:18:05.125  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling System User Service for systemUserId: 046a91e9-dfc3-4715-934d-53c427e1f992
2025-04-13 06:18:05.187  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling CustomerService for customerId: 008b425f-fcbe-4b3a-952c-555835a4dc2c
2025-04-13 06:18:05.231  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling System User Service for systemUserId: 046a91e9-dfc3-4715-934d-53c427e1f992
2025-04-13 06:18:05.301  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling CustomerService for customerId: 9a54db74-521e-4870-81aa-56925fceb6b0
2025-04-13 06:18:05.351  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling System User Service for systemUserId: 046a91e9-dfc3-4715-934d-53c427e1f992
2025-04-13 06:18:05.440  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling CustomerService for customerId: 9a54db74-521e-4870-81aa-56925fceb6b0
2025-04-13 06:18:05.519  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling System User Service for systemUserId: 046a91e9-dfc3-4715-934d-53c427e1f992
2025-04-13 06:18:05.611  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling CustomerService for customerId: 9a54db74-521e-4870-81aa-56925fceb6b0
2025-04-13 06:18:05.667  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling System User Service for systemUserId: 046a91e9-dfc3-4715-934d-53c427e1f992
2025-04-13 06:18:05.764  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling CustomerService for customerId: 9a54db74-521e-4870-81aa-56925fceb6b0
2025-04-13 06:18:05.843  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling System User Service for systemUserId: 046a91e9-dfc3-4715-934d-53c427e1f992
2025-04-13 06:18:05.974  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling CustomerService for customerId: 9a54db74-521e-4870-81aa-56925fceb6b0
2025-04-13 06:18:06.058  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling System User Service for systemUserId: 046a91e9-dfc3-4715-934d-53c427e1f992
2025-04-13 06:18:06.170  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling CustomerService for customerId: ba21e63f-c8cc-41c1-aa7c-bde769860887
2025-04-13 06:18:06.229  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling System User Service for systemUserId: 046a91e9-dfc3-4715-934d-53c427e1f992
2025-04-13 06:18:06.296  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling CustomerService for customerId: 008b425f-fcbe-4b3a-952c-555835a4dc2c
2025-04-13 06:18:06.353  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling System User Service for systemUserId: 046a91e9-dfc3-4715-934d-53c427e1f992
2025-04-13 06:18:06.462  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling CustomerService for customerId: 9a54db74-521e-4870-81aa-56925fceb6b0
2025-04-13 06:18:06.528  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling System User Service for systemUserId: 046a91e9-dfc3-4715-934d-53c427e1f992
2025-04-13 06:18:06.609  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling CustomerService for customerId: 9a54db74-521e-4870-81aa-56925fceb6b0
2025-04-13 06:18:06.665  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling System User Service for systemUserId: 046a91e9-dfc3-4715-934d-53c427e1f992
2025-04-13 06:18:06.740  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling CustomerService for customerId: 008b425f-fcbe-4b3a-952c-555835a4dc2c
2025-04-13 06:18:06.805  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling System User Service for systemUserId: 046a91e9-dfc3-4715-934d-53c427e1f992
2025-04-13 06:18:06.900  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling CustomerService for customerId: 9a54db74-521e-4870-81aa-56925fceb6b0
2025-04-13 06:18:07.002  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling System User Service for systemUserId: 046a91e9-dfc3-4715-934d-53c427e1f992
2025-04-13 06:18:07.110  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling CustomerService for customerId: 9a54db74-521e-4870-81aa-56925fceb6b0
2025-04-13 06:18:07.176  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling System User Service for systemUserId: 046a91e9-dfc3-4715-934d-53c427e1f992
2025-04-13 06:18:07.284  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling CustomerService for customerId: 008b425f-fcbe-4b3a-952c-555835a4dc2c
2025-04-13 06:18:07.365  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling System User Service for systemUserId: 046a91e9-dfc3-4715-934d-53c427e1f992
2025-04-13 06:18:07.479  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling CustomerService for customerId: 9a54db74-521e-4870-81aa-56925fceb6b0
2025-04-13 06:18:07.589  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling System User Service for systemUserId: 046a91e9-dfc3-4715-934d-53c427e1f992
2025-04-13 06:18:07.741  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling CustomerService for customerId: 9a54db74-521e-4870-81aa-56925fceb6b0
2025-04-13 06:18:07.815  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling System User Service for systemUserId: 046a91e9-dfc3-4715-934d-53c427e1f992
2025-04-13 06:18:07.896  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling CustomerService for customerId: 9a54db74-521e-4870-81aa-56925fceb6b0
2025-04-13 06:18:07.956  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling System User Service for systemUserId: 046a91e9-dfc3-4715-934d-53c427e1f992
2025-04-13 06:18:08.051  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling CustomerService for customerId: 9a54db74-521e-4870-81aa-56925fceb6b0
2025-04-13 06:18:08.111  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling System User Service for systemUserId: 046a91e9-dfc3-4715-934d-53c427e1f992
2025-04-13 06:18:08.203  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling CustomerService for customerId: 9a54db74-521e-4870-81aa-56925fceb6b0
2025-04-13 06:18:08.269  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling System User Service for systemUserId: 046a91e9-dfc3-4715-934d-53c427e1f992
2025-04-13 06:18:08.339  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling CustomerService for customerId: 008b425f-fcbe-4b3a-952c-555835a4dc2c
2025-04-13 06:18:08.384  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling System User Service for systemUserId: 046a91e9-dfc3-4715-934d-53c427e1f992
2025-04-13 06:18:08.444  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling CustomerService for customerId: 2a965310-71c4-4d25-a257-257edd815e3a
2025-04-13 06:18:08.485  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling System User Service for systemUserId: ce60452d-d5c8-4fbd-8173-967a2857938b
2025-04-13 06:18:08.546  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling CustomerService for customerId: 9a54db74-521e-4870-81aa-56925fceb6b0
2025-04-13 06:18:08.594  INFO [traceId=67fb571822de0c2bfc82d01e9fee007a, spanId=fc82d01e9fee007a] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling System User Service for systemUserId: 046a91e9-dfc3-4715-934d-53c427e1f992
2025-04-13 06:21:15.908  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-13 06:26:15.874  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-13 06:29:10.321  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ORDERSERVICE with eureka with status DOWN
2025-04-13 06:29:10.332  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744525750331, current=DOWN, previous=UP]
2025-04-13 06:29:10.343  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/555a10234861:OrderService:9003: registering service...
2025-04-13 06:29:10.389  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/555a10234861:OrderService:9003 - registration status: 204
2025-04-13 06:29:10.623  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-13 06:29:10.630  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-13 06:29:11.534  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-13 06:29:11.568  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-13 06:29:11.592  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-13 06:29:11.618  INFO [traceId=, spanId=] 1 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-13 06:29:13.009  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-13 06:29:13.067  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-13 06:29:13.081  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-13 06:29:13.929  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-04-13 06:29:16.932  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-04-13 06:29:16.933  WARN [traceId=, spanId=] 1 --- [DiscoveryClient-%d] c.netflix.discovery.TimedSupervisorTask  : task supervisor shutting down, can't accept the task
2025-04-13 06:29:16.951  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/555a10234861:OrderService:9003 - deregister  status: 200
2025-04-13 06:29:16.955  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-04-13 06:32:52.847  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Starting OrderServiceApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 1 (/app/OrderService.jar started by root in /app)
2025-04-13 06:32:52.893 DEBUG [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-04-13 06:32:52.905  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : No active profile set, falling back to 1 default profile: "default"
2025-04-13 06:32:53.466  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-13 06:32:53.473  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=application, profiles=[default], label=null, version=9261a4efe8f68087092a640220bd3f5f9a67a0aa, state=
2025-04-13 06:32:53.480  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-13 06:32:53.489  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=OrderService, profiles=[default], label=null, version=9261a4efe8f68087092a640220bd3f5f9a67a0aa, state=
2025-04-13 06:33:08.897  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-13 06:33:08.919  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-13 06:33:09.925  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 943 ms. Found 2 JPA repository interfaces.
2025-04-13 06:33:10.028  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-13 06:33:10.036  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-04-13 06:33:10.119  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderDetailRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-13 06:33:10.123  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-13 06:33:10.126  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 22 ms. Found 0 Redis repository interfaces.
2025-04-13 06:33:13.409  INFO [traceId=, spanId=] 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=90b70314-821f-37c8-94e4-137079bd6dbe
2025-04-13 06:33:21.323  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9003 (http)
2025-04-13 06:33:21.419  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-13 06:33:21.423  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-13 06:33:21.700  INFO [traceId=, spanId=] 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-13 06:33:21.711  INFO [traceId=, spanId=] 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 28168 ms
2025-04-13 06:33:26.163  INFO [traceId=, spanId=] 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-13 06:33:26.637  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-13 06:33:26.931  INFO [traceId=, spanId=] 1 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-13 06:33:29.064  INFO [traceId=, spanId=] 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-13 06:33:29.264  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-13 06:33:30.245  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 70c6bc1a-e677-43a6-88a4-1603c2faf0a0
2025-04-13 06:33:30.265  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-13 06:33:30.599  WARN [traceId=, spanId=] 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-13 06:33:30.818  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-13 06:33:38.112  INFO [traceId=, spanId=] 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-13 06:33:39.938  INFO [traceId=, spanId=] 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-13 06:33:45.550  WARN [traceId=, spanId=] 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-13 06:33:47.187  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'InventoryService' URL not provided. Will try picking an instance via load-balancing.
2025-04-13 06:33:48.780  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'UserService' URL not provided. Will try picking an instance via load-balancing.
2025-04-13 06:34:05.574  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Connecting to localhost with guest user, assuming development environment
2025-04-13 06:34:05.580  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Using address resolver to always connect to localhost
2025-04-13 06:34:11.809  INFO [traceId=, spanId=] 1 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-04-13 06:34:12.249  WARN [traceId=, spanId=] 1 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-04-13 06:34:12.553  INFO [traceId=, spanId=] 1 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoints beneath base path '/actuator'
2025-04-13 06:34:13.625  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-04-13 06:34:13.817  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-04-13 06:34:13.843  INFO [traceId=, spanId=] 1 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-13 06:34:13.907  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-04-13 06:34:13.910  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-04-13 06:34:13.912  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-04-13 06:34:13.915  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-04-13 06:34:13.918  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-04-13 06:34:13.920  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-04-13 06:34:13.923  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-04-13 06:34:14.576  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-04-13 06:34:14.585  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-04-13 06:34:14.593  INFO [traceId=, spanId=] 1 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-04-13 06:34:14.601  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1744526054599 with initial instances count: 5
2025-04-13 06:34:14.637  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ORDERSERVICE with eureka with status UP
2025-04-13 06:34:14.642  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744526054642, current=UP, previous=STARTING]
2025-04-13 06:34:14.651  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/e88cd3806206:OrderService:9003: registering service...
2025-04-13 06:34:14.727  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9003 (http) with context path '/'
2025-04-13 06:34:14.732  INFO [traceId=, spanId=] 1 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9003
2025-04-13 06:34:14.757  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [rabbitmq:5672]
2025-04-13 06:34:14.837  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/e88cd3806206:OrderService:9003 - registration status: 204
2025-04-13 06:34:15.074  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#1c89afe:0/SimpleConnection@678f7a91 [delegate=amqp://guest@172.19.0.3:5672/, localPort=59768]
2025-04-13 06:34:15.601  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
2025-04-13 06:34:15.605  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Dropped 2 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused)

org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:925)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:840)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:701)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender.postSpans(ZipkinRestTemplateSender.java:50)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:69)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:41)
	at zipkin2.reporter.BaseHttpSender.send(BaseHttpSender.java:123)
	at zipkin2.reporter.internal.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:266)
	at zipkin2.reporter.internal.AsyncReporter$Flusher.run(AsyncReporter.java:352)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:899)
	... 9 common frames omitted

2025-04-13 06:34:15.617  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Started OrderServiceApplication in 99.281 seconds (process running for 103.914)
2025-04-13 06:34:32.521  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-13 06:34:32.523  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-13 06:34:32.532  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 7 ms
2025-04-13 06:39:13.909  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-13 06:44:13.893  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-13 06:49:13.877  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-13 06:54:13.863  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-13 06:59:13.848  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-13 07:04:13.833  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-13 07:09:13.819  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-13 07:10:08.729  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ORDERSERVICE with eureka with status DOWN
2025-04-13 07:10:08.736  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744528208736, current=DOWN, previous=UP]
2025-04-13 07:10:08.743  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/e88cd3806206:OrderService:9003: registering service...
2025-04-13 07:10:08.882  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/e88cd3806206:OrderService:9003 - registration status: 204
2025-04-13 07:10:09.245  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-13 07:10:09.253  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-13 07:10:09.816  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-13 07:10:09.862  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-13 07:10:09.920  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-13 07:10:09.987  INFO [traceId=, spanId=] 1 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-13 07:10:11.920  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-13 07:10:12.105  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-13 07:10:12.130  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-13 07:10:12.887  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-04-13 07:10:15.892  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-04-13 07:10:15.892  WARN [traceId=, spanId=] 1 --- [DiscoveryClient-%d] c.netflix.discovery.TimedSupervisorTask  : task supervisor shutting down, can't accept the task
2025-04-13 07:10:15.919  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/e88cd3806206:OrderService:9003 - deregister  status: 200
2025-04-13 07:10:15.922  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-04-13 07:13:45.075  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Starting OrderServiceApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 1 (/app/OrderService.jar started by root in /app)
2025-04-13 07:13:45.134 DEBUG [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-04-13 07:13:45.142  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : No active profile set, falling back to 1 default profile: "default"
2025-04-13 07:13:46.009  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-13 07:13:46.020  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=application, profiles=[default], label=null, version=9261a4efe8f68087092a640220bd3f5f9a67a0aa, state=
2025-04-13 07:13:46.035  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-13 07:13:46.040  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=OrderService, profiles=[default], label=null, version=9261a4efe8f68087092a640220bd3f5f9a67a0aa, state=
2025-04-13 07:14:02.054  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-13 07:14:02.084  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-13 07:14:03.592  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1412 ms. Found 2 JPA repository interfaces.
2025-04-13 07:14:03.786  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-13 07:14:03.797  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-04-13 07:14:03.955  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderDetailRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-13 07:14:03.963  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-13 07:14:03.971  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 54 ms. Found 0 Redis repository interfaces.
2025-04-13 07:14:08.254  INFO [traceId=, spanId=] 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=90b70314-821f-37c8-94e4-137079bd6dbe
2025-04-13 07:14:14.362  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9003 (http)
2025-04-13 07:14:14.428  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-13 07:14:14.433  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-13 07:14:14.726  INFO [traceId=, spanId=] 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-13 07:14:14.736  INFO [traceId=, spanId=] 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 28656 ms
2025-04-13 07:14:20.614  INFO [traceId=, spanId=] 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-13 07:14:21.602  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-13 07:14:22.055  INFO [traceId=, spanId=] 1 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-13 07:14:24.748  INFO [traceId=, spanId=] 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-13 07:14:25.004  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-13 07:14:26.019  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: bfe5db88-b472-47ff-bc8c-62874a016720
2025-04-13 07:14:26.030  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-13 07:14:26.265  WARN [traceId=, spanId=] 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-13 07:14:26.376  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-13 07:14:31.853  INFO [traceId=, spanId=] 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-13 07:14:33.398  INFO [traceId=, spanId=] 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-13 07:14:36.981  WARN [traceId=, spanId=] 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-13 07:14:38.497  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'InventoryService' URL not provided. Will try picking an instance via load-balancing.
2025-04-13 07:14:40.420  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'UserService' URL not provided. Will try picking an instance via load-balancing.
2025-04-13 07:14:58.253  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Connecting to localhost with guest user, assuming development environment
2025-04-13 07:14:58.256  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Using address resolver to always connect to localhost
2025-04-13 07:15:02.582  INFO [traceId=, spanId=] 1 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-04-13 07:15:03.005  WARN [traceId=, spanId=] 1 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-04-13 07:15:03.694  INFO [traceId=, spanId=] 1 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoints beneath base path '/actuator'
2025-04-13 07:15:05.569  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-04-13 07:15:05.859  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-04-13 07:15:05.925  INFO [traceId=, spanId=] 1 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-13 07:15:06.053  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-04-13 07:15:06.056  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-04-13 07:15:06.059  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-04-13 07:15:06.063  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-04-13 07:15:06.066  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-04-13 07:15:06.070  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-04-13 07:15:06.073  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-04-13 07:15:08.032  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-04-13 07:15:08.057  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-04-13 07:15:08.091  INFO [traceId=, spanId=] 1 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-04-13 07:15:08.109  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1744528508107 with initial instances count: 6
2025-04-13 07:15:08.355  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ORDERSERVICE with eureka with status UP
2025-04-13 07:15:08.362  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744528508362, current=UP, previous=STARTING]
2025-04-13 07:15:08.372  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/093fa9f809ea:OrderService:9003: registering service...
2025-04-13 07:15:08.539  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9003 (http) with context path '/'
2025-04-13 07:15:08.549  INFO [traceId=, spanId=] 1 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9003
2025-04-13 07:15:08.579  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [rabbitmq:5672]
2025-04-13 07:15:08.760  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/093fa9f809ea:OrderService:9003 - registration status: 204
2025-04-13 07:15:09.064  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
2025-04-13 07:15:09.067  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Dropped 2 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused)

org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:925)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:840)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:701)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender.postSpans(ZipkinRestTemplateSender.java:50)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:69)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:41)
	at zipkin2.reporter.BaseHttpSender.send(BaseHttpSender.java:123)
	at zipkin2.reporter.internal.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:266)
	at zipkin2.reporter.internal.AsyncReporter$Flusher.run(AsyncReporter.java:352)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:899)
	... 9 common frames omitted

2025-04-13 07:15:09.603  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#40f2ae53:0/SimpleConnection@7dff5404 [delegate=amqp://guest@172.19.0.3:5672/, localPort=37558]
2025-04-13 07:15:10.419  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Started OrderServiceApplication in 103.018 seconds (process running for 110.924)
2025-04-13 07:15:21.475  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-13 07:15:21.479  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-13 07:15:21.491  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 9 ms
2025-04-13 07:19:07.503  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ORDERSERVICE with eureka with status DOWN
2025-04-13 07:19:07.507  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744528747507, current=DOWN, previous=UP]
2025-04-13 07:19:07.510  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/093fa9f809ea:OrderService:9003: registering service...
2025-04-13 07:19:07.538  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-13 07:19:07.549  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-13 07:19:07.552  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/093fa9f809ea:OrderService:9003 - registration status: 204
2025-04-13 07:19:08.350  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-13 07:19:08.376  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-13 07:19:08.383  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-13 07:19:08.391  INFO [traceId=, spanId=] 1 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-13 07:19:09.504  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-13 07:19:09.632  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-13 07:19:09.645  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-13 07:19:10.175  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-04-13 07:19:13.177  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-04-13 07:19:13.188  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/093fa9f809ea:OrderService:9003 - deregister  status: 200
2025-04-13 07:19:13.190  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-04-13 07:23:57.429  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Starting OrderServiceApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 1 (/app/OrderService.jar started by root in /app)
2025-04-13 07:23:57.558 DEBUG [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-04-13 07:23:57.580  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : No active profile set, falling back to 1 default profile: "default"
2025-04-13 07:23:58.058  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-13 07:23:58.062  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=application, profiles=[default], label=null, version=9261a4efe8f68087092a640220bd3f5f9a67a0aa, state=
2025-04-13 07:23:58.067  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-13 07:23:58.078  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=OrderService, profiles=[default], label=null, version=9261a4efe8f68087092a640220bd3f5f9a67a0aa, state=
2025-04-13 07:24:14.200  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-13 07:24:14.213  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-13 07:24:15.377  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1037 ms. Found 2 JPA repository interfaces.
2025-04-13 07:24:15.567  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-13 07:24:15.585  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-04-13 07:24:15.786  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderDetailRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-13 07:24:15.793  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-13 07:24:15.800  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 52 ms. Found 0 Redis repository interfaces.
2025-04-13 07:24:19.511  INFO [traceId=, spanId=] 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=90b70314-821f-37c8-94e4-137079bd6dbe
2025-04-13 07:24:25.119  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9003 (http)
2025-04-13 07:24:25.226  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-13 07:24:25.238  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-13 07:24:25.579  INFO [traceId=, spanId=] 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-13 07:24:25.596  INFO [traceId=, spanId=] 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 27505 ms
2025-04-13 07:24:31.656  INFO [traceId=, spanId=] 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-13 07:24:32.286  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-13 07:24:32.555  INFO [traceId=, spanId=] 1 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-13 07:24:34.424  INFO [traceId=, spanId=] 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-13 07:24:34.578  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-13 07:24:35.739  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 8185da52-4a28-48d9-812d-d5be3fafea6b
2025-04-13 07:24:35.754  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-13 07:24:36.078  WARN [traceId=, spanId=] 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-13 07:24:36.202  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-13 07:24:44.251  INFO [traceId=, spanId=] 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-13 07:24:46.072  INFO [traceId=, spanId=] 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-13 07:24:51.139  WARN [traceId=, spanId=] 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-13 07:24:52.551  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'InventoryService' URL not provided. Will try picking an instance via load-balancing.
2025-04-13 07:24:54.242  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'UserService' URL not provided. Will try picking an instance via load-balancing.
2025-04-13 07:25:08.226  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Connecting to localhost with guest user, assuming development environment
2025-04-13 07:25:08.229  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Using address resolver to always connect to localhost
2025-04-13 07:25:12.191  INFO [traceId=, spanId=] 1 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-04-13 07:25:12.588  WARN [traceId=, spanId=] 1 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-04-13 07:25:12.703  INFO [traceId=, spanId=] 1 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoints beneath base path '/actuator'
2025-04-13 07:25:13.184  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-04-13 07:25:13.299  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-04-13 07:25:13.318  INFO [traceId=, spanId=] 1 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-13 07:25:13.362  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-04-13 07:25:13.365  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-04-13 07:25:13.368  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-04-13 07:25:13.371  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-04-13 07:25:13.373  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-04-13 07:25:13.376  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-04-13 07:25:13.380  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-04-13 07:25:14.048  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-04-13 07:25:14.061  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-04-13 07:25:14.073  INFO [traceId=, spanId=] 1 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-04-13 07:25:14.083  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1744529114082 with initial instances count: 5
2025-04-13 07:25:14.134  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ORDERSERVICE with eureka with status UP
2025-04-13 07:25:14.139  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744529114139, current=UP, previous=STARTING]
2025-04-13 07:25:14.153  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/b95cac72f189:OrderService:9003: registering service...
2025-04-13 07:25:14.249  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9003 (http) with context path '/'
2025-04-13 07:25:14.256  INFO [traceId=, spanId=] 1 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9003
2025-04-13 07:25:14.280  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [rabbitmq:5672]
2025-04-13 07:25:14.353  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/b95cac72f189:OrderService:9003 - registration status: 204
2025-04-13 07:25:14.538  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#7cbaf548:0/SimpleConnection@77071c0b [delegate=amqp://guest@172.19.0.4:5672/, localPort=58094]
2025-04-13 07:25:14.990  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Started OrderServiceApplication in 96.266 seconds (process running for 103.394)
2025-04-13 07:25:15.086  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
2025-04-13 07:25:15.090  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Dropped 2 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused)

org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:925)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:840)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:701)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender.postSpans(ZipkinRestTemplateSender.java:50)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:69)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:41)
	at zipkin2.reporter.BaseHttpSender.send(BaseHttpSender.java:123)
	at zipkin2.reporter.internal.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:266)
	at zipkin2.reporter.internal.AsyncReporter$Flusher.run(AsyncReporter.java:352)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:899)
	... 9 common frames omitted

2025-04-13 07:25:32.528  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-13 07:25:32.531  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-13 07:25:32.542  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 8 ms
2025-04-13 07:30:13.356  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-13 07:35:13.336  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-13 07:40:13.318  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-13 07:40:55.876  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ORDERSERVICE with eureka with status DOWN
2025-04-13 07:40:55.882  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744530055881, current=DOWN, previous=UP]
2025-04-13 07:40:55.888  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/b95cac72f189:OrderService:9003: registering service...
2025-04-13 07:40:55.940  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/b95cac72f189:OrderService:9003 - registration status: 204
2025-04-13 07:40:56.240  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-13 07:40:56.244  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-13 07:40:57.036  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-13 07:40:57.058  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-13 07:40:57.082  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-13 07:40:57.110  INFO [traceId=, spanId=] 1 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-13 07:40:58.516  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-13 07:40:58.580  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-13 07:40:58.604  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-13 07:40:59.464  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-04-13 07:41:02.468  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-04-13 07:41:02.488  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/b95cac72f189:OrderService:9003 - deregister  status: 200
2025-04-13 07:41:02.490  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-04-13 07:44:12.043  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Starting OrderServiceApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 1 (/app/OrderService.jar started by root in /app)
2025-04-13 07:44:12.166 DEBUG [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-04-13 07:44:12.202  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : No active profile set, falling back to 1 default profile: "default"
2025-04-13 07:44:12.854  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-13 07:44:12.857  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=application, profiles=[default], label=null, version=9261a4efe8f68087092a640220bd3f5f9a67a0aa, state=
2025-04-13 07:44:12.861  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-13 07:44:12.864  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=OrderService, profiles=[default], label=null, version=9261a4efe8f68087092a640220bd3f5f9a67a0aa, state=
2025-04-13 07:44:33.307  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-13 07:44:33.384  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-13 07:44:34.945  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1421 ms. Found 2 JPA repository interfaces.
2025-04-13 07:44:35.161  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-13 07:44:35.189  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-04-13 07:44:35.351  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderDetailRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-13 07:44:35.369  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-13 07:44:35.374  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 50 ms. Found 0 Redis repository interfaces.
2025-04-13 07:44:40.354  INFO [traceId=, spanId=] 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=90b70314-821f-37c8-94e4-137079bd6dbe
2025-04-13 07:44:53.275  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9003 (http)
2025-04-13 07:44:53.394  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-13 07:44:53.397  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-13 07:44:53.811  INFO [traceId=, spanId=] 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-13 07:44:53.814  INFO [traceId=, spanId=] 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 40932 ms
2025-04-13 07:45:01.960  INFO [traceId=, spanId=] 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-13 07:45:02.475  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-13 07:45:02.717  INFO [traceId=, spanId=] 1 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-13 07:45:04.668  INFO [traceId=, spanId=] 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-13 07:45:04.866  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-13 07:45:06.069  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 3c40dcf2-6bc1-4ced-bb60-cec4b05d0ac2
2025-04-13 07:45:06.104  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-13 07:45:06.369  WARN [traceId=, spanId=] 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-13 07:45:06.466  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-13 07:45:12.709  INFO [traceId=, spanId=] 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-13 07:45:15.737  INFO [traceId=, spanId=] 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-13 07:45:20.184  WARN [traceId=, spanId=] 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-13 07:45:22.722  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'InventoryService' URL not provided. Will try picking an instance via load-balancing.
2025-04-13 07:45:24.834  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'UserService' URL not provided. Will try picking an instance via load-balancing.
2025-04-13 07:45:38.334  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Connecting to localhost with guest user, assuming development environment
2025-04-13 07:45:38.338  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Using address resolver to always connect to localhost
2025-04-13 07:45:43.128  INFO [traceId=, spanId=] 1 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-04-13 07:45:43.558  WARN [traceId=, spanId=] 1 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-04-13 07:45:43.700  INFO [traceId=, spanId=] 1 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoints beneath base path '/actuator'
2025-04-13 07:45:44.476  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-04-13 07:45:44.646  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-04-13 07:45:44.674  INFO [traceId=, spanId=] 1 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-13 07:45:44.735  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-04-13 07:45:44.739  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-04-13 07:45:44.743  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-04-13 07:45:44.746  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-04-13 07:45:44.748  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-04-13 07:45:44.751  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-04-13 07:45:44.763  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-04-13 07:45:45.727  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-04-13 07:45:45.750  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-04-13 07:45:45.776  INFO [traceId=, spanId=] 1 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-04-13 07:45:45.788  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1744530345787 with initial instances count: 5
2025-04-13 07:45:45.920  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ORDERSERVICE with eureka with status UP
2025-04-13 07:45:45.924  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744530345924, current=UP, previous=STARTING]
2025-04-13 07:45:45.933  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/2d6477dcc2f2:OrderService:9003: registering service...
2025-04-13 07:45:46.001  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9003 (http) with context path '/'
2025-04-13 07:45:46.010  INFO [traceId=, spanId=] 1 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9003
2025-04-13 07:45:46.039  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [rabbitmq:5672]
2025-04-13 07:45:46.134  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/2d6477dcc2f2:OrderService:9003 - registration status: 204
2025-04-13 07:45:46.465  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#52a72430:0/SimpleConnection@182a8bf8 [delegate=amqp://guest@172.19.0.5:5672/, localPort=39582]
2025-04-13 07:45:46.787  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
2025-04-13 07:45:46.792  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Dropped 2 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused)

org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:925)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:840)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:701)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender.postSpans(ZipkinRestTemplateSender.java:50)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:69)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:41)
	at zipkin2.reporter.BaseHttpSender.send(BaseHttpSender.java:123)
	at zipkin2.reporter.internal.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:266)
	at zipkin2.reporter.internal.AsyncReporter$Flusher.run(AsyncReporter.java:352)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:899)
	... 9 common frames omitted

2025-04-13 07:45:47.006  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Started OrderServiceApplication in 109.65 seconds (process running for 116.929)
2025-04-13 07:45:51.477  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-13 07:45:51.483  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-13 07:45:51.500  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 11 ms
2025-04-13 07:50:39.697  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ORDERSERVICE with eureka with status DOWN
2025-04-13 07:50:39.703  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744530639703, current=DOWN, previous=UP]
2025-04-13 07:50:39.705  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/2d6477dcc2f2:OrderService:9003: registering service...
2025-04-13 07:50:39.752  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-13 07:50:39.753  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/2d6477dcc2f2:OrderService:9003 - registration status: 204
2025-04-13 07:50:39.775  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-13 07:50:39.935  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-13 07:50:39.961  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-13 07:50:39.969  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-13 07:50:39.977  INFO [traceId=, spanId=] 1 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-13 07:50:41.156  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-13 07:50:41.177  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-13 07:50:41.186  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-13 07:50:41.926  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-04-13 07:50:44.747  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-13 07:50:44.930  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-04-13 07:50:44.948  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/2d6477dcc2f2:OrderService:9003 - deregister  status: 200
2025-04-13 07:50:44.951  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-04-13 07:54:01.501  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Starting OrderServiceApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 1 (/app/OrderService.jar started by root in /app)
2025-04-13 07:54:01.536 DEBUG [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-04-13 07:54:01.548  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : No active profile set, falling back to 1 default profile: "default"
2025-04-13 07:54:01.856  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-13 07:54:01.863  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=application, profiles=[default], label=null, version=9261a4efe8f68087092a640220bd3f5f9a67a0aa, state=
2025-04-13 07:54:01.871  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-13 07:54:01.875  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=OrderService, profiles=[default], label=null, version=9261a4efe8f68087092a640220bd3f5f9a67a0aa, state=
2025-04-13 07:54:21.879  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-13 07:54:21.912  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-13 07:54:23.891  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1748 ms. Found 2 JPA repository interfaces.
2025-04-13 07:54:24.130  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-13 07:54:24.147  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-04-13 07:54:24.290  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderDetailRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-13 07:54:24.304  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-13 07:54:24.327  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 86 ms. Found 0 Redis repository interfaces.
2025-04-13 07:54:29.135  INFO [traceId=, spanId=] 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=90b70314-821f-37c8-94e4-137079bd6dbe
2025-04-13 07:54:38.354  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9003 (http)
2025-04-13 07:54:38.551  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-13 07:54:38.560  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-13 07:54:39.168  INFO [traceId=, spanId=] 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-13 07:54:39.181  INFO [traceId=, spanId=] 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 37275 ms
2025-04-13 07:54:48.403  INFO [traceId=, spanId=] 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-13 07:54:48.966  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-13 07:54:49.218  INFO [traceId=, spanId=] 1 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-13 07:54:50.887  INFO [traceId=, spanId=] 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-13 07:54:51.093  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-13 07:54:52.212  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 0775ae31-fab9-414e-90ea-e1a2f53689b1
2025-04-13 07:54:52.230  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-13 07:54:52.548  WARN [traceId=, spanId=] 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-13 07:54:52.701  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-13 07:54:57.366  INFO [traceId=, spanId=] 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-13 07:54:59.024  INFO [traceId=, spanId=] 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-13 07:55:02.323  WARN [traceId=, spanId=] 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-13 07:55:03.626  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'InventoryService' URL not provided. Will try picking an instance via load-balancing.
2025-04-13 07:55:05.348  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'UserService' URL not provided. Will try picking an instance via load-balancing.
2025-04-13 07:55:20.078  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Connecting to localhost with guest user, assuming development environment
2025-04-13 07:55:20.081  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Using address resolver to always connect to localhost
2025-04-13 07:55:24.430  INFO [traceId=, spanId=] 1 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-04-13 07:55:24.797  WARN [traceId=, spanId=] 1 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-04-13 07:55:24.937  INFO [traceId=, spanId=] 1 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoints beneath base path '/actuator'
2025-04-13 07:55:25.512  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-04-13 07:55:25.657  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-04-13 07:55:25.677  INFO [traceId=, spanId=] 1 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-13 07:55:25.722  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-04-13 07:55:25.724  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-04-13 07:55:25.727  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-04-13 07:55:25.730  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-04-13 07:55:25.733  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-04-13 07:55:25.736  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-04-13 07:55:25.739  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-04-13 07:55:26.399  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-04-13 07:55:26.415  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-04-13 07:55:26.431  INFO [traceId=, spanId=] 1 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-04-13 07:55:26.443  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1744530926441 with initial instances count: 4
2025-04-13 07:55:26.472  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ORDERSERVICE with eureka with status UP
2025-04-13 07:55:26.477  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744530926477, current=UP, previous=STARTING]
2025-04-13 07:55:26.486  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/592d5a4cff38:OrderService:9003: registering service...
2025-04-13 07:55:26.558  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9003 (http) with context path '/'
2025-04-13 07:55:26.562  INFO [traceId=, spanId=] 1 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9003
2025-04-13 07:55:26.583  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [rabbitmq:5672]
2025-04-13 07:55:26.645  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/592d5a4cff38:OrderService:9003 - registration status: 204
2025-04-13 07:55:26.911  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#57465bba:0/SimpleConnection@4a863032 [delegate=amqp://guest@172.19.0.3:5672/, localPort=33162]
2025-04-13 07:55:27.434  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
2025-04-13 07:55:27.438  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Dropped 2 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused)

org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:925)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:840)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:701)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender.postSpans(ZipkinRestTemplateSender.java:50)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:69)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:41)
	at zipkin2.reporter.BaseHttpSender.send(BaseHttpSender.java:123)
	at zipkin2.reporter.internal.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:266)
	at zipkin2.reporter.internal.AsyncReporter$Flusher.run(AsyncReporter.java:352)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:899)
	... 9 common frames omitted

2025-04-13 07:55:27.490  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Started OrderServiceApplication in 101.406 seconds (process running for 107.787)
2025-04-13 07:55:40.867  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-13 07:55:40.870  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-13 07:55:40.881  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 9 ms
2025-04-13 08:00:25.720  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-13 08:03:06.493  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ORDERSERVICE with eureka with status DOWN
2025-04-13 08:03:06.497  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744531386497, current=DOWN, previous=UP]
2025-04-13 08:03:06.505  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/592d5a4cff38:OrderService:9003: registering service...
2025-04-13 08:03:06.549  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/592d5a4cff38:OrderService:9003 - registration status: 204
2025-04-13 08:03:06.562  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-13 08:03:06.584  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-13 08:03:07.456  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-13 08:03:07.487  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-13 08:03:07.493  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-13 08:03:07.502  INFO [traceId=, spanId=] 1 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-13 08:03:08.628  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-13 08:03:08.640  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-13 08:03:08.651  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-13 08:03:09.639  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-04-13 08:03:12.641  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-04-13 08:03:12.657  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/592d5a4cff38:OrderService:9003 - deregister  status: 200
2025-04-13 08:03:12.659  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-04-13 08:06:30.391  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Starting OrderServiceApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 1 (/app/OrderService.jar started by root in /app)
2025-04-13 08:06:30.451 DEBUG [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-04-13 08:06:30.459  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : No active profile set, falling back to 1 default profile: "default"
2025-04-13 08:06:30.807  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-13 08:06:30.812  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=application, profiles=[default], label=null, version=9261a4efe8f68087092a640220bd3f5f9a67a0aa, state=
2025-04-13 08:06:30.815  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-13 08:06:30.818  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=OrderService, profiles=[default], label=null, version=9261a4efe8f68087092a640220bd3f5f9a67a0aa, state=
2025-04-13 08:06:47.593  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-13 08:06:47.624  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-13 08:06:49.075  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1346 ms. Found 2 JPA repository interfaces.
2025-04-13 08:06:49.313  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-13 08:06:49.330  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-04-13 08:06:49.513  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderDetailRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-13 08:06:49.545  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-13 08:06:49.553  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 102 ms. Found 0 Redis repository interfaces.
2025-04-13 08:06:54.779  INFO [traceId=, spanId=] 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=90b70314-821f-37c8-94e4-137079bd6dbe
2025-04-13 08:07:03.412  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9003 (http)
2025-04-13 08:07:03.562  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-13 08:07:03.639  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-13 08:07:04.109  INFO [traceId=, spanId=] 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-13 08:07:04.124  INFO [traceId=, spanId=] 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 33293 ms
2025-04-13 08:07:13.040  INFO [traceId=, spanId=] 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-13 08:07:13.808  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-13 08:07:14.099  INFO [traceId=, spanId=] 1 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-13 08:07:15.910  INFO [traceId=, spanId=] 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-13 08:07:16.097  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-13 08:07:17.133  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: e4a8961c-45f9-4198-a18a-12244c9b54bd
2025-04-13 08:07:17.146  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-13 08:07:17.522  WARN [traceId=, spanId=] 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-13 08:07:17.674  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-13 08:07:22.949  INFO [traceId=, spanId=] 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-13 08:07:24.564  INFO [traceId=, spanId=] 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-13 08:07:27.883  WARN [traceId=, spanId=] 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-13 08:07:29.479  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'InventoryService' URL not provided. Will try picking an instance via load-balancing.
2025-04-13 08:07:30.885  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'UserService' URL not provided. Will try picking an instance via load-balancing.
2025-04-13 08:07:46.454  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Connecting to localhost with guest user, assuming development environment
2025-04-13 08:07:46.457  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Using address resolver to always connect to localhost
2025-04-13 08:07:53.912  INFO [traceId=, spanId=] 1 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-04-13 08:07:55.609  WARN [traceId=, spanId=] 1 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-04-13 08:07:56.135  INFO [traceId=, spanId=] 1 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoints beneath base path '/actuator'
2025-04-13 08:07:57.548  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-04-13 08:07:57.917  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-04-13 08:07:57.963  INFO [traceId=, spanId=] 1 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-13 08:07:58.048  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-04-13 08:07:58.055  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-04-13 08:07:58.058  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-04-13 08:07:58.061  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-04-13 08:07:58.064  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-04-13 08:07:58.072  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-04-13 08:07:58.075  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-04-13 08:07:59.675  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-04-13 08:07:59.698  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-04-13 08:07:59.721  INFO [traceId=, spanId=] 1 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-04-13 08:07:59.746  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1744531679745 with initial instances count: 4
2025-04-13 08:07:59.949  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ORDERSERVICE with eureka with status UP
2025-04-13 08:07:59.958  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744531679958, current=UP, previous=STARTING]
2025-04-13 08:07:59.977  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/3b17b3211ac4:OrderService:9003: registering service...
2025-04-13 08:08:00.095  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9003 (http) with context path '/'
2025-04-13 08:08:00.106  INFO [traceId=, spanId=] 1 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9003
2025-04-13 08:08:00.127  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [rabbitmq:5672]
2025-04-13 08:08:00.256  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/3b17b3211ac4:OrderService:9003 - registration status: 204
2025-04-13 08:08:00.724  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#1dea0730:0/SimpleConnection@630d4d7f [delegate=amqp://guest@172.19.0.4:5672/, localPort=34964]
2025-04-13 08:08:00.728  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
2025-04-13 08:08:00.732  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Dropped 2 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused)

org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:925)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:840)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:701)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender.postSpans(ZipkinRestTemplateSender.java:50)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:69)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:41)
	at zipkin2.reporter.BaseHttpSender.send(BaseHttpSender.java:123)
	at zipkin2.reporter.internal.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:266)
	at zipkin2.reporter.internal.AsyncReporter$Flusher.run(AsyncReporter.java:352)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:899)
	... 9 common frames omitted

2025-04-13 08:08:01.416  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Started OrderServiceApplication in 103.762 seconds (process running for 109.63)
2025-04-13 08:08:12.807  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-13 08:08:12.813  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-13 08:08:12.826  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 9 ms
2025-04-13 08:12:58.059  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-13 08:17:16.600  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ORDERSERVICE with eureka with status DOWN
2025-04-13 08:17:16.606  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744532236606, current=DOWN, previous=UP]
2025-04-13 08:17:16.614  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/3b17b3211ac4:OrderService:9003: registering service...
2025-04-13 08:17:16.657  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/3b17b3211ac4:OrderService:9003 - registration status: 204
2025-04-13 08:17:16.800  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-13 08:17:16.806  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-13 08:17:17.400  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-13 08:17:17.416  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-13 08:17:17.428  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-13 08:17:17.445  INFO [traceId=, spanId=] 1 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-13 08:17:18.704  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-13 08:17:18.743  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-13 08:17:18.760  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-13 08:17:18.990  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-04-13 08:17:21.993  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-04-13 08:17:22.010  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/3b17b3211ac4:OrderService:9003 - deregister  status: 200
2025-04-13 08:17:22.013  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-04-13 08:20:12.819  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Starting OrderServiceApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 1 (/app/OrderService.jar started by root in /app)
2025-04-13 08:20:12.908 DEBUG [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-04-13 08:20:12.925  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : No active profile set, falling back to 1 default profile: "default"
2025-04-13 08:20:13.561  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-13 08:20:13.575  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=application, profiles=[default], label=null, version=9261a4efe8f68087092a640220bd3f5f9a67a0aa, state=
2025-04-13 08:20:13.583  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-13 08:20:13.586  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=OrderService, profiles=[default], label=null, version=9261a4efe8f68087092a640220bd3f5f9a67a0aa, state=
2025-04-13 08:20:32.773  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-13 08:20:32.806  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-13 08:20:34.398  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1476 ms. Found 2 JPA repository interfaces.
2025-04-13 08:20:34.588  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-13 08:20:34.612  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-04-13 08:20:34.779  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderDetailRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-13 08:20:34.787  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-13 08:20:34.796  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 89 ms. Found 0 Redis repository interfaces.
2025-04-13 08:20:39.368  INFO [traceId=, spanId=] 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=90b70314-821f-37c8-94e4-137079bd6dbe
2025-04-13 08:20:46.493  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9003 (http)
2025-04-13 08:20:46.571  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-13 08:20:46.580  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-13 08:20:46.897  INFO [traceId=, spanId=] 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-13 08:20:46.908  INFO [traceId=, spanId=] 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 33294 ms
2025-04-13 08:20:52.104  INFO [traceId=, spanId=] 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-13 08:20:52.521  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-13 08:20:52.729  INFO [traceId=, spanId=] 1 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-13 08:20:54.288  INFO [traceId=, spanId=] 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-13 08:20:54.445  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-13 08:20:55.193  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 0cc3feac-0a95-46a8-a5f4-59da257cd6b2
2025-04-13 08:20:55.205  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-13 08:20:55.510  WARN [traceId=, spanId=] 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-13 08:20:55.658  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-13 08:21:00.916  INFO [traceId=, spanId=] 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-13 08:21:02.782  INFO [traceId=, spanId=] 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-13 08:21:07.607  WARN [traceId=, spanId=] 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-13 08:21:08.717  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'InventoryService' URL not provided. Will try picking an instance via load-balancing.
2025-04-13 08:21:10.567  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'UserService' URL not provided. Will try picking an instance via load-balancing.
2025-04-13 08:21:25.346  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Connecting to localhost with guest user, assuming development environment
2025-04-13 08:21:25.350  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Using address resolver to always connect to localhost
2025-04-13 08:21:28.923  INFO [traceId=, spanId=] 1 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-04-13 08:21:29.207  WARN [traceId=, spanId=] 1 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-04-13 08:21:29.318  INFO [traceId=, spanId=] 1 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoints beneath base path '/actuator'
2025-04-13 08:21:29.676  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-04-13 08:21:29.775  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-04-13 08:21:29.792  INFO [traceId=, spanId=] 1 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-13 08:21:29.837  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-04-13 08:21:29.840  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-04-13 08:21:29.843  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-04-13 08:21:29.848  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-04-13 08:21:29.851  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-04-13 08:21:29.854  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-04-13 08:21:29.857  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-04-13 08:21:30.548  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-04-13 08:21:30.561  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-04-13 08:21:30.575  INFO [traceId=, spanId=] 1 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-04-13 08:21:30.587  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1744532490586 with initial instances count: 6
2025-04-13 08:21:30.634  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ORDERSERVICE with eureka with status UP
2025-04-13 08:21:30.637  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744532490637, current=UP, previous=STARTING]
2025-04-13 08:21:30.644  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/cf104df97ff7:OrderService:9003: registering service...
2025-04-13 08:21:30.694  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9003 (http) with context path '/'
2025-04-13 08:21:30.698  INFO [traceId=, spanId=] 1 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9003
2025-04-13 08:21:30.719  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [rabbitmq:5672]
2025-04-13 08:21:30.801  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/cf104df97ff7:OrderService:9003 - registration status: 204
2025-04-13 08:21:30.945  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#1c825108:0/SimpleConnection@b85cc02 [delegate=amqp://guest@172.19.0.5:5672/, localPort=39166]
2025-04-13 08:21:31.320  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Started OrderServiceApplication in 99.712 seconds (process running for 106.561)
2025-04-13 08:21:31.561  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
2025-04-13 08:21:31.565  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Dropped 2 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused)

org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:925)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:840)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:701)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender.postSpans(ZipkinRestTemplateSender.java:50)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:69)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:41)
	at zipkin2.reporter.BaseHttpSender.send(BaseHttpSender.java:123)
	at zipkin2.reporter.internal.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:266)
	at zipkin2.reporter.internal.AsyncReporter$Flusher.run(AsyncReporter.java:352)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:899)
	... 9 common frames omitted

2025-04-13 08:21:45.717  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-13 08:21:45.720  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-13 08:21:45.733  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 11 ms
2025-04-13 08:26:29.841  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-13 08:31:29.820  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-13 08:32:04.142  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ORDERSERVICE with eureka with status DOWN
2025-04-13 08:32:04.147  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744533124147, current=DOWN, previous=UP]
2025-04-13 08:32:04.157  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/cf104df97ff7:OrderService:9003: registering service...
2025-04-13 08:32:04.197  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/cf104df97ff7:OrderService:9003 - registration status: 204
2025-04-13 08:32:04.336  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-13 08:32:04.347  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-13 08:32:04.359  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-13 08:32:04.377  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-13 08:32:04.400  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-13 08:32:04.434  INFO [traceId=, spanId=] 1 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-13 08:32:05.760  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-13 08:32:05.786  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-13 08:32:05.802  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-13 08:32:06.822  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-04-13 08:32:09.825  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-04-13 08:32:09.839  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/cf104df97ff7:OrderService:9003 - deregister  status: 200
2025-04-13 08:32:09.841  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-04-13 08:35:06.996  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Starting OrderServiceApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 1 (/app/OrderService.jar started by root in /app)
2025-04-13 08:35:07.023 DEBUG [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-04-13 08:35:07.028  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : No active profile set, falling back to 1 default profile: "default"
2025-04-13 08:35:07.156  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-13 08:35:07.158  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=application, profiles=[default], label=null, version=9261a4efe8f68087092a640220bd3f5f9a67a0aa, state=
2025-04-13 08:35:07.160  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-13 08:35:07.162  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=OrderService, profiles=[default], label=null, version=9261a4efe8f68087092a640220bd3f5f9a67a0aa, state=
2025-04-13 08:35:20.347  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-13 08:35:20.364  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-13 08:35:21.851  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1392 ms. Found 2 JPA repository interfaces.
2025-04-13 08:35:22.061  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-13 08:35:22.112  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-04-13 08:35:22.334  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderDetailRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-13 08:35:22.352  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-13 08:35:22.381  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 77 ms. Found 0 Redis repository interfaces.
2025-04-13 08:35:26.690  INFO [traceId=, spanId=] 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=90b70314-821f-37c8-94e4-137079bd6dbe
2025-04-13 08:35:34.031  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9003 (http)
2025-04-13 08:35:34.149  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-13 08:35:34.167  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-13 08:35:34.508  INFO [traceId=, spanId=] 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-13 08:35:34.533  INFO [traceId=, spanId=] 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 27362 ms
2025-04-13 08:35:43.149  INFO [traceId=, spanId=] 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-13 08:35:43.855  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-13 08:35:44.059  INFO [traceId=, spanId=] 1 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-13 08:35:45.950  INFO [traceId=, spanId=] 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-13 08:35:46.248  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-13 08:35:47.347  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 377cd830-2efd-4d85-bcf9-f8c97b19496a
2025-04-13 08:35:47.367  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-13 08:35:47.821  WARN [traceId=, spanId=] 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-13 08:35:47.954  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-13 08:35:55.100  INFO [traceId=, spanId=] 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-13 08:35:57.292  INFO [traceId=, spanId=] 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-13 08:36:02.133  WARN [traceId=, spanId=] 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-13 08:36:03.899  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'InventoryService' URL not provided. Will try picking an instance via load-balancing.
2025-04-13 08:36:05.414  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'UserService' URL not provided. Will try picking an instance via load-balancing.
2025-04-13 08:36:22.142  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Connecting to localhost with guest user, assuming development environment
2025-04-13 08:36:22.156  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Using address resolver to always connect to localhost
2025-04-13 08:36:27.798  INFO [traceId=, spanId=] 1 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-04-13 08:36:28.212  WARN [traceId=, spanId=] 1 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-04-13 08:36:28.360  INFO [traceId=, spanId=] 1 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoints beneath base path '/actuator'
2025-04-13 08:36:28.994  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-04-13 08:36:29.166  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-04-13 08:36:29.187  INFO [traceId=, spanId=] 1 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-13 08:36:29.245  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-04-13 08:36:29.249  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-04-13 08:36:29.251  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-04-13 08:36:29.255  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-04-13 08:36:29.259  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-04-13 08:36:29.262  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-04-13 08:36:29.276  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-04-13 08:36:30.271  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-04-13 08:36:30.289  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-04-13 08:36:30.302  INFO [traceId=, spanId=] 1 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-04-13 08:36:30.310  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1744533390309 with initial instances count: 5
2025-04-13 08:36:30.362  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ORDERSERVICE with eureka with status UP
2025-04-13 08:36:30.367  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744533390367, current=UP, previous=STARTING]
2025-04-13 08:36:30.376  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/f2b7ba46813f:OrderService:9003: registering service...
2025-04-13 08:36:30.443  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9003 (http) with context path '/'
2025-04-13 08:36:30.450  INFO [traceId=, spanId=] 1 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9003
2025-04-13 08:36:30.471  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [rabbitmq:5672]
2025-04-13 08:36:30.567  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/f2b7ba46813f:OrderService:9003 - registration status: 204
2025-04-13 08:36:30.813  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#727210eb:0/SimpleConnection@75618e16 [delegate=amqp://guest@172.19.0.4:5672/, localPort=38712]
2025-04-13 08:36:31.296  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
2025-04-13 08:36:31.306  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Dropped 2 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused)

org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:925)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:840)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:701)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender.postSpans(ZipkinRestTemplateSender.java:50)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:69)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:41)
	at zipkin2.reporter.BaseHttpSender.send(BaseHttpSender.java:123)
	at zipkin2.reporter.internal.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:266)
	at zipkin2.reporter.internal.AsyncReporter$Flusher.run(AsyncReporter.java:352)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:899)
	... 9 common frames omitted

2025-04-13 08:36:31.488  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Started OrderServiceApplication in 95.617 seconds (process running for 102.319)
2025-04-13 08:36:50.422  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-13 08:36:50.428  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-13 08:36:50.441  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 10 ms
2025-04-13 08:41:29.272  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-13 08:44:34.799  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ORDERSERVICE with eureka with status DOWN
2025-04-13 08:44:34.804  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744533874803, current=DOWN, previous=UP]
2025-04-13 08:44:34.807  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/f2b7ba46813f:OrderService:9003: registering service...
2025-04-13 08:44:34.829  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/f2b7ba46813f:OrderService:9003 - registration status: 204
2025-04-13 08:44:34.849  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-13 08:44:34.872  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-13 08:44:35.438  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-13 08:44:35.481  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-13 08:44:35.489  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-13 08:44:35.497  INFO [traceId=, spanId=] 1 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-13 08:44:36.620  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-13 08:44:36.639  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-13 08:44:36.648  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-13 08:44:37.492  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-04-13 08:44:40.495  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-04-13 08:44:40.511  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/f2b7ba46813f:OrderService:9003 - deregister  status: 200
2025-04-13 08:44:40.514  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-04-13 08:47:51.688  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Starting OrderServiceApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 1 (/app/OrderService.jar started by root in /app)
2025-04-13 08:47:51.764 DEBUG [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-04-13 08:47:51.769  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : No active profile set, falling back to 1 default profile: "default"
2025-04-13 08:47:52.232  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-13 08:47:52.245  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=application, profiles=[default], label=null, version=9261a4efe8f68087092a640220bd3f5f9a67a0aa, state=
2025-04-13 08:47:52.248  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-13 08:47:52.266  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=OrderService, profiles=[default], label=null, version=9261a4efe8f68087092a640220bd3f5f9a67a0aa, state=
2025-04-13 08:48:08.380  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-13 08:48:08.456  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-13 08:48:10.096  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1491 ms. Found 2 JPA repository interfaces.
2025-04-13 08:48:10.343  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-13 08:48:10.406  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-04-13 08:48:10.508  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderDetailRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-13 08:48:10.518  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-13 08:48:10.524  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 40 ms. Found 0 Redis repository interfaces.
2025-04-13 08:48:14.890  INFO [traceId=, spanId=] 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=90b70314-821f-37c8-94e4-137079bd6dbe
2025-04-13 08:48:21.663  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9003 (http)
2025-04-13 08:48:21.739  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-13 08:48:21.751  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-13 08:48:22.086  INFO [traceId=, spanId=] 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-13 08:48:22.122  INFO [traceId=, spanId=] 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 29771 ms
2025-04-13 08:48:28.632  INFO [traceId=, spanId=] 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-13 08:48:29.012  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-13 08:48:29.231  INFO [traceId=, spanId=] 1 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-13 08:48:30.597  INFO [traceId=, spanId=] 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-13 08:48:30.754  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-13 08:48:31.380  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: cec82e01-e763-4487-9650-f63eac6a8f09
2025-04-13 08:48:31.392  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-13 08:48:31.635  WARN [traceId=, spanId=] 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-13 08:48:31.779  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-13 08:48:38.102  INFO [traceId=, spanId=] 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-13 08:48:39.715  INFO [traceId=, spanId=] 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-13 08:48:43.183  WARN [traceId=, spanId=] 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-13 08:48:44.295  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'InventoryService' URL not provided. Will try picking an instance via load-balancing.
2025-04-13 08:48:45.704  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'UserService' URL not provided. Will try picking an instance via load-balancing.
2025-04-13 08:48:55.828  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Connecting to localhost with guest user, assuming development environment
2025-04-13 08:48:55.832  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Using address resolver to always connect to localhost
2025-04-13 08:48:59.234  INFO [traceId=, spanId=] 1 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-04-13 08:48:59.576  WARN [traceId=, spanId=] 1 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-04-13 08:48:59.701  INFO [traceId=, spanId=] 1 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoints beneath base path '/actuator'
2025-04-13 08:49:00.139  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-04-13 08:49:00.236  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-04-13 08:49:00.248  INFO [traceId=, spanId=] 1 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-13 08:49:00.279  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-04-13 08:49:00.282  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-04-13 08:49:00.284  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-04-13 08:49:00.286  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-04-13 08:49:00.289  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-04-13 08:49:00.292  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-04-13 08:49:00.295  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-04-13 08:49:00.846  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-04-13 08:49:00.855  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-04-13 08:49:00.863  INFO [traceId=, spanId=] 1 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-04-13 08:49:00.869  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1744534140868 with initial instances count: 5
2025-04-13 08:49:00.907  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ORDERSERVICE with eureka with status UP
2025-04-13 08:49:00.912  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744534140912, current=UP, previous=STARTING]
2025-04-13 08:49:00.919  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/881c200ad5ee:OrderService:9003: registering service...
2025-04-13 08:49:01.018  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9003 (http) with context path '/'
2025-04-13 08:49:01.024  INFO [traceId=, spanId=] 1 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9003
2025-04-13 08:49:01.042  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [rabbitmq:5672]
2025-04-13 08:49:01.120  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/881c200ad5ee:OrderService:9003 - registration status: 204
2025-04-13 08:49:01.340  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#6ac3ceda:0/SimpleConnection@1f420cc9 [delegate=amqp://guest@172.19.0.5:5672/, localPort=42460]
2025-04-13 08:49:01.801  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Started OrderServiceApplication in 82.85 seconds (process running for 88.711)
2025-04-13 08:49:01.880  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
2025-04-13 08:49:01.884  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Dropped 2 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused)

org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:925)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:840)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:701)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender.postSpans(ZipkinRestTemplateSender.java:50)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:69)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:41)
	at zipkin2.reporter.BaseHttpSender.send(BaseHttpSender.java:123)
	at zipkin2.reporter.internal.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:266)
	at zipkin2.reporter.internal.AsyncReporter$Flusher.run(AsyncReporter.java:352)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:899)
	... 9 common frames omitted

2025-04-13 08:49:03.966  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-13 08:49:03.974  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-13 08:49:03.995  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 11 ms
2025-04-25 11:56:12.171  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Starting OrderServiceApplication v0.0.1-SNAPSHOT using Java 17.0.15 with PID 1 (/app/OrderService.jar started by root in /app)
2025-04-25 11:56:12.296 DEBUG [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-04-25 11:56:12.320  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : No active profile set, falling back to 1 default profile: "default"
2025-04-25 11:56:13.149  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-25 11:56:13.180  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=application, profiles=[default], label=null, version=1acc8d8659fd96ed52844c8881c260bdb5135241, state=
2025-04-25 11:56:13.188  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-25 11:56:13.191  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=OrderService, profiles=[default], label=null, version=1acc8d8659fd96ed52844c8881c260bdb5135241, state=
2025-04-25 11:56:30.683  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-25 11:56:30.701  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-25 11:56:32.139  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1361 ms. Found 2 JPA repository interfaces.
2025-04-25 11:56:32.294  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-25 11:56:32.327  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-04-25 11:56:32.471  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderDetailRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-25 11:56:32.474  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-25 11:56:32.488  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 38 ms. Found 0 Redis repository interfaces.
2025-04-25 11:56:36.779  INFO [traceId=, spanId=] 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=f9b4fb59-e3a5-3945-a671-7885d95e7545
2025-04-25 11:56:45.360  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9003 (http)
2025-04-25 11:56:45.478  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-25 11:56:45.500  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-25 11:56:45.827  INFO [traceId=, spanId=] 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-25 11:56:45.843  INFO [traceId=, spanId=] 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 32632 ms
2025-04-25 11:56:52.819  INFO [traceId=, spanId=] 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-25 11:56:53.266  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-25 11:56:53.486  INFO [traceId=, spanId=] 1 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-25 11:56:54.735  INFO [traceId=, spanId=] 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-25 11:56:54.885  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-25 11:56:55.603  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 10709f47-507a-43f4-a4c1-6123fcdc5f6a
2025-04-25 11:56:55.613  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-25 11:56:55.984  WARN [traceId=, spanId=] 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-25 11:56:56.112  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-25 11:57:00.478  INFO [traceId=, spanId=] 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-25 11:57:02.293  INFO [traceId=, spanId=] 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-25 11:57:05.109  WARN [traceId=, spanId=] 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-25 11:57:05.972  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'InventoryService' URL not provided. Will try picking an instance via load-balancing.
2025-04-25 11:57:06.839  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'UserService' URL not provided. Will try picking an instance via load-balancing.
2025-04-25 11:57:16.414  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Connecting to localhost with guest user, assuming development environment
2025-04-25 11:57:16.417  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Using address resolver to always connect to localhost
2025-04-25 11:57:22.249  INFO [traceId=, spanId=] 1 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-04-25 11:57:22.755  WARN [traceId=, spanId=] 1 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-04-25 11:57:22.913  INFO [traceId=, spanId=] 1 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoints beneath base path '/actuator'
2025-04-25 11:57:23.686  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-04-25 11:57:23.881  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-04-25 11:57:23.910  INFO [traceId=, spanId=] 1 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-25 11:57:23.962  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-04-25 11:57:23.969  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-04-25 11:57:23.973  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-04-25 11:57:23.977  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-04-25 11:57:23.979  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-04-25 11:57:23.981  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-04-25 11:57:23.984  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-04-25 11:57:25.285  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-04-25 11:57:25.297  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-04-25 11:57:25.309  INFO [traceId=, spanId=] 1 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-04-25 11:57:25.321  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1745582245319 with initial instances count: 4
2025-04-25 11:57:25.364  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ORDERSERVICE with eureka with status UP
2025-04-25 11:57:25.369  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1745582245369, current=UP, previous=STARTING]
2025-04-25 11:57:25.380  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/df97578f4d92:OrderService:9003: registering service...
2025-04-25 11:57:25.483  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9003 (http) with context path '/'
2025-04-25 11:57:25.490  INFO [traceId=, spanId=] 1 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9003
2025-04-25 11:57:25.535  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [rabbitmq:5672]
2025-04-25 11:57:25.613  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/df97578f4d92:OrderService:9003 - registration status: 204
2025-04-25 11:57:25.900  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#32730f12:0/SimpleConnection@6152d303 [delegate=amqp://guest@172.19.0.4:5672/, localPort=45890]
2025-04-25 11:57:26.197  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Started OrderServiceApplication in 89.437 seconds (process running for 95.365)
2025-04-25 11:57:26.297  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
2025-04-25 11:57:26.299  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Dropped 2 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused)

org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:925)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:840)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:701)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender.postSpans(ZipkinRestTemplateSender.java:50)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:69)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:41)
	at zipkin2.reporter.BaseHttpSender.send(BaseHttpSender.java:123)
	at zipkin2.reporter.internal.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:266)
	at zipkin2.reporter.internal.AsyncReporter$Flusher.run(AsyncReporter.java:352)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:547)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:602)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:899)
	... 9 common frames omitted

2025-04-25 11:57:51.970  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-25 11:57:51.974  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-25 11:57:51.992  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 13 ms
2025-04-25 12:02:23.983  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-25 12:07:24.002  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-25 12:07:58.971  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ORDERSERVICE with eureka with status DOWN
2025-04-25 12:07:58.979  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1745582878979, current=DOWN, previous=UP]
2025-04-25 12:07:58.988  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/df97578f4d92:OrderService:9003: registering service...
2025-04-25 12:07:59.025  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/df97578f4d92:OrderService:9003 - registration status: 204
2025-04-25 12:07:59.491  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-25 12:07:59.497  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-25 12:08:00.239  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-25 12:08:00.239  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-25 12:08:00.293  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-25 12:08:00.349  INFO [traceId=, spanId=] 1 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-25 12:08:02.134  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-25 12:08:02.224  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-25 12:08:02.262  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-25 12:08:02.889  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-04-25 12:08:05.896  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-04-25 12:08:05.957  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/df97578f4d92:OrderService:9003 - deregister  status: 200
2025-04-25 12:08:05.968  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-04-25 12:16:03.616  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Starting OrderServiceApplication v0.0.1-SNAPSHOT using Java 17.0.15 with PID 1 (/app/OrderService.jar started by root in /app)
2025-04-25 12:16:03.695 DEBUG [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-04-25 12:16:03.710  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : No active profile set, falling back to 1 default profile: "default"
2025-04-25 12:16:04.089  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-25 12:16:04.093  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=application, profiles=[default], label=null, version=1acc8d8659fd96ed52844c8881c260bdb5135241, state=
2025-04-25 12:16:04.097  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-25 12:16:04.106  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=OrderService, profiles=[default], label=null, version=1acc8d8659fd96ed52844c8881c260bdb5135241, state=
2025-04-25 12:16:20.291  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-25 12:16:20.307  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-25 12:16:21.361  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1000 ms. Found 2 JPA repository interfaces.
2025-04-25 12:16:21.471  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-25 12:16:21.485  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-04-25 12:16:21.567  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderDetailRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-25 12:16:21.602  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-25 12:16:21.631  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 78 ms. Found 0 Redis repository interfaces.
2025-04-25 12:16:27.028  INFO [traceId=, spanId=] 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=f9b4fb59-e3a5-3945-a671-7885d95e7545
2025-04-25 12:16:35.112  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9003 (http)
2025-04-25 12:16:35.182  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-25 12:16:35.186  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-25 12:16:35.415  INFO [traceId=, spanId=] 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-25 12:16:35.431  INFO [traceId=, spanId=] 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 31257 ms
2025-04-25 12:16:44.320  INFO [traceId=, spanId=] 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-25 12:16:44.944  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-25 12:16:45.232  INFO [traceId=, spanId=] 1 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-25 12:16:48.054  INFO [traceId=, spanId=] 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-25 12:16:48.400  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-25 12:16:49.576  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 6b3c5c9f-2d00-494c-ae3c-5b279a042661
2025-04-25 12:16:49.589  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-25 12:16:49.907  WARN [traceId=, spanId=] 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-25 12:16:50.091  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-25 12:16:57.077  INFO [traceId=, spanId=] 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-25 12:16:59.500  INFO [traceId=, spanId=] 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-25 12:17:08.329  WARN [traceId=, spanId=] 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-25 12:17:10.374  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'InventoryService' URL not provided. Will try picking an instance via load-balancing.
2025-04-25 12:17:13.281  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'UserService' URL not provided. Will try picking an instance via load-balancing.
2025-04-25 12:17:26.428  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Connecting to localhost with guest user, assuming development environment
2025-04-25 12:17:26.430  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Using address resolver to always connect to localhost
2025-04-25 12:17:30.830  INFO [traceId=, spanId=] 1 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-04-25 12:17:31.658  WARN [traceId=, spanId=] 1 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-04-25 12:17:31.934  INFO [traceId=, spanId=] 1 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoints beneath base path '/actuator'
2025-04-25 12:17:32.694  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-04-25 12:17:32.864  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-04-25 12:17:32.885  INFO [traceId=, spanId=] 1 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-25 12:17:32.936  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-04-25 12:17:32.938  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-04-25 12:17:32.940  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-04-25 12:17:32.942  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-04-25 12:17:32.944  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-04-25 12:17:32.946  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-04-25 12:17:32.949  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-04-25 12:17:33.862  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-04-25 12:17:33.870  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-04-25 12:17:33.880  INFO [traceId=, spanId=] 1 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-04-25 12:17:33.884  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1745583453884 with initial instances count: 6
2025-04-25 12:17:33.968  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ORDERSERVICE with eureka with status UP
2025-04-25 12:17:33.972  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1745583453972, current=UP, previous=STARTING]
2025-04-25 12:17:33.979  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/93fa5afe4f59:OrderService:9003: registering service...
2025-04-25 12:17:34.026  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9003 (http) with context path '/'
2025-04-25 12:17:34.032  INFO [traceId=, spanId=] 1 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9003
2025-04-25 12:17:34.046  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [rabbitmq:5672]
2025-04-25 12:17:34.163  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/93fa5afe4f59:OrderService:9003 - registration status: 204
2025-04-25 12:17:34.545  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#54236211:0/SimpleConnection@69159c72 [delegate=amqp://guest@172.19.0.4:5672/, localPort=47302]
2025-04-25 12:17:34.889  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
2025-04-25 12:17:34.891  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Dropped 2 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused)

org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:925)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:840)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:701)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender.postSpans(ZipkinRestTemplateSender.java:50)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:69)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:41)
	at zipkin2.reporter.BaseHttpSender.send(BaseHttpSender.java:123)
	at zipkin2.reporter.internal.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:266)
	at zipkin2.reporter.internal.AsyncReporter$Flusher.run(AsyncReporter.java:352)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:547)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:602)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:899)
	... 9 common frames omitted

2025-04-25 12:17:34.986  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Started OrderServiceApplication in 111.279 seconds (process running for 116.538)
2025-04-25 12:17:39.721  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-25 12:17:39.724  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-25 12:17:39.738  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 11 ms
2025-04-25 12:22:33.019  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-25 12:27:33.051  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-25 12:32:33.049  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-25 12:35:13.916  INFO [traceId=680b8180d0c986755c016f2bfaae509e, spanId=5c016f2bfaae509e] 1 --- [http-nio-9003-exec-6] i.f.s.o.s.w.InventoryServiceWrapper      :  Checking stock for productVariantDetailId: 05e5a662-a70e-4b41-a3e8-89dc27c1ec13
2025-04-25 12:37:33.043  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-25 12:42:33.048  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-25 12:47:33.043  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-25 12:52:33.029  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-25 12:56:12.288  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ORDERSERVICE with eureka with status DOWN
2025-04-25 12:56:12.301  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1745585772301, current=DOWN, previous=UP]
2025-04-25 12:56:12.309  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/93fa5afe4f59:OrderService:9003: registering service...
2025-04-25 12:56:12.702  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/93fa5afe4f59:OrderService:9003 - registration status: 204
2025-04-25 12:56:13.238  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-25 12:56:13.246  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-25 12:56:13.284  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-25 12:56:13.323  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-25 12:56:13.470  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-25 12:56:13.581  INFO [traceId=, spanId=] 1 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-25 12:56:15.668  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-25 12:56:15.806  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-25 12:56:15.843  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-25 12:56:16.113  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-04-25 12:56:19.121  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-04-25 12:56:19.176  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/93fa5afe4f59:OrderService:9003 - deregister  status: 200
2025-04-25 12:56:19.181  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-04-25 13:01:57.144  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Starting OrderServiceApplication v0.0.1-SNAPSHOT using Java 17.0.15 with PID 1 (/app/OrderService.jar started by root in /app)
2025-04-25 13:01:57.208 DEBUG [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-04-25 13:01:57.217  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : No active profile set, falling back to 1 default profile: "default"
2025-04-25 13:01:57.665  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-25 13:01:57.676  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=application, profiles=[default], label=null, version=1acc8d8659fd96ed52844c8881c260bdb5135241, state=
2025-04-25 13:01:57.679  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-25 13:01:57.682  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=OrderService, profiles=[default], label=null, version=1acc8d8659fd96ed52844c8881c260bdb5135241, state=
2025-04-25 13:02:18.277  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-25 13:02:18.299  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-25 13:02:20.121  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1719 ms. Found 2 JPA repository interfaces.
2025-04-25 13:02:20.296  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-25 13:02:20.320  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-04-25 13:02:20.551  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderDetailRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-25 13:02:20.559  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-25 13:02:20.572  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 89 ms. Found 0 Redis repository interfaces.
2025-04-25 13:02:24.985  INFO [traceId=, spanId=] 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=f9b4fb59-e3a5-3945-a671-7885d95e7545
2025-04-25 13:02:33.973  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9003 (http)
2025-04-25 13:02:34.037  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-25 13:02:34.040  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-25 13:02:34.253  INFO [traceId=, spanId=] 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-25 13:02:34.259  INFO [traceId=, spanId=] 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 36555 ms
2025-04-25 13:02:41.027  INFO [traceId=, spanId=] 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-25 13:02:41.641  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-25 13:02:42.491  INFO [traceId=, spanId=] 1 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-25 13:02:44.907  INFO [traceId=, spanId=] 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-25 13:02:45.165  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-25 13:02:46.603  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 204aa6f0-c44f-42b4-92f7-a128c591be7d
2025-04-25 13:02:46.616  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-25 13:02:46.981  WARN [traceId=, spanId=] 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-25 13:02:47.168  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-25 13:02:55.020  INFO [traceId=, spanId=] 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-25 13:02:58.556  INFO [traceId=, spanId=] 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-25 13:03:11.774  WARN [traceId=, spanId=] 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-25 13:03:13.111  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'InventoryService' URL not provided. Will try picking an instance via load-balancing.
2025-04-25 13:03:14.524  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'UserService' URL not provided. Will try picking an instance via load-balancing.
2025-04-25 13:03:28.968  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Connecting to localhost with guest user, assuming development environment
2025-04-25 13:03:28.972  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Using address resolver to always connect to localhost
2025-04-25 13:03:34.497  INFO [traceId=, spanId=] 1 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-04-25 13:03:35.090  WARN [traceId=, spanId=] 1 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-04-25 13:03:35.357  INFO [traceId=, spanId=] 1 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoints beneath base path '/actuator'
2025-04-25 13:03:36.299  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-04-25 13:03:36.518  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-04-25 13:03:36.558  INFO [traceId=, spanId=] 1 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-25 13:03:36.618  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-04-25 13:03:36.621  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-04-25 13:03:36.630  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-04-25 13:03:36.650  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-04-25 13:03:36.653  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-04-25 13:03:36.657  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-04-25 13:03:36.660  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-04-25 13:03:38.006  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-04-25 13:03:38.024  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-04-25 13:03:38.050  INFO [traceId=, spanId=] 1 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-04-25 13:03:38.072  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1745586218071 with initial instances count: 5
2025-04-25 13:03:38.142  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ORDERSERVICE with eureka with status UP
2025-04-25 13:03:38.156  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1745586218155, current=UP, previous=STARTING]
2025-04-25 13:03:38.165  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/f10630ad41c2:OrderService:9003: registering service...
2025-04-25 13:03:38.265  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9003 (http) with context path '/'
2025-04-25 13:03:38.271  INFO [traceId=, spanId=] 1 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9003
2025-04-25 13:03:38.294  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [rabbitmq:5672]
2025-04-25 13:03:38.510  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/f10630ad41c2:OrderService:9003 - registration status: 204
2025-04-25 13:03:38.848  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#67e321e0:0/SimpleConnection@979ca7c [delegate=amqp://guest@172.19.0.4:5672/, localPort=55708]
2025-04-25 13:03:39.103  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
2025-04-25 13:03:39.109  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Dropped 2 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused)

org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:925)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:840)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:701)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender.postSpans(ZipkinRestTemplateSender.java:50)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:69)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:41)
	at zipkin2.reporter.BaseHttpSender.send(BaseHttpSender.java:123)
	at zipkin2.reporter.internal.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:266)
	at zipkin2.reporter.internal.AsyncReporter$Flusher.run(AsyncReporter.java:352)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:547)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:602)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:899)
	... 9 common frames omitted

2025-04-25 13:03:39.743  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Started OrderServiceApplication in 120.924 seconds (process running for 125.836)
2025-04-25 13:04:05.467  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-25 13:04:05.469  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-25 13:04:05.474  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2025-04-25 13:04:51.747  INFO [traceId=680b8873066d3b8058f6d41bd25e2ed0, spanId=58f6d41bd25e2ed0] 1 --- [http-nio-9003-exec-4] i.f.s.o.s.w.InventoryServiceWrapper      :  Checking stock for productVariantDetailId: 05e5a662-a70e-4b41-a3e8-89dc27c1ec13
2025-04-25 13:04:52.991 ERROR [traceId=680b8873066d3b8058f6d41bd25e2ed0, spanId=58f6d41bd25e2ed0] 1 --- [http-nio-9003-exec-4] i.f.s.o.exception.GlobalException        : Uncategorized error occurred: 

java.lang.NullPointerException: Cannot invoke "java.lang.Double.doubleValue()" because the return value of "iuh.fit.se.orderservice.dto.request.OrderRequestV2$ProductDetailOrder.getPrice()" is null
	at iuh.fit.se.orderservice.service.impl.OrderServiceImpl.lambda$createOrders$4(OrderServiceImpl.java:187)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at iuh.fit.se.orderservice.service.impl.OrderServiceImpl.createOrders(OrderServiceImpl.java:192)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)
	at iuh.fit.se.orderservice.service.impl.OrderServiceImpl$$SpringCGLIB$$0.createOrders(<generated>)
	at iuh.fit.se.orderservice.controller.OrderController.createOrder(OrderController.java:39)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)

2025-04-25 13:08:36.633  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-25 13:13:36.618  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-25 13:18:36.609  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-25 13:23:36.592  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-25 13:28:36.582  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-25 13:29:45.182  INFO [traceId=680b8e480c56f68019c324e76b036ac9, spanId=19c324e76b036ac9] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.InventoryServiceWrapper      :  Checking stock for productVariantDetailId: 05e5a662-a70e-4b41-a3e8-89dc27c1ec13
2025-04-25 13:29:45.968  INFO [traceId=680b8e480c56f68019c324e76b036ac9, spanId=19c324e76b036ac9] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.InventoryServiceWrapper      :  Checking stock for productVariantDetailId: 05464512-f580-426a-8800-bc7c38683c62
2025-04-25 13:29:51.334  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] i.f.s.o.service.impl.OrderServiceImpl    : Received payment response: PaymentStatusResponse(orderId=530b1e4f-81c0-4886-8638-ceec32356e0a, status=WAITING, paymentUrl=https://sandbox.vnpayment.vn/paymentv2/vpcpay.html?vnp_Amount=2567000000&vnp_Command=pay&vnp_CreateDate=20250425202950&vnp_CurrCode=VND&vnp_ExpireDate=20250425204450&vnp_IpAddr=172.19.0.1&vnp_Locale=vn&vnp_OrderInfo=Thanh+to%3Fn+%3F%3Fn+h%3Fng%3A+530b1e4f-81c0-4886-8638-ceec32356e0a&vnp_OrderType=other&vnp_ReturnUrl=http%3A%2F%2Flocalhost%3A8081%2Fpayment%2Fvn-pay-callback&vnp_TmnCode=2M388J6X&vnp_TxnRef=530b1e4f-81c0-4886-8638-ceec32356e0a&vnp_Version=2.1.0&vnp_SecureHash=f08c39300240ef0c5187bae11ab2762d04932bb8abee32904d16c1b0bd5cba4dd303d826e814736836cf8273c723d1852aeec5411fe47a55027607773944f504)
2025-04-25 13:29:51.445  INFO [traceId=680b8e480c56f68019c324e76b036ac9, spanId=19c324e76b036ac9] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling CustomerService for customerId: ba21e63f-c8cc-41c1-aa7c-bde769860887
2025-04-25 13:29:55.161  WARN [traceId=680b8e480c56f68019c324e76b036ac9, spanId=19c324e76b036ac9] 1 --- [http-nio-9003-exec-5] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 515, SQLState: 23000
2025-04-25 13:29:55.163 ERROR [traceId=680b8e480c56f68019c324e76b036ac9, spanId=19c324e76b036ac9] 1 --- [http-nio-9003-exec-5] o.h.engine.jdbc.spi.SqlExceptionHelper   : Cannot insert the value NULL into column 'order_status', table 'OrderDB.dbo.orders'; column does not allow nulls. INSERT fails.
2025-04-25 13:33:36.568  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-25 13:33:39.951  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ORDERSERVICE with eureka with status DOWN
2025-04-25 13:33:39.961  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1745588019961, current=DOWN, previous=UP]
2025-04-25 13:33:39.968  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/f10630ad41c2:OrderService:9003: registering service...
2025-04-25 13:33:40.103  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/f10630ad41c2:OrderService:9003 - registration status: 204
2025-04-25 13:33:40.106  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-25 13:33:40.113  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-25 13:33:40.423  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-25 13:33:40.926  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-25 13:33:40.966  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-25 13:33:41.036  INFO [traceId=, spanId=] 1 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-25 13:33:43.191  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-25 13:33:43.349  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-25 13:33:43.386  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-25 13:33:44.063  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-04-25 13:33:47.069  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-04-25 13:33:47.113  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/f10630ad41c2:OrderService:9003 - deregister  status: 200
2025-04-25 13:33:47.118  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-04-25 13:38:19.551  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Starting OrderServiceApplication v0.0.1-SNAPSHOT using Java 17.0.15 with PID 1 (/app/OrderService.jar started by root in /app)
2025-04-25 13:38:19.609 DEBUG [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-04-25 13:38:19.618  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : No active profile set, falling back to 1 default profile: "default"
2025-04-25 13:38:19.881  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-25 13:38:19.888  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=application, profiles=[default], label=null, version=1acc8d8659fd96ed52844c8881c260bdb5135241, state=
2025-04-25 13:38:19.893  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-25 13:38:19.896  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=OrderService, profiles=[default], label=null, version=1acc8d8659fd96ed52844c8881c260bdb5135241, state=
2025-04-25 13:38:33.895  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-25 13:38:33.912  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-25 13:38:34.794  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 825 ms. Found 2 JPA repository interfaces.
2025-04-25 13:38:34.905  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-25 13:38:34.913  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-04-25 13:38:34.992  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderDetailRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-25 13:38:34.997  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-25 13:38:34.999  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 31 ms. Found 0 Redis repository interfaces.
2025-04-25 13:38:37.999  INFO [traceId=, spanId=] 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=f9b4fb59-e3a5-3945-a671-7885d95e7545
2025-04-25 13:38:45.452  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9003 (http)
2025-04-25 13:38:45.501  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-25 13:38:45.511  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-25 13:38:46.073  INFO [traceId=, spanId=] 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-25 13:38:46.078  INFO [traceId=, spanId=] 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 26164 ms
2025-04-25 13:38:51.139  INFO [traceId=, spanId=] 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-25 13:38:51.624  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-25 13:38:51.882  INFO [traceId=, spanId=] 1 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-25 13:38:53.809  INFO [traceId=, spanId=] 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-25 13:38:54.040  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-25 13:38:55.420  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 4ec94341-4598-4c1b-b186-c1f2065e56ff
2025-04-25 13:38:55.467  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-25 13:38:55.965  WARN [traceId=, spanId=] 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-25 13:38:56.136  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-25 13:39:04.599  INFO [traceId=, spanId=] 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-25 13:39:07.925  INFO [traceId=, spanId=] 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-25 13:39:15.606  WARN [traceId=, spanId=] 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-25 13:39:17.320  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'InventoryService' URL not provided. Will try picking an instance via load-balancing.
2025-04-25 13:39:20.259  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'UserService' URL not provided. Will try picking an instance via load-balancing.
2025-04-25 13:39:38.237  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Connecting to localhost with guest user, assuming development environment
2025-04-25 13:39:38.240  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Using address resolver to always connect to localhost
2025-04-25 13:39:42.200  INFO [traceId=, spanId=] 1 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-04-25 13:39:42.683  WARN [traceId=, spanId=] 1 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-04-25 13:39:42.831  INFO [traceId=, spanId=] 1 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoints beneath base path '/actuator'
2025-04-25 13:39:43.393  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-04-25 13:39:43.535  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-04-25 13:39:43.556  INFO [traceId=, spanId=] 1 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-25 13:39:43.603  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-04-25 13:39:43.606  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-04-25 13:39:43.608  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-04-25 13:39:43.610  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-04-25 13:39:43.612  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-04-25 13:39:43.615  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-04-25 13:39:43.617  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-04-25 13:39:44.340  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-04-25 13:39:44.350  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-04-25 13:39:44.364  INFO [traceId=, spanId=] 1 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-04-25 13:39:44.371  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1745588384370 with initial instances count: 5
2025-04-25 13:39:44.406  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ORDERSERVICE with eureka with status UP
2025-04-25 13:39:44.413  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1745588384412, current=UP, previous=STARTING]
2025-04-25 13:39:44.424  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/670abea321ca:OrderService:9003: registering service...
2025-04-25 13:39:44.518  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9003 (http) with context path '/'
2025-04-25 13:39:44.525  INFO [traceId=, spanId=] 1 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9003
2025-04-25 13:39:44.553  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [rabbitmq:5672]
2025-04-25 13:39:44.687  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/670abea321ca:OrderService:9003 - registration status: 204
2025-04-25 13:39:44.968  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#767c34a0:0/SimpleConnection@1dc12a23 [delegate=amqp://guest@172.19.0.3:5672/, localPort=36462]
2025-04-25 13:39:45.406  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
2025-04-25 13:39:45.408  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Dropped 2 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused)

org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:925)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:840)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:701)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender.postSpans(ZipkinRestTemplateSender.java:50)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:69)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:41)
	at zipkin2.reporter.BaseHttpSender.send(BaseHttpSender.java:123)
	at zipkin2.reporter.internal.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:266)
	at zipkin2.reporter.internal.AsyncReporter$Flusher.run(AsyncReporter.java:352)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:547)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:602)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:899)
	... 9 common frames omitted

2025-04-25 13:39:45.957  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Started OrderServiceApplication in 105.301 seconds (process running for 109.76)
2025-04-25 13:39:58.712  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-25 13:39:58.715  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-25 13:39:58.735  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 17 ms
2025-04-25 13:44:15.810  INFO [traceId=680b91aff070a1c347869141d22fe832, spanId=47869141d22fe832] 1 --- [http-nio-9003-exec-10] i.f.s.o.s.w.InventoryServiceWrapper      :  Checking stock for productVariantDetailId: 05e5a662-a70e-4b41-a3e8-89dc27c1ec13
2025-04-25 13:44:18.404  INFO [traceId=680b91aff070a1c347869141d22fe832, spanId=47869141d22fe832] 1 --- [http-nio-9003-exec-10] i.f.s.o.s.w.InventoryServiceWrapper      :  Checking stock for productVariantDetailId: 05464512-f580-426a-8800-bc7c38683c62
2025-04-25 13:44:20.850  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] i.f.s.o.service.impl.OrderServiceImpl    : Received payment response: PaymentStatusResponse(orderId=c8a178a1-c67a-4cfe-b997-5853a0dc8307, status=WAITING, paymentUrl=https://sandbox.vnpayment.vn/paymentv2/vpcpay.html?vnp_Amount=2567000000&vnp_Command=pay&vnp_CreateDate=20250425204420&vnp_CurrCode=VND&vnp_ExpireDate=20250425205920&vnp_IpAddr=172.19.0.1&vnp_Locale=vn&vnp_OrderInfo=Thanh+to%3Fn+%3F%3Fn+h%3Fng%3A+c8a178a1-c67a-4cfe-b997-5853a0dc8307&vnp_OrderType=other&vnp_ReturnUrl=http%3A%2F%2Flocalhost%3A8081%2Fpayment%2Fvn-pay-callback&vnp_TmnCode=2M388J6X&vnp_TxnRef=c8a178a1-c67a-4cfe-b997-5853a0dc8307&vnp_Version=2.1.0&vnp_SecureHash=b6b5ef49446399b9a5da068f45ace04d6a45843ce290f78b8bf0f3c9f035068f11ae5bb7ba9b43fa2a86137948e3931933fe1f620988b6589215a169eda54c5c)
2025-04-25 13:44:20.859  INFO [traceId=680b91aff070a1c347869141d22fe832, spanId=47869141d22fe832] 1 --- [http-nio-9003-exec-10] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling CustomerService for customerId: ba21e63f-c8cc-41c1-aa7c-bde769860887
2025-04-25 13:44:21.306  WARN [traceId=680b91aff070a1c347869141d22fe832, spanId=47869141d22fe832] 1 --- [http-nio-9003-exec-10] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 515, SQLState: 23000
2025-04-25 13:44:21.308 ERROR [traceId=680b91aff070a1c347869141d22fe832, spanId=47869141d22fe832] 1 --- [http-nio-9003-exec-10] o.h.engine.jdbc.spi.SqlExceptionHelper   : Cannot insert the value NULL into column 'order_status', table 'OrderDB.dbo.orders'; column does not allow nulls. INSERT fails.
2025-04-25 13:44:43.598  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-25 13:45:38.399  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ORDERSERVICE with eureka with status DOWN
2025-04-25 13:45:38.418  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1745588738418, current=DOWN, previous=UP]
2025-04-25 13:45:38.421  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/670abea321ca:OrderService:9003: registering service...
2025-04-25 13:45:38.450  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/670abea321ca:OrderService:9003 - registration status: 204
2025-04-25 13:45:38.465  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-25 13:45:38.469  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-25 13:45:38.868  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-25 13:45:38.937  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-25 13:45:38.948  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-25 13:45:38.962  INFO [traceId=, spanId=] 1 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-25 13:45:40.187  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-25 13:45:40.237  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-25 13:45:40.249  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-25 13:45:40.581  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-04-25 13:45:43.583  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-04-25 13:45:43.608  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/670abea321ca:OrderService:9003 - deregister  status: 200
2025-04-25 13:45:43.612  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-04-25 13:52:07.742  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Starting OrderServiceApplication v0.0.1-SNAPSHOT using Java 17.0.15 with PID 1 (/app/OrderService.jar started by root in /app)
2025-04-25 13:52:07.768 DEBUG [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-04-25 13:52:07.771  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : No active profile set, falling back to 1 default profile: "default"
2025-04-25 13:52:07.907  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-25 13:52:07.909  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=application, profiles=[default], label=null, version=1acc8d8659fd96ed52844c8881c260bdb5135241, state=
2025-04-25 13:52:07.911  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-25 13:52:07.913  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=OrderService, profiles=[default], label=null, version=1acc8d8659fd96ed52844c8881c260bdb5135241, state=
2025-04-25 13:52:17.501  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-25 13:52:17.524  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-25 13:52:18.593  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 995 ms. Found 2 JPA repository interfaces.
2025-04-25 13:52:18.730  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-25 13:52:18.739  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-04-25 13:52:18.815  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderDetailRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-25 13:52:18.824  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-25 13:52:18.828  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 36 ms. Found 0 Redis repository interfaces.
2025-04-25 13:52:21.648  INFO [traceId=, spanId=] 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=f9b4fb59-e3a5-3945-a671-7885d95e7545
2025-04-25 13:52:27.395  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9003 (http)
2025-04-25 13:52:27.491  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-25 13:52:27.504  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-25 13:52:27.717  INFO [traceId=, spanId=] 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-25 13:52:27.723  INFO [traceId=, spanId=] 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 19804 ms
2025-04-25 13:52:36.244  INFO [traceId=, spanId=] 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-25 13:52:36.813  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-25 13:52:37.206  INFO [traceId=, spanId=] 1 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-25 13:52:41.582  INFO [traceId=, spanId=] 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-25 13:52:41.874  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-25 13:52:44.308  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 75775e10-a738-4225-88f1-6760cb419f8a
2025-04-25 13:52:44.330  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-25 13:52:44.837  WARN [traceId=, spanId=] 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-25 13:52:45.035  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-25 13:52:54.820  INFO [traceId=, spanId=] 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-25 13:52:56.817  INFO [traceId=, spanId=] 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-25 13:53:02.902  WARN [traceId=, spanId=] 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-25 13:53:04.376  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'InventoryService' URL not provided. Will try picking an instance via load-balancing.
2025-04-25 13:53:06.172  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'UserService' URL not provided. Will try picking an instance via load-balancing.
2025-04-25 13:53:22.859  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Connecting to localhost with guest user, assuming development environment
2025-04-25 13:53:22.862  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Using address resolver to always connect to localhost
2025-04-25 13:53:29.758  INFO [traceId=, spanId=] 1 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-04-25 13:53:30.408  WARN [traceId=, spanId=] 1 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-04-25 13:53:30.679  INFO [traceId=, spanId=] 1 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoints beneath base path '/actuator'
2025-04-25 13:53:32.276  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-04-25 13:53:32.646  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-04-25 13:53:32.727  INFO [traceId=, spanId=] 1 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-25 13:53:32.806  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-04-25 13:53:32.811  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-04-25 13:53:32.814  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-04-25 13:53:32.817  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-04-25 13:53:32.819  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-04-25 13:53:32.821  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-04-25 13:53:32.824  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-04-25 13:53:34.490  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-04-25 13:53:34.512  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-04-25 13:53:34.545  INFO [traceId=, spanId=] 1 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-04-25 13:53:34.564  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1745589214563 with initial instances count: 5
2025-04-25 13:53:34.645  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ORDERSERVICE with eureka with status UP
2025-04-25 13:53:34.655  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1745589214655, current=UP, previous=STARTING]
2025-04-25 13:53:34.668  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/71541bae085e:OrderService:9003: registering service...
2025-04-25 13:53:34.881  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9003 (http) with context path '/'
2025-04-25 13:53:34.886  INFO [traceId=, spanId=] 1 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9003
2025-04-25 13:53:34.917  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [rabbitmq:5672]
2025-04-25 13:53:35.109  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/71541bae085e:OrderService:9003 - registration status: 204
2025-04-25 13:53:35.534  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
2025-04-25 13:53:35.537  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Dropped 2 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused)

org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:925)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:840)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:701)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender.postSpans(ZipkinRestTemplateSender.java:50)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:69)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:41)
	at zipkin2.reporter.BaseHttpSender.send(BaseHttpSender.java:123)
	at zipkin2.reporter.internal.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:266)
	at zipkin2.reporter.internal.AsyncReporter$Flusher.run(AsyncReporter.java:352)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:547)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:602)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:899)
	... 9 common frames omitted

2025-04-25 13:53:35.925  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#209c0be5:0/SimpleConnection@77936f79 [delegate=amqp://guest@172.19.0.4:5672/, localPort=59326]
2025-04-25 13:53:37.238  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Started OrderServiceApplication in 102.832 seconds (process running for 108.667)
2025-04-25 13:53:50.418  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-25 13:53:50.423  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-25 13:53:50.435  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 8 ms
2025-04-25 13:55:52.735  INFO [traceId=680b94685a499da5cdf8c39d1581dfd6, spanId=cdf8c39d1581dfd6] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.InventoryServiceWrapper      :  Checking stock for productVariantDetailId: 05e5a662-a70e-4b41-a3e8-89dc27c1ec13
2025-04-25 13:55:54.287  INFO [traceId=680b94685a499da5cdf8c39d1581dfd6, spanId=cdf8c39d1581dfd6] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.InventoryServiceWrapper      :  Checking stock for productVariantDetailId: 05464512-f580-426a-8800-bc7c38683c62
2025-04-25 13:55:54.309  INFO [traceId=680b94685a499da5cdf8c39d1581dfd6, spanId=cdf8c39d1581dfd6] 1 --- [http-nio-9003-exec-5] i.f.s.o.service.impl.OrderServiceImpl    : OrderRequestV2(customerId=ba21e63f-c8cc-41c1-aa7c-bde769860887, systemUserId=null, address=79 Tn Thng, paymentMethod=VNPAY, paymentStatus=WAITING, orderStatus=null, productDetailOrders=[OrderRequestV2.ProductDetailOrder(productVariantDetailId=05e5a662-a70e-4b41-a3e8-89dc27c1ec13, quantity=2, price=9090000.0), OrderRequestV2.ProductDetailOrder(productVariantDetailId=05464512-f580-426a-8800-bc7c38683c62, quantity=1, price=7490000.0)])
2025-04-25 13:55:55.536  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] i.f.s.o.service.impl.OrderServiceImpl    : Received payment response: PaymentStatusResponse(orderId=8fe8dc57-07a2-4454-a699-994dc0fab738, status=WAITING, paymentUrl=https://sandbox.vnpayment.vn/paymentv2/vpcpay.html?vnp_Amount=2567000000&vnp_Command=pay&vnp_CreateDate=20250425205555&vnp_CurrCode=VND&vnp_ExpireDate=20250425211055&vnp_IpAddr=172.19.0.1&vnp_Locale=vn&vnp_OrderInfo=Thanh+to%3Fn+%3F%3Fn+h%3Fng%3A+8fe8dc57-07a2-4454-a699-994dc0fab738&vnp_OrderType=other&vnp_ReturnUrl=http%3A%2F%2Flocalhost%3A8081%2Fpayment%2Fvn-pay-callback&vnp_TmnCode=2M388J6X&vnp_TxnRef=8fe8dc57-07a2-4454-a699-994dc0fab738&vnp_Version=2.1.0&vnp_SecureHash=f73ebec9ad349b8cf2875372711e836dacec0e89f55ec7881a467464cef2ce753577c8236f0b743967d271d119836e5bff65574853889f6863ca8bc46b02c731)
2025-04-25 13:55:55.541  INFO [traceId=680b94685a499da5cdf8c39d1581dfd6, spanId=cdf8c39d1581dfd6] 1 --- [http-nio-9003-exec-5] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling CustomerService for customerId: ba21e63f-c8cc-41c1-aa7c-bde769860887
2025-04-25 13:55:55.936  WARN [traceId=680b94685a499da5cdf8c39d1581dfd6, spanId=cdf8c39d1581dfd6] 1 --- [http-nio-9003-exec-5] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 515, SQLState: 23000
2025-04-25 13:55:55.939 ERROR [traceId=680b94685a499da5cdf8c39d1581dfd6, spanId=cdf8c39d1581dfd6] 1 --- [http-nio-9003-exec-5] o.h.engine.jdbc.spi.SqlExceptionHelper   : Cannot insert the value NULL into column 'order_status', table 'OrderDB.dbo.orders'; column does not allow nulls. INSERT fails.
2025-04-25 13:58:32.792  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-25 14:01:38.907  INFO [traceId=680b95c26e60ab49555151541cbb249a, spanId=555151541cbb249a] 1 --- [http-nio-9003-exec-8] i.f.s.o.s.w.InventoryServiceWrapper      :  Checking stock for productVariantDetailId: 05e5a662-a70e-4b41-a3e8-89dc27c1ec13
2025-04-25 14:01:39.106  INFO [traceId=680b95c26e60ab49555151541cbb249a, spanId=555151541cbb249a] 1 --- [http-nio-9003-exec-8] i.f.s.o.s.w.InventoryServiceWrapper      :  Checking stock for productVariantDetailId: 05464512-f580-426a-8800-bc7c38683c62
2025-04-25 14:01:39.129  INFO [traceId=680b95c26e60ab49555151541cbb249a, spanId=555151541cbb249a] 1 --- [http-nio-9003-exec-8] i.f.s.o.service.impl.OrderServiceImpl    : OrderRequestV2(customerId=ba21e63f-c8cc-41c1-aa7c-bde769860887, systemUserId=null, address=79 Tn Thng, paymentMethod=VNPAY, paymentStatus=WAITING, orderStatus=NEW, productDetailOrders=[OrderRequestV2.ProductDetailOrder(productVariantDetailId=05e5a662-a70e-4b41-a3e8-89dc27c1ec13, quantity=2, price=9090000.0), OrderRequestV2.ProductDetailOrder(productVariantDetailId=05464512-f580-426a-8800-bc7c38683c62, quantity=1, price=7490000.0)])
2025-04-25 14:01:39.371  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] i.f.s.o.service.impl.OrderServiceImpl    : Received payment response: PaymentStatusResponse(orderId=69cc36ed-5548-40e5-a55e-cb7a4840cf13, status=WAITING, paymentUrl=https://sandbox.vnpayment.vn/paymentv2/vpcpay.html?vnp_Amount=2567000000&vnp_Command=pay&vnp_CreateDate=20250425210139&vnp_CurrCode=VND&vnp_ExpireDate=20250425211639&vnp_IpAddr=172.19.0.1&vnp_Locale=vn&vnp_OrderInfo=Thanh+to%3Fn+%3F%3Fn+h%3Fng%3A+69cc36ed-5548-40e5-a55e-cb7a4840cf13&vnp_OrderType=other&vnp_ReturnUrl=http%3A%2F%2Flocalhost%3A8081%2Fpayment%2Fvn-pay-callback&vnp_TmnCode=2M388J6X&vnp_TxnRef=69cc36ed-5548-40e5-a55e-cb7a4840cf13&vnp_Version=2.1.0&vnp_SecureHash=046bb5eeb284b9f59fb04f468d08bb3f09f7b00132d3942ba70834ad632d18d2861d77c2e4622803aa15fdbf9f2c00d80e005395a9fc6cbf2bda9e703b4e4c97)
2025-04-25 14:01:39.377  INFO [traceId=680b95c26e60ab49555151541cbb249a, spanId=555151541cbb249a] 1 --- [http-nio-9003-exec-8] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling CustomerService for customerId: ba21e63f-c8cc-41c1-aa7c-bde769860887
2025-04-25 14:01:39.547  WARN [traceId=680b95c26e60ab49555151541cbb249a, spanId=555151541cbb249a] 1 --- [http-nio-9003-exec-8] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 515, SQLState: 23000
2025-04-25 14:01:39.550 ERROR [traceId=680b95c26e60ab49555151541cbb249a, spanId=555151541cbb249a] 1 --- [http-nio-9003-exec-8] o.h.engine.jdbc.spi.SqlExceptionHelper   : Cannot insert the value NULL into column 'system_user_id', table 'OrderDB.dbo.orders'; column does not allow nulls. INSERT fails.
2025-04-25 14:03:09.595  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ORDERSERVICE with eureka with status DOWN
2025-04-25 14:03:09.635  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1745589789635, current=DOWN, previous=UP]
2025-04-25 14:03:09.641  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/71541bae085e:OrderService:9003: registering service...
2025-04-25 14:03:09.744  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/71541bae085e:OrderService:9003 - registration status: 204
2025-04-25 14:03:10.084  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-25 14:03:10.086  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-25 14:03:10.181  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-25 14:03:10.387  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-25 14:03:10.427  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-25 14:03:10.534  INFO [traceId=, spanId=] 1 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-25 14:03:12.245  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-25 14:03:12.361  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-25 14:03:12.405  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-25 14:03:12.784  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-04-25 14:03:15.787  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-04-25 14:03:15.820  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/71541bae085e:OrderService:9003 - deregister  status: 200
2025-04-25 14:03:15.827  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-04-25 14:07:05.404  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Starting OrderServiceApplication v0.0.1-SNAPSHOT using Java 17.0.15 with PID 1 (/app/OrderService.jar started by root in /app)
2025-04-25 14:07:05.449 DEBUG [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-04-25 14:07:05.462  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : No active profile set, falling back to 1 default profile: "default"
2025-04-25 14:07:05.982  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-25 14:07:06.013  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=application, profiles=[default], label=null, version=1acc8d8659fd96ed52844c8881c260bdb5135241, state=
2025-04-25 14:07:06.026  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-25 14:07:06.040  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=OrderService, profiles=[default], label=null, version=1acc8d8659fd96ed52844c8881c260bdb5135241, state=
2025-04-25 14:07:22.877  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-25 14:07:22.887  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-25 14:07:24.128  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1145 ms. Found 2 JPA repository interfaces.
2025-04-25 14:07:24.343  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-25 14:07:24.362  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-04-25 14:07:24.528  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderDetailRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-25 14:07:24.540  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-25 14:07:24.554  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 62 ms. Found 0 Redis repository interfaces.
2025-04-25 14:07:28.128  INFO [traceId=, spanId=] 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=f9b4fb59-e3a5-3945-a671-7885d95e7545
2025-04-25 14:07:32.862  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9003 (http)
2025-04-25 14:07:32.975  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-25 14:07:32.990  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-25 14:07:33.289  INFO [traceId=, spanId=] 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-25 14:07:33.297  INFO [traceId=, spanId=] 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 27244 ms
2025-04-25 14:07:38.386  INFO [traceId=, spanId=] 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-25 14:07:39.018  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-25 14:07:39.370  INFO [traceId=, spanId=] 1 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-25 14:07:42.468  INFO [traceId=, spanId=] 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-25 14:07:42.884  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-25 14:07:45.115  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 9dc6f740-19d3-4a3b-8f2c-12b24104ef97
2025-04-25 14:07:45.152  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-25 14:07:45.838  WARN [traceId=, spanId=] 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-25 14:07:46.112  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-25 14:07:53.624  INFO [traceId=, spanId=] 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-25 14:07:55.501  INFO [traceId=, spanId=] 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-25 14:07:59.928  WARN [traceId=, spanId=] 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-25 14:08:01.350  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'InventoryService' URL not provided. Will try picking an instance via load-balancing.
2025-04-25 14:08:02.837  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'UserService' URL not provided. Will try picking an instance via load-balancing.
2025-04-25 14:08:19.572  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Connecting to localhost with guest user, assuming development environment
2025-04-25 14:08:19.576  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Using address resolver to always connect to localhost
2025-04-25 14:08:32.754  INFO [traceId=, spanId=] 1 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-04-25 14:08:33.166  WARN [traceId=, spanId=] 1 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-04-25 14:08:33.375  INFO [traceId=, spanId=] 1 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoints beneath base path '/actuator'
2025-04-25 14:08:33.890  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-04-25 14:08:34.060  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-04-25 14:08:34.088  INFO [traceId=, spanId=] 1 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-25 14:08:34.133  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-04-25 14:08:34.135  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-04-25 14:08:34.137  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-04-25 14:08:34.140  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-04-25 14:08:34.141  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-04-25 14:08:34.144  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-04-25 14:08:34.146  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-04-25 14:08:35.027  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-04-25 14:08:35.036  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-04-25 14:08:35.048  INFO [traceId=, spanId=] 1 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-04-25 14:08:35.055  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1745590115054 with initial instances count: 6
2025-04-25 14:08:35.084  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ORDERSERVICE with eureka with status UP
2025-04-25 14:08:35.088  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1745590115088, current=UP, previous=STARTING]
2025-04-25 14:08:35.103  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/24a037804167:OrderService:9003: registering service...
2025-04-25 14:08:35.202  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9003 (http) with context path '/'
2025-04-25 14:08:35.207  INFO [traceId=, spanId=] 1 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9003
2025-04-25 14:08:35.233  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [rabbitmq:5672]
2025-04-25 14:08:35.278  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/24a037804167:OrderService:9003 - registration status: 204
2025-04-25 14:08:35.500  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#460a31ce:0/SimpleConnection@4fd955d5 [delegate=amqp://guest@172.19.0.4:5672/, localPort=34078]
2025-04-25 14:08:36.080  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
2025-04-25 14:08:36.086  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Dropped 2 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused)

org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:925)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:840)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:701)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender.postSpans(ZipkinRestTemplateSender.java:50)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:69)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:41)
	at zipkin2.reporter.BaseHttpSender.send(BaseHttpSender.java:123)
	at zipkin2.reporter.internal.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:266)
	at zipkin2.reporter.internal.AsyncReporter$Flusher.run(AsyncReporter.java:352)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:547)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:602)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:899)
	... 9 common frames omitted

2025-04-25 14:08:36.145  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Started OrderServiceApplication in 105.824 seconds (process running for 111.98)
2025-04-25 14:08:47.861  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-25 14:08:47.864  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-25 14:08:47.874  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 8 ms
2025-04-25 14:13:34.126  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-25 14:18:34.112  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-25 14:19:44.222  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ORDERSERVICE with eureka with status DOWN
2025-04-25 14:19:44.229  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1745590784229, current=DOWN, previous=UP]
2025-04-25 14:19:44.239  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/24a037804167:OrderService:9003: registering service...
2025-04-25 14:19:44.301  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/24a037804167:OrderService:9003 - registration status: 204
2025-04-25 14:19:44.754  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-25 14:19:44.757  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-25 14:19:45.103  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-25 14:19:45.144  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-25 14:19:45.219  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-25 14:19:45.315  INFO [traceId=, spanId=] 1 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-25 14:19:47.368  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-25 14:19:47.590  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-25 14:19:47.653  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-25 14:19:48.403  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-04-25 14:19:51.404  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-04-25 14:19:51.467  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/24a037804167:OrderService:9003 - deregister  status: 200
2025-04-25 14:19:51.472  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-04-25 14:25:53.329  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Starting OrderServiceApplication v0.0.1-SNAPSHOT using Java 17.0.15 with PID 1 (/app/OrderService.jar started by root in /app)
2025-04-25 14:25:53.357 DEBUG [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-04-25 14:25:53.362  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : No active profile set, falling back to 1 default profile: "default"
2025-04-25 14:25:53.495  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-25 14:25:53.498  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=application, profiles=[default], label=null, version=1acc8d8659fd96ed52844c8881c260bdb5135241, state=
2025-04-25 14:25:53.500  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-25 14:25:53.501  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=OrderService, profiles=[default], label=null, version=1acc8d8659fd96ed52844c8881c260bdb5135241, state=
2025-04-25 14:26:05.166  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-25 14:26:05.188  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-25 14:26:07.168  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1870 ms. Found 2 JPA repository interfaces.
2025-04-25 14:26:07.506  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-25 14:26:07.531  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-04-25 14:26:07.662  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderDetailRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-25 14:26:07.694  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-25 14:26:07.708  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 74 ms. Found 0 Redis repository interfaces.
2025-04-25 14:26:13.471  INFO [traceId=, spanId=] 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=f9b4fb59-e3a5-3945-a671-7885d95e7545
2025-04-25 14:26:22.386  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9003 (http)
2025-04-25 14:26:22.503  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-25 14:26:22.518  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-25 14:26:23.057  INFO [traceId=, spanId=] 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-25 14:26:23.072  INFO [traceId=, spanId=] 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 29563 ms
2025-04-25 14:26:31.886  INFO [traceId=, spanId=] 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-25 14:26:33.484  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-25 14:26:34.282  INFO [traceId=, spanId=] 1 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-25 14:26:37.543  INFO [traceId=, spanId=] 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-25 14:26:37.721  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-25 14:26:38.972  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 87644781-9063-4713-9015-8c2e98cb340f
2025-04-25 14:26:39.001  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-25 14:26:39.481  WARN [traceId=, spanId=] 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-25 14:26:39.766  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-25 14:26:47.745  INFO [traceId=, spanId=] 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-25 14:26:49.791  INFO [traceId=, spanId=] 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-25 14:26:57.480  WARN [traceId=, spanId=] 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-25 14:26:59.188  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'InventoryService' URL not provided. Will try picking an instance via load-balancing.
2025-04-25 14:27:01.300  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'UserService' URL not provided. Will try picking an instance via load-balancing.
2025-04-25 14:27:17.905  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Connecting to localhost with guest user, assuming development environment
2025-04-25 14:27:17.907  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Using address resolver to always connect to localhost
2025-04-25 14:27:24.575  INFO [traceId=, spanId=] 1 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-04-25 14:27:24.891  WARN [traceId=, spanId=] 1 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-04-25 14:27:25.020  INFO [traceId=, spanId=] 1 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoints beneath base path '/actuator'
2025-04-25 14:27:25.683  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-04-25 14:27:25.804  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-04-25 14:27:25.826  INFO [traceId=, spanId=] 1 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-25 14:27:25.883  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-04-25 14:27:25.885  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-04-25 14:27:25.888  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-04-25 14:27:25.891  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-04-25 14:27:25.896  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-04-25 14:27:25.899  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-04-25 14:27:25.902  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-04-25 14:27:26.685  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-04-25 14:27:26.697  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-04-25 14:27:26.706  INFO [traceId=, spanId=] 1 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-04-25 14:27:26.714  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1745591246712 with initial instances count: 4
2025-04-25 14:27:26.741  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ORDERSERVICE with eureka with status UP
2025-04-25 14:27:26.746  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1745591246745, current=UP, previous=STARTING]
2025-04-25 14:27:26.755  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/a2488a457652:OrderService:9003: registering service...
2025-04-25 14:27:26.888  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9003 (http) with context path '/'
2025-04-25 14:27:26.894  INFO [traceId=, spanId=] 1 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9003
2025-04-25 14:27:26.919  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [rabbitmq:5672]
2025-04-25 14:27:27.014  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/a2488a457652:OrderService:9003 - registration status: 204
2025-04-25 14:27:27.466  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#52b11deb:0/SimpleConnection@7e5090ef [delegate=amqp://guest@172.19.0.4:5672/, localPort=43182]
2025-04-25 14:27:27.727  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
2025-04-25 14:27:27.731  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Dropped 2 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused)

org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:925)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:840)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:701)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender.postSpans(ZipkinRestTemplateSender.java:50)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:69)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:41)
	at zipkin2.reporter.BaseHttpSender.send(BaseHttpSender.java:123)
	at zipkin2.reporter.internal.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:266)
	at zipkin2.reporter.internal.AsyncReporter$Flusher.run(AsyncReporter.java:352)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:547)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:602)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:899)
	... 9 common frames omitted

2025-04-25 14:27:28.129  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Started OrderServiceApplication in 105.816 seconds (process running for 112.16)
2025-04-25 14:27:38.009  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-25 14:27:38.015  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-25 14:27:38.035  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 16 ms
2025-04-25 14:29:42.529  WARN [traceId=680b9c561b1576b06ea28bffc1a7c541, spanId=6ea28bffc1a7c541] 1 --- [http-nio-9003-exec-5] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection ConnectionID:2 ClientConnectionId: e7fc39d8-747c-4241-b8e3-efc9ac2a6acb (The connection is closed.). Possibly consider using a shorter maxLifetime value.
2025-04-25 14:29:42.584  WARN [traceId=680b9c561b1576b06ea28bffc1a7c541, spanId=6ea28bffc1a7c541] 1 --- [http-nio-9003-exec-5] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection ConnectionID:3 ClientConnectionId: 52a9ab1d-ecdf-4235-8a95-3edf79f4d19b (The connection is closed.). Possibly consider using a shorter maxLifetime value.
2025-04-25 14:29:42.635  WARN [traceId=680b9c561b1576b06ea28bffc1a7c541, spanId=6ea28bffc1a7c541] 1 --- [http-nio-9003-exec-5] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection ConnectionID:4 ClientConnectionId: 0b61c099-7e27-4bc8-a053-cd7f873b1f40 (The connection is closed.). Possibly consider using a shorter maxLifetime value.
2025-04-25 14:29:42.688  WARN [traceId=680b9c561b1576b06ea28bffc1a7c541, spanId=6ea28bffc1a7c541] 1 --- [http-nio-9003-exec-5] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection ConnectionID:5 ClientConnectionId: 5fead8af-8025-4027-b031-3b3f325c9e1c (The connection is closed.). Possibly consider using a shorter maxLifetime value.
2025-04-25 14:29:42.746  WARN [traceId=680b9c561b1576b06ea28bffc1a7c541, spanId=6ea28bffc1a7c541] 1 --- [http-nio-9003-exec-5] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection ConnectionID:6 ClientConnectionId: 68fb76b4-f19c-4a4b-bad8-29ca0f52f396 (The connection is closed.). Possibly consider using a shorter maxLifetime value.
2025-04-25 14:29:42.798  WARN [traceId=680b9c561b1576b06ea28bffc1a7c541, spanId=6ea28bffc1a7c541] 1 --- [http-nio-9003-exec-5] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection ConnectionID:7 ClientConnectionId: 186c7b9b-e7d7-44d6-9d89-4d2f27c6644e (The connection is closed.). Possibly consider using a shorter maxLifetime value.
2025-04-25 14:29:42.847  WARN [traceId=680b9c561b1576b06ea28bffc1a7c541, spanId=6ea28bffc1a7c541] 1 --- [http-nio-9003-exec-5] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection ConnectionID:8 ClientConnectionId: 7ddfa9bf-091d-47ef-80d2-c58563e48a40 (The connection is closed.). Possibly consider using a shorter maxLifetime value.
2025-04-25 14:29:42.896  WARN [traceId=680b9c561b1576b06ea28bffc1a7c541, spanId=6ea28bffc1a7c541] 1 --- [http-nio-9003-exec-5] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection ConnectionID:9 ClientConnectionId: 0968d914-ebed-4cd1-957f-c897b76a9c70 (The connection is closed.). Possibly consider using a shorter maxLifetime value.
2025-04-25 14:29:42.944  WARN [traceId=680b9c561b1576b06ea28bffc1a7c541, spanId=6ea28bffc1a7c541] 1 --- [http-nio-9003-exec-5] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection ConnectionID:10 ClientConnectionId: 7f178a3f-beef-4c2a-9855-8760d83e8ade (The connection is closed.). Possibly consider using a shorter maxLifetime value.
2025-04-25 14:30:02.660  WARN [traceId=680b9c561b1576b06ea28bffc1a7c541, spanId=6ea28bffc1a7c541] 1 --- [http-nio-9003-exec-5] o.s.b.a.health.HealthEndpointSupport     : Health contributor org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator (db) took 20205ms to respond
2025-04-25 14:30:38.782  INFO [traceId=680b9c8e6c7b5b58adae520ca1fa1f24, spanId=adae520ca1fa1f24] 1 --- [http-nio-9003-exec-7] i.f.s.o.s.w.InventoryServiceWrapper      :  Checking stock for productVariantDetailId: 05e5a662-a70e-4b41-a3e8-89dc27c1ec13
2025-04-25 14:30:40.788  INFO [traceId=680b9c8e6c7b5b58adae520ca1fa1f24, spanId=adae520ca1fa1f24] 1 --- [http-nio-9003-exec-7] i.f.s.o.s.w.InventoryServiceWrapper      :  Checking stock for productVariantDetailId: 05464512-f580-426a-8800-bc7c38683c62
2025-04-25 14:30:40.824  INFO [traceId=680b9c8e6c7b5b58adae520ca1fa1f24, spanId=adae520ca1fa1f24] 1 --- [http-nio-9003-exec-7] i.f.s.o.service.impl.OrderServiceImpl    : OrderRequestV2(customerId=ba21e63f-c8cc-41c1-aa7c-bde769860887, systemUserId=null, address=79 Tn Thng, paymentMethod=VNPAY, paymentStatus=WAITING, orderStatus=NEW, productDetailOrders=[OrderRequestV2.ProductDetailOrder(productVariantDetailId=05e5a662-a70e-4b41-a3e8-89dc27c1ec13, quantity=2, price=9090000.0), OrderRequestV2.ProductDetailOrder(productVariantDetailId=05464512-f580-426a-8800-bc7c38683c62, quantity=1, price=7490000.0)])
2025-04-25 14:30:42.322  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] i.f.s.o.service.impl.OrderServiceImpl    : Received payment response: PaymentStatusResponse(orderId=a94860f4-19ba-4b50-8200-ee388747418c, status=WAITING, paymentUrl=https://sandbox.vnpayment.vn/paymentv2/vpcpay.html?vnp_Amount=2567000000&vnp_Command=pay&vnp_CreateDate=20250425213042&vnp_CurrCode=VND&vnp_ExpireDate=20250425214542&vnp_IpAddr=172.19.0.1&vnp_Locale=vn&vnp_OrderInfo=Thanh+to%3Fn+%3F%3Fn+h%3Fng%3A+a94860f4-19ba-4b50-8200-ee388747418c&vnp_OrderType=other&vnp_ReturnUrl=http%3A%2F%2Flocalhost%3A8081%2Fpayment%2Fvn-pay-callback&vnp_TmnCode=2M388J6X&vnp_TxnRef=a94860f4-19ba-4b50-8200-ee388747418c&vnp_Version=2.1.0&vnp_SecureHash=8b56649c661d5cd17274ada9ee0fff2ac851a5c80098c38573d95ee4c21c374cf4708685243f712230d313f5e9b465bbfe2badefdbe0eed0fd96b9ec36e5be6a)
2025-04-25 14:30:42.334  INFO [traceId=680b9c8e6c7b5b58adae520ca1fa1f24, spanId=adae520ca1fa1f24] 1 --- [http-nio-9003-exec-7] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling CustomerService for customerId: ba21e63f-c8cc-41c1-aa7c-bde769860887
2025-04-25 14:32:14.492  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.service.impl.OrderServiceImpl    : Received payment status for order: a94860f4-19ba-4b50-8200-ee388747418c
2025-04-25 14:32:15.820  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling CustomerService for customerId: ba21e63f-c8cc-41c1-aa7c-bde769860887
2025-04-25 14:32:15.877  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.service.impl.OrderServiceImpl    : Payment completed for order: a94860f4-19ba-4b50-8200-ee388747418c
2025-04-25 14:32:16.012  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.service.impl.OrderServiceImpl    : Notification sent to ggducvu@gmail.com
2025-04-25 14:32:16.017  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.service.impl.OrderServiceImpl    : Received payment status for order: a94860f4-19ba-4b50-8200-ee388747418c
2025-04-25 14:32:16.045  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling CustomerService for customerId: ba21e63f-c8cc-41c1-aa7c-bde769860887
2025-04-25 14:32:16.079  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.service.impl.OrderServiceImpl    : Payment completed for order: a94860f4-19ba-4b50-8200-ee388747418c
2025-04-25 14:32:16.098  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.service.impl.OrderServiceImpl    : Notification sent to ggducvu@gmail.com
2025-04-25 14:32:16.100  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.service.impl.OrderServiceImpl    : Received payment status for order: a94860f4-19ba-4b50-8200-ee388747418c
2025-04-25 14:32:16.126  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling CustomerService for customerId: ba21e63f-c8cc-41c1-aa7c-bde769860887
2025-04-25 14:32:16.162  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.service.impl.OrderServiceImpl    : Payment completed for order: a94860f4-19ba-4b50-8200-ee388747418c
2025-04-25 14:32:16.182  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.service.impl.OrderServiceImpl    : Notification sent to ggducvu@gmail.com
2025-04-25 14:32:16.187  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.service.impl.OrderServiceImpl    : Received payment status for order: a94860f4-19ba-4b50-8200-ee388747418c
2025-04-25 14:32:16.217  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling CustomerService for customerId: ba21e63f-c8cc-41c1-aa7c-bde769860887
2025-04-25 14:32:16.258  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.service.impl.OrderServiceImpl    : Payment completed for order: a94860f4-19ba-4b50-8200-ee388747418c
2025-04-25 14:32:16.280  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.service.impl.OrderServiceImpl    : Notification sent to ggducvu@gmail.com
2025-04-25 14:32:25.889  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-25 14:36:24.557  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ORDERSERVICE with eureka with status DOWN
2025-04-25 14:36:24.566  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1745591784566, current=DOWN, previous=UP]
2025-04-25 14:36:24.570  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/a2488a457652:OrderService:9003: registering service...
2025-04-25 14:36:24.623  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/a2488a457652:OrderService:9003 - registration status: 204
2025-04-25 14:36:24.772  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-25 14:36:24.775  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-25 14:36:25.312  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-25 14:36:25.373  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-25 14:36:25.402  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-25 14:36:25.441  INFO [traceId=, spanId=] 1 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-25 14:36:26.932  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-25 14:36:26.990  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-25 14:36:27.003  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-25 14:36:27.027  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-04-25 14:36:30.029  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-04-25 14:36:30.063  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/a2488a457652:OrderService:9003 - deregister  status: 200
2025-04-25 14:36:30.071  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-04-25 14:46:57.230  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Starting OrderServiceApplication v0.0.1-SNAPSHOT using Java 17.0.15 with PID 1 (/app/OrderService.jar started by root in /app)
2025-04-25 14:46:57.336 DEBUG [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-04-25 14:46:57.350  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : No active profile set, falling back to 1 default profile: "default"
2025-04-25 14:46:58.003  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-25 14:46:58.032  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=application, profiles=[default], label=null, version=1acc8d8659fd96ed52844c8881c260bdb5135241, state=
2025-04-25 14:46:58.052  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-25 14:46:58.072  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=OrderService, profiles=[default], label=null, version=1acc8d8659fd96ed52844c8881c260bdb5135241, state=
2025-04-25 14:47:18.964  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-25 14:47:19.001  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-25 14:47:20.336  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1165 ms. Found 2 JPA repository interfaces.
2025-04-25 14:47:20.622  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-25 14:47:20.641  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-04-25 14:47:20.880  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderDetailRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-25 14:47:20.899  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-25 14:47:20.914  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 93 ms. Found 0 Redis repository interfaces.
2025-04-25 14:47:25.405  INFO [traceId=, spanId=] 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=f9b4fb59-e3a5-3945-a671-7885d95e7545
2025-04-25 14:47:30.890  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9003 (http)
2025-04-25 14:47:31.000  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-25 14:47:31.007  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-25 14:47:31.330  INFO [traceId=, spanId=] 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-25 14:47:31.335  INFO [traceId=, spanId=] 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 33224 ms
2025-04-25 14:47:36.375  INFO [traceId=, spanId=] 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-25 14:47:36.739  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-25 14:47:36.958  INFO [traceId=, spanId=] 1 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-25 14:47:38.525  INFO [traceId=, spanId=] 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-25 14:47:38.714  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-25 14:47:39.511  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 57ce6440-9ce4-4f29-b306-33e53cc8a90b
2025-04-25 14:47:39.525  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-25 14:47:39.808  WARN [traceId=, spanId=] 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-25 14:47:40.007  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-25 14:47:46.121  INFO [traceId=, spanId=] 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-25 14:47:47.612  INFO [traceId=, spanId=] 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-25 14:47:50.773  WARN [traceId=, spanId=] 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-25 14:47:51.820  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'InventoryService' URL not provided. Will try picking an instance via load-balancing.
2025-04-25 14:47:53.451  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'UserService' URL not provided. Will try picking an instance via load-balancing.
2025-04-25 14:48:11.414  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Connecting to localhost with guest user, assuming development environment
2025-04-25 14:48:11.416  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Using address resolver to always connect to localhost
2025-04-25 14:48:14.546  INFO [traceId=, spanId=] 1 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-04-25 14:48:14.824  WARN [traceId=, spanId=] 1 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-04-25 14:48:14.925  INFO [traceId=, spanId=] 1 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoints beneath base path '/actuator'
2025-04-25 14:48:15.295  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-04-25 14:48:15.361  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-04-25 14:48:15.373  INFO [traceId=, spanId=] 1 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-25 14:48:15.401  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-04-25 14:48:15.404  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-04-25 14:48:15.407  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-04-25 14:48:15.408  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-04-25 14:48:15.410  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-04-25 14:48:15.412  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-04-25 14:48:15.414  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-04-25 14:48:16.129  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-04-25 14:48:16.146  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-04-25 14:48:16.156  INFO [traceId=, spanId=] 1 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-04-25 14:48:16.163  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1745592496162 with initial instances count: 5
2025-04-25 14:48:16.186  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ORDERSERVICE with eureka with status UP
2025-04-25 14:48:16.190  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1745592496189, current=UP, previous=STARTING]
2025-04-25 14:48:16.198  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/a2488a457652:OrderService:9003: registering service...
2025-04-25 14:48:16.297  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9003 (http) with context path '/'
2025-04-25 14:48:16.300  INFO [traceId=, spanId=] 1 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9003
2025-04-25 14:48:16.316  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [rabbitmq:5672]
2025-04-25 14:48:16.372  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/a2488a457652:OrderService:9003 - registration status: 204
2025-04-25 14:48:16.564  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#65beeceb:0/SimpleConnection@3d43297c [delegate=amqp://guest@172.19.0.5:5672/, localPort=50468]
2025-04-25 14:48:16.774  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Started OrderServiceApplication in 97.554 seconds (process running for 105.415)
2025-04-25 14:48:17.143  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
2025-04-25 14:48:17.145  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Dropped 2 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused)

org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:925)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:840)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:701)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender.postSpans(ZipkinRestTemplateSender.java:50)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:69)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:41)
	at zipkin2.reporter.BaseHttpSender.send(BaseHttpSender.java:123)
	at zipkin2.reporter.internal.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:266)
	at zipkin2.reporter.internal.AsyncReporter$Flusher.run(AsyncReporter.java:352)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:547)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:602)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:899)
	... 9 common frames omitted

2025-04-25 14:48:32.444  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-25 14:48:32.447  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-25 14:48:32.456  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 8 ms
2025-04-25 14:50:40.943  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.service.impl.OrderServiceImpl    : Received payment status for order: a94860f4-19ba-4b50-8200-ee388747418c
2025-04-25 14:50:41.669  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling CustomerService for customerId: ba21e63f-c8cc-41c1-aa7c-bde769860887
2025-04-25 14:50:42.516  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.service.impl.OrderServiceImpl    : Payment completed for order: a94860f4-19ba-4b50-8200-ee388747418c
2025-04-25 14:50:42.720  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.service.impl.OrderServiceImpl    : Notification sent to ggducvu@gmail.com
2025-04-25 14:50:42.727  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.service.impl.OrderServiceImpl    : Received payment status for order: a94860f4-19ba-4b50-8200-ee388747418c
2025-04-25 14:50:42.752  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling CustomerService for customerId: ba21e63f-c8cc-41c1-aa7c-bde769860887
2025-04-25 14:50:42.784  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.service.impl.OrderServiceImpl    : Payment completed for order: a94860f4-19ba-4b50-8200-ee388747418c
2025-04-25 14:50:42.802  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.service.impl.OrderServiceImpl    : Notification sent to ggducvu@gmail.com
2025-04-25 14:50:42.805  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.service.impl.OrderServiceImpl    : Received payment status for order: a94860f4-19ba-4b50-8200-ee388747418c
2025-04-25 14:50:42.829  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling CustomerService for customerId: ba21e63f-c8cc-41c1-aa7c-bde769860887
2025-04-25 14:50:42.860  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.service.impl.OrderServiceImpl    : Payment completed for order: a94860f4-19ba-4b50-8200-ee388747418c
2025-04-25 14:50:42.877  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.service.impl.OrderServiceImpl    : Notification sent to ggducvu@gmail.com
2025-04-25 14:50:42.880  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.service.impl.OrderServiceImpl    : Received payment status for order: a94860f4-19ba-4b50-8200-ee388747418c
2025-04-25 14:50:42.909  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling CustomerService for customerId: ba21e63f-c8cc-41c1-aa7c-bde769860887
2025-04-25 14:50:42.968  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.service.impl.OrderServiceImpl    : Payment completed for order: a94860f4-19ba-4b50-8200-ee388747418c
2025-04-25 14:50:43.008  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.service.impl.OrderServiceImpl    : Notification sent to ggducvu@gmail.com
2025-04-25 14:50:44.119  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.service.impl.OrderServiceImpl    : Received payment status for order: a94860f4-19ba-4b50-8200-ee388747418c
2025-04-25 14:50:44.151  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling CustomerService for customerId: ba21e63f-c8cc-41c1-aa7c-bde769860887
2025-04-25 14:50:44.185  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.service.impl.OrderServiceImpl    : Payment completed for order: a94860f4-19ba-4b50-8200-ee388747418c
2025-04-25 14:50:44.202  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.service.impl.OrderServiceImpl    : Notification sent to ggducvu@gmail.com
2025-04-25 14:50:44.255  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.service.impl.OrderServiceImpl    : Received payment status for order: a94860f4-19ba-4b50-8200-ee388747418c
2025-04-25 14:50:44.286  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling CustomerService for customerId: ba21e63f-c8cc-41c1-aa7c-bde769860887
2025-04-25 14:50:44.317  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.service.impl.OrderServiceImpl    : Payment completed for order: a94860f4-19ba-4b50-8200-ee388747418c
2025-04-25 14:50:44.333  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.service.impl.OrderServiceImpl    : Notification sent to ggducvu@gmail.com
2025-04-25 14:50:44.493  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.service.impl.OrderServiceImpl    : Received payment status for order: a94860f4-19ba-4b50-8200-ee388747418c
2025-04-25 14:50:44.517  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling CustomerService for customerId: ba21e63f-c8cc-41c1-aa7c-bde769860887
2025-04-25 14:50:44.542  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.service.impl.OrderServiceImpl    : Payment completed for order: a94860f4-19ba-4b50-8200-ee388747418c
2025-04-25 14:50:44.557  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.service.impl.OrderServiceImpl    : Notification sent to ggducvu@gmail.com
2025-04-25 14:50:44.929  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.service.impl.OrderServiceImpl    : Received payment status for order: a94860f4-19ba-4b50-8200-ee388747418c
2025-04-25 14:50:44.954  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling CustomerService for customerId: ba21e63f-c8cc-41c1-aa7c-bde769860887
2025-04-25 14:50:44.988  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.service.impl.OrderServiceImpl    : Payment completed for order: a94860f4-19ba-4b50-8200-ee388747418c
2025-04-25 14:50:45.010  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.service.impl.OrderServiceImpl    : Notification sent to ggducvu@gmail.com
2025-04-25 14:50:45.933  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.service.impl.OrderServiceImpl    : Received payment status for order: a94860f4-19ba-4b50-8200-ee388747418c
2025-04-25 14:50:45.953  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling CustomerService for customerId: ba21e63f-c8cc-41c1-aa7c-bde769860887
2025-04-25 14:50:45.974  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.service.impl.OrderServiceImpl    : Payment completed for order: a94860f4-19ba-4b50-8200-ee388747418c
2025-04-25 14:50:45.985  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.service.impl.OrderServiceImpl    : Notification sent to ggducvu@gmail.com
2025-04-25 14:50:46.061  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.service.impl.OrderServiceImpl    : Received payment status for order: a94860f4-19ba-4b50-8200-ee388747418c
2025-04-25 14:50:46.080  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling CustomerService for customerId: ba21e63f-c8cc-41c1-aa7c-bde769860887
2025-04-25 14:50:46.102  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.service.impl.OrderServiceImpl    : Payment completed for order: a94860f4-19ba-4b50-8200-ee388747418c
2025-04-25 14:50:46.114  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.service.impl.OrderServiceImpl    : Notification sent to ggducvu@gmail.com
2025-04-25 14:50:46.288  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.service.impl.OrderServiceImpl    : Received payment status for order: a94860f4-19ba-4b50-8200-ee388747418c
2025-04-25 14:50:46.317  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling CustomerService for customerId: ba21e63f-c8cc-41c1-aa7c-bde769860887
2025-04-25 14:50:46.344  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.service.impl.OrderServiceImpl    : Payment completed for order: a94860f4-19ba-4b50-8200-ee388747418c
2025-04-25 14:50:46.358  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.service.impl.OrderServiceImpl    : Notification sent to ggducvu@gmail.com
2025-04-25 14:50:46.718  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.service.impl.OrderServiceImpl    : Received payment status for order: a94860f4-19ba-4b50-8200-ee388747418c
2025-04-25 14:50:46.738  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling CustomerService for customerId: ba21e63f-c8cc-41c1-aa7c-bde769860887
2025-04-25 14:50:46.767  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.service.impl.OrderServiceImpl    : Payment completed for order: a94860f4-19ba-4b50-8200-ee388747418c
2025-04-25 14:50:46.784  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.service.impl.OrderServiceImpl    : Notification sent to ggducvu@gmail.com
2025-04-25 14:53:15.402  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-25 14:54:27.452  INFO [traceId=680ba2231f761da8aea831fcf174f470, spanId=aea831fcf174f470] 1 --- [http-nio-9003-exec-3] i.f.s.o.s.w.InventoryServiceWrapper      :  Checking stock for productVariantDetailId: 05e5a662-a70e-4b41-a3e8-89dc27c1ec13
2025-04-25 14:54:27.677  INFO [traceId=680ba2231f761da8aea831fcf174f470, spanId=aea831fcf174f470] 1 --- [http-nio-9003-exec-3] i.f.s.o.service.impl.OrderServiceImpl    : OrderRequestV2(customerId=ba21e63f-c8cc-41c1-aa7c-bde769860887, systemUserId=null, address=79 Tn Thng, paymentMethod=VNPAY, paymentStatus=WAITING, orderStatus=NEW, productDetailOrders=[OrderRequestV2.ProductDetailOrder(productVariantDetailId=05e5a662-a70e-4b41-a3e8-89dc27c1ec13, quantity=1, price=9090000.0)])
2025-04-25 14:54:27.978  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] i.f.s.o.service.impl.OrderServiceImpl    : Received payment response: PaymentStatusResponse(orderId=5f567f8e-61e3-4743-b796-ad15f8a076b1, status=WAITING, paymentUrl=https://sandbox.vnpayment.vn/paymentv2/vpcpay.html?vnp_Amount=909000000&vnp_Command=pay&vnp_CreateDate=20250425215427&vnp_CurrCode=VND&vnp_ExpireDate=20250425220927&vnp_IpAddr=172.19.0.1&vnp_Locale=vn&vnp_OrderInfo=Thanh+to%3Fn+%3F%3Fn+h%3Fng%3A+5f567f8e-61e3-4743-b796-ad15f8a076b1&vnp_OrderType=other&vnp_ReturnUrl=http%3A%2F%2Flocalhost%3A8081%2Fpayment%2Fvn-pay-callback&vnp_TmnCode=2M388J6X&vnp_TxnRef=5f567f8e-61e3-4743-b796-ad15f8a076b1&vnp_Version=2.1.0&vnp_SecureHash=a54747c55640603bdee6c207bcccbc8e2e6b1c840dc047c32e6ce613ddbfa462f4317a4214ef3e6cad81acd62432d49e442c53b88385ee88586b22913c266aea)
2025-04-25 14:54:27.981  INFO [traceId=680ba2231f761da8aea831fcf174f470, spanId=aea831fcf174f470] 1 --- [http-nio-9003-exec-3] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling CustomerService for customerId: ba21e63f-c8cc-41c1-aa7c-bde769860887
2025-04-25 14:54:52.397  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.service.impl.OrderServiceImpl    : Received payment status for order: 5f567f8e-61e3-4743-b796-ad15f8a076b1
2025-04-25 14:54:52.434  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling CustomerService for customerId: ba21e63f-c8cc-41c1-aa7c-bde769860887
2025-04-25 14:54:52.463  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.service.impl.OrderServiceImpl    : Payment completed for order: 5f567f8e-61e3-4743-b796-ad15f8a076b1
2025-04-25 14:54:52.506  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.service.impl.OrderServiceImpl    : Notification sent to ggducvu@gmail.com
2025-04-25 14:54:52.529  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.service.impl.OrderServiceImpl    : Received payment status for order: 5f567f8e-61e3-4743-b796-ad15f8a076b1
2025-04-25 14:54:52.564  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling CustomerService for customerId: ba21e63f-c8cc-41c1-aa7c-bde769860887
2025-04-25 14:54:52.604  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.service.impl.OrderServiceImpl    : Payment completed for order: 5f567f8e-61e3-4743-b796-ad15f8a076b1
2025-04-25 14:54:52.626  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.service.impl.OrderServiceImpl    : Notification sent to ggducvu@gmail.com
2025-04-25 14:54:52.772  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.service.impl.OrderServiceImpl    : Received payment status for order: 5f567f8e-61e3-4743-b796-ad15f8a076b1
2025-04-25 14:54:52.802  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling CustomerService for customerId: ba21e63f-c8cc-41c1-aa7c-bde769860887
2025-04-25 14:54:52.851  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.service.impl.OrderServiceImpl    : Payment completed for order: 5f567f8e-61e3-4743-b796-ad15f8a076b1
2025-04-25 14:54:52.876  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.service.impl.OrderServiceImpl    : Notification sent to ggducvu@gmail.com
2025-04-25 14:54:53.194  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.service.impl.OrderServiceImpl    : Received payment status for order: 5f567f8e-61e3-4743-b796-ad15f8a076b1
2025-04-25 14:54:53.224  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling CustomerService for customerId: ba21e63f-c8cc-41c1-aa7c-bde769860887
2025-04-25 14:54:53.262  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.service.impl.OrderServiceImpl    : Payment completed for order: 5f567f8e-61e3-4743-b796-ad15f8a076b1
2025-04-25 14:54:53.299  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.service.impl.OrderServiceImpl    : Notification sent to ggducvu@gmail.com
2025-04-25 14:58:15.386  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-25 15:03:15.372  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-25 15:04:48.607  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ORDERSERVICE with eureka with status DOWN
2025-04-25 15:04:48.617  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1745593488617, current=DOWN, previous=UP]
2025-04-25 15:04:48.628  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/a2488a457652:OrderService:9003: registering service...
2025-04-25 15:04:48.757  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/a2488a457652:OrderService:9003 - registration status: 204
2025-04-25 15:04:49.221  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-25 15:04:49.224  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-25 15:04:49.379  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-25 15:04:50.061  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-25 15:04:50.107  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-25 15:04:50.161  INFO [traceId=, spanId=] 1 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-25 15:04:51.792  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-25 15:04:51.874  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-25 15:04:51.909  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-25 15:04:52.516  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-04-25 15:04:55.519  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-04-25 15:04:55.551  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/a2488a457652:OrderService:9003 - deregister  status: 200
2025-04-25 15:04:55.555  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-04-25 15:08:26.548  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Starting OrderServiceApplication v0.0.1-SNAPSHOT using Java 17.0.15 with PID 1 (/app/OrderService.jar started by root in /app)
2025-04-25 15:08:26.614 DEBUG [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-04-25 15:08:26.632  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : No active profile set, falling back to 1 default profile: "default"
2025-04-25 15:08:27.269  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-25 15:08:27.300  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=application, profiles=[default], label=null, version=1acc8d8659fd96ed52844c8881c260bdb5135241, state=
2025-04-25 15:08:27.316  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-25 15:08:27.320  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=OrderService, profiles=[default], label=null, version=1acc8d8659fd96ed52844c8881c260bdb5135241, state=
2025-04-25 15:08:49.332  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-25 15:08:49.370  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-25 15:08:51.163  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1600 ms. Found 2 JPA repository interfaces.
2025-04-25 15:08:51.504  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-25 15:08:51.535  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-04-25 15:08:51.870  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderDetailRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-25 15:08:51.901  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-25 15:08:51.926  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 125 ms. Found 0 Redis repository interfaces.
2025-04-25 15:08:56.326  INFO [traceId=, spanId=] 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=f9b4fb59-e3a5-3945-a671-7885d95e7545
2025-04-25 15:09:03.897  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9003 (http)
2025-04-25 15:09:04.010  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-25 15:09:04.014  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-25 15:09:04.312  INFO [traceId=, spanId=] 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-25 15:09:04.326  INFO [traceId=, spanId=] 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 36957 ms
2025-04-25 15:09:12.614  INFO [traceId=, spanId=] 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-25 15:09:13.112  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-25 15:09:13.416  INFO [traceId=, spanId=] 1 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-25 15:09:15.344  INFO [traceId=, spanId=] 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-25 15:09:15.791  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-25 15:09:17.288  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: dbfdeb2c-7a35-4f49-b9ec-539ea3a48f94
2025-04-25 15:09:17.323  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-25 15:09:18.015  WARN [traceId=, spanId=] 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-25 15:09:18.317  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-25 15:09:27.527  INFO [traceId=, spanId=] 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-25 15:09:29.934  INFO [traceId=, spanId=] 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-25 15:09:36.267  WARN [traceId=, spanId=] 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-25 15:09:38.026  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'InventoryService' URL not provided. Will try picking an instance via load-balancing.
2025-04-25 15:09:40.696  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'UserService' URL not provided. Will try picking an instance via load-balancing.
2025-04-25 15:09:53.527  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Connecting to localhost with guest user, assuming development environment
2025-04-25 15:09:53.530  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Using address resolver to always connect to localhost
2025-04-25 15:09:57.823  INFO [traceId=, spanId=] 1 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-04-25 15:09:58.352  WARN [traceId=, spanId=] 1 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-04-25 15:09:58.480  INFO [traceId=, spanId=] 1 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoints beneath base path '/actuator'
2025-04-25 15:09:59.193  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-04-25 15:09:59.365  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-04-25 15:09:59.388  INFO [traceId=, spanId=] 1 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-25 15:09:59.445  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-04-25 15:09:59.448  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-04-25 15:09:59.451  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-04-25 15:09:59.455  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-04-25 15:09:59.458  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-04-25 15:09:59.461  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-04-25 15:09:59.464  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-04-25 15:10:00.250  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-04-25 15:10:00.263  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-04-25 15:10:00.275  INFO [traceId=, spanId=] 1 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-04-25 15:10:00.285  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1745593800284 with initial instances count: 6
2025-04-25 15:10:00.323  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ORDERSERVICE with eureka with status UP
2025-04-25 15:10:00.327  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1745593800327, current=UP, previous=STARTING]
2025-04-25 15:10:00.333  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/9a57a5a428b6:OrderService:9003: registering service...
2025-04-25 15:10:00.433  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9003 (http) with context path '/'
2025-04-25 15:10:00.440  INFO [traceId=, spanId=] 1 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9003
2025-04-25 15:10:00.456  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [rabbitmq:5672]
2025-04-25 15:10:00.484  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/9a57a5a428b6:OrderService:9003 - registration status: 204
2025-04-25 15:10:00.659  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#41313f58:0/SimpleConnection@5dac286c [delegate=amqp://guest@172.19.0.3:5672/, localPort=57184]
2025-04-25 15:10:01.166  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Started OrderServiceApplication in 114.107 seconds (process running for 121.59)
2025-04-25 15:10:01.280  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
2025-04-25 15:10:01.293  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Dropped 2 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused)

org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:925)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:840)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:701)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender.postSpans(ZipkinRestTemplateSender.java:50)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:69)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:41)
	at zipkin2.reporter.BaseHttpSender.send(BaseHttpSender.java:123)
	at zipkin2.reporter.internal.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:266)
	at zipkin2.reporter.internal.AsyncReporter$Flusher.run(AsyncReporter.java:352)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:547)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:602)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:899)
	... 9 common frames omitted

2025-04-25 15:10:01.492  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-25 15:10:01.495  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-25 15:10:01.506  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 8 ms
2025-04-25 15:14:59.453  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-25 15:19:16.093  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.service.impl.OrderServiceImpl    : Received payment status for order: 5f567f8e-61e3-4743-b796-ad15f8a076b1
2025-04-25 15:19:19.715  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.s.w.CustomerServiceWrapper       :  Calling CustomerService for customerId: ba21e63f-c8cc-41c1-aa7c-bde769860887
2025-04-25 15:19:23.971  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.service.impl.OrderServiceImpl    : Payment completed for order: 5f567f8e-61e3-4743-b796-ad15f8a076b1
2025-04-25 15:19:24.242  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] i.f.s.o.service.impl.OrderServiceImpl    : Notification sent to ggducvu@gmail.com
2025-04-25 15:19:59.438  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-25 15:22:30.113  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ORDERSERVICE with eureka with status DOWN
2025-04-25 15:22:30.123  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1745594550121, current=DOWN, previous=UP]
2025-04-25 15:22:30.128  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/9a57a5a428b6:OrderService:9003: registering service...
2025-04-25 15:22:30.188  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/9a57a5a428b6:OrderService:9003 - registration status: 204
2025-04-25 15:22:30.218  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-25 15:22:30.224  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-25 15:22:30.228  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-25 15:22:30.281  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-25 15:22:30.297  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-25 15:22:30.318  INFO [traceId=, spanId=] 1 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-25 15:22:31.682  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-25 15:22:31.703  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-25 15:22:31.710  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-25 15:22:32.612  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-04-25 15:22:35.615  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-04-25 15:22:35.631  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/9a57a5a428b6:OrderService:9003 - deregister  status: 200
2025-04-25 15:22:35.634  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
