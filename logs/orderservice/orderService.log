2025-04-12 02:23:14.382  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Starting OrderServiceApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 1 (/app/OrderService.jar started by root in /app)
2025-04-12 02:23:14.454 DEBUG [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-04-12 02:23:14.462  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : No active profile set, falling back to 1 default profile: "default"
2025-04-12 02:23:14.694  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-12 02:23:14.697  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=application, profiles=[default], label=null, version=2efb5a6a549b71a42b590f6a2b08183ed8af3466, state=
2025-04-12 02:23:14.700  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-12 02:23:14.703  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=OrderService, profiles=[default], label=null, version=2efb5a6a549b71a42b590f6a2b08183ed8af3466, state=
2025-04-12 02:23:24.269  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-12 02:23:24.280  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-12 02:23:25.281  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 956 ms. Found 2 JPA repository interfaces.
2025-04-12 02:23:25.409  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-12 02:23:25.424  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-04-12 02:23:25.553  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderDetailRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-12 02:23:25.560  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-12 02:23:25.573  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 73 ms. Found 0 Redis repository interfaces.
2025-04-12 02:23:28.331  INFO [traceId=, spanId=] 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=90b70314-821f-37c8-94e4-137079bd6dbe
2025-04-12 02:23:32.714  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9003 (http)
2025-04-12 02:23:32.780  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-12 02:23:32.785  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-12 02:23:33.006  INFO [traceId=, spanId=] 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-12 02:23:33.014  INFO [traceId=, spanId=] 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 18302 ms
2025-04-12 02:23:37.720  INFO [traceId=, spanId=] 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-12 02:23:38.129  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-12 02:23:38.382  INFO [traceId=, spanId=] 1 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-12 02:23:39.994  INFO [traceId=, spanId=] 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-12 02:23:40.142  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-12 02:23:41.301  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: e5c681c9-5e6b-471d-a3d9-4580b5f25f95
2025-04-12 02:23:41.313  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-12 02:23:41.690  WARN [traceId=, spanId=] 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-12 02:23:41.821  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-12 02:23:46.595  INFO [traceId=, spanId=] 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-12 02:23:47.883  INFO [traceId=, spanId=] 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 02:23:51.241  WARN [traceId=, spanId=] 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-12 02:23:53.271  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'InventoryService' URL not provided. Will try picking an instance via load-balancing.
2025-04-12 02:23:55.832  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'UserService' URL not provided. Will try picking an instance via load-balancing.
2025-04-12 02:24:04.981  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Connecting to localhost with guest user, assuming development environment
2025-04-12 02:24:04.983  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Using address resolver to always connect to localhost
2025-04-12 02:24:08.048  INFO [traceId=, spanId=] 1 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-04-12 02:24:08.461  WARN [traceId=, spanId=] 1 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-04-12 02:24:08.666  INFO [traceId=, spanId=] 1 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoints beneath base path '/actuator'
2025-04-12 02:24:09.217  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-04-12 02:24:09.356  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-04-12 02:24:09.375  INFO [traceId=, spanId=] 1 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 02:24:09.422  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-04-12 02:24:09.424  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-04-12 02:24:09.427  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-04-12 02:24:09.429  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-04-12 02:24:09.433  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-04-12 02:24:09.435  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-04-12 02:24:09.438  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-04-12 02:24:10.158  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-04-12 02:24:10.168  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-04-12 02:24:10.180  INFO [traceId=, spanId=] 1 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-04-12 02:24:10.190  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1744424650187 with initial instances count: 5
2025-04-12 02:24:10.245  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ORDERSERVICE with eureka with status UP
2025-04-12 02:24:10.255  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744424650255, current=UP, previous=STARTING]
2025-04-12 02:24:10.267  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/20038ec24239:OrderService:9003: registering service...
2025-04-12 02:24:10.320  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9003 (http) with context path '/'
2025-04-12 02:24:10.327  INFO [traceId=, spanId=] 1 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9003
2025-04-12 02:24:10.354  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [rabbitmq:5672]
2025-04-12 02:24:10.457  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/20038ec24239:OrderService:9003 - registration status: 204
2025-04-12 02:24:10.678  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#73ac846:0/SimpleConnection@25fcc928 [delegate=amqp://guest@172.19.0.4:5672/, localPort=35802]
2025-04-12 02:24:11.153  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Started OrderServiceApplication in 67.137 seconds (process running for 69.845)
2025-04-12 02:24:11.182  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
2025-04-12 02:24:11.188  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Dropped 2 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused)

org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:925)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:840)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:701)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender.postSpans(ZipkinRestTemplateSender.java:50)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:69)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:41)
	at zipkin2.reporter.BaseHttpSender.send(BaseHttpSender.java:123)
	at zipkin2.reporter.internal.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:266)
	at zipkin2.reporter.internal.AsyncReporter$Flusher.run(AsyncReporter.java:352)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:899)
	... 9 common frames omitted

2025-04-12 02:24:31.731  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-12 02:24:31.734  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-12 02:24:31.743  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 8 ms
2025-04-12 02:25:30.006  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ORDERSERVICE with eureka with status DOWN
2025-04-12 02:25:30.010  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744424730010, current=DOWN, previous=UP]
2025-04-12 02:25:30.013  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/20038ec24239:OrderService:9003: registering service...
2025-04-12 02:25:30.057  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/20038ec24239:OrderService:9003 - registration status: 204
2025-04-12 02:25:30.090  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-12 02:25:30.100  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-12 02:25:30.118  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-12 02:25:30.124  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-12 02:25:30.140  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-12 02:25:30.148  INFO [traceId=, spanId=] 1 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-12 02:25:31.270  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 02:25:31.276  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-12 02:25:31.285  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-12 02:25:32.237  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-04-12 02:25:35.237  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-04-12 02:25:35.249  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/20038ec24239:OrderService:9003 - deregister  status: 200
2025-04-12 02:25:35.251  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-04-12 03:32:48.690  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Starting OrderServiceApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 1 (/app/OrderService.jar started by root in /app)
2025-04-12 03:32:48.750 DEBUG [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-04-12 03:32:48.756  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : No active profile set, falling back to 1 default profile: "default"
2025-04-12 03:32:49.090  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-12 03:32:49.101  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=application, profiles=[default], label=null, version=2efb5a6a549b71a42b590f6a2b08183ed8af3466, state=
2025-04-12 03:32:49.104  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-12 03:32:49.110  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=OrderService, profiles=[default], label=null, version=2efb5a6a549b71a42b590f6a2b08183ed8af3466, state=
2025-04-12 03:33:01.273  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-12 03:33:01.288  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-12 03:33:02.312  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 945 ms. Found 2 JPA repository interfaces.
2025-04-12 03:33:02.402  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-12 03:33:02.409  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-04-12 03:33:02.487  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderDetailRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-12 03:33:02.493  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-12 03:33:02.496  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 25 ms. Found 0 Redis repository interfaces.
2025-04-12 03:33:05.534  INFO [traceId=, spanId=] 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=90b70314-821f-37c8-94e4-137079bd6dbe
2025-04-12 03:33:09.042  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9003 (http)
2025-04-12 03:33:09.105  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-12 03:33:09.112  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-12 03:33:09.368  INFO [traceId=, spanId=] 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-12 03:33:09.371  INFO [traceId=, spanId=] 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 20245 ms
2025-04-12 03:33:15.439  INFO [traceId=, spanId=] 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-12 03:33:15.876  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-12 03:33:16.108  INFO [traceId=, spanId=] 1 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-12 03:33:17.635  INFO [traceId=, spanId=] 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-12 03:33:17.797  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-12 03:33:18.494  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 00afd740-cb49-417e-9298-47ab7036532c
2025-04-12 03:33:18.503  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-12 03:33:18.689  WARN [traceId=, spanId=] 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-12 03:33:18.777  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-12 03:33:22.928  INFO [traceId=, spanId=] 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-12 03:33:25.053  INFO [traceId=, spanId=] 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 03:33:28.095  WARN [traceId=, spanId=] 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-12 03:33:29.821  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'InventoryService' URL not provided. Will try picking an instance via load-balancing.
2025-04-12 03:33:31.331  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'UserService' URL not provided. Will try picking an instance via load-balancing.
2025-04-12 03:33:39.785  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Connecting to localhost with guest user, assuming development environment
2025-04-12 03:33:39.787  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Using address resolver to always connect to localhost
2025-04-12 03:33:43.530  INFO [traceId=, spanId=] 1 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-04-12 03:33:43.828  WARN [traceId=, spanId=] 1 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-04-12 03:33:43.967  INFO [traceId=, spanId=] 1 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoints beneath base path '/actuator'
2025-04-12 03:33:44.274  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-04-12 03:33:44.461  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-04-12 03:33:44.491  INFO [traceId=, spanId=] 1 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 03:33:44.545  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-04-12 03:33:44.547  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-04-12 03:33:44.550  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-04-12 03:33:44.553  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-04-12 03:33:44.555  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-04-12 03:33:44.561  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-04-12 03:33:44.564  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-04-12 03:33:45.298  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-04-12 03:33:45.307  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-04-12 03:33:45.316  INFO [traceId=, spanId=] 1 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-04-12 03:33:45.322  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1744428825321 with initial instances count: 4
2025-04-12 03:33:45.378  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ORDERSERVICE with eureka with status UP
2025-04-12 03:33:45.385  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744428825384, current=UP, previous=STARTING]
2025-04-12 03:33:45.394  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/d77e6d542b3b:OrderService:9003: registering service...
2025-04-12 03:33:45.478  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9003 (http) with context path '/'
2025-04-12 03:33:45.483  INFO [traceId=, spanId=] 1 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9003
2025-04-12 03:33:45.508  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [rabbitmq:5672]
2025-04-12 03:33:45.582  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/d77e6d542b3b:OrderService:9003 - registration status: 204
2025-04-12 03:33:45.791  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#cf39749:0/SimpleConnection@757bdbbf [delegate=amqp://guest@172.19.0.4:5672/, localPort=43446]
2025-04-12 03:33:46.180  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Started OrderServiceApplication in 69.341 seconds (process running for 74.581)
2025-04-12 03:33:46.320  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
2025-04-12 03:33:46.324  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Dropped 2 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused)

org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:925)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:840)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:701)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender.postSpans(ZipkinRestTemplateSender.java:50)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:69)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:41)
	at zipkin2.reporter.BaseHttpSender.send(BaseHttpSender.java:123)
	at zipkin2.reporter.internal.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:266)
	at zipkin2.reporter.internal.AsyncReporter$Flusher.run(AsyncReporter.java:352)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:899)
	... 9 common frames omitted

2025-04-12 03:34:02.112  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-12 03:34:02.119  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-12 03:34:02.137  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 13 ms
2025-04-12 03:34:48.469  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ORDERSERVICE with eureka with status DOWN
2025-04-12 03:34:48.473  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744428888473, current=DOWN, previous=UP]
2025-04-12 03:34:48.479  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/d77e6d542b3b:OrderService:9003: registering service...
2025-04-12 03:34:48.534  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/d77e6d542b3b:OrderService:9003 - registration status: 204
2025-04-12 03:34:48.532  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-12 03:34:48.571  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-12 03:34:49.135  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-12 03:34:49.153  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-12 03:34:49.157  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-12 03:34:49.164  INFO [traceId=, spanId=] 1 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-12 03:34:50.292  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 03:34:50.298  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-12 03:34:50.305  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-12 03:34:50.365  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-04-12 03:34:53.367  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-04-12 03:34:53.388  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/d77e6d542b3b:OrderService:9003 - deregister  status: 200
2025-04-12 03:34:53.391  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-04-12 03:37:42.272  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Starting OrderServiceApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 1 (/app/OrderService.jar started by root in /app)
2025-04-12 03:37:42.362 DEBUG [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-04-12 03:37:42.371  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : No active profile set, falling back to 1 default profile: "default"
2025-04-12 03:37:42.944  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-12 03:37:42.960  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=application, profiles=[default], label=null, version=2efb5a6a549b71a42b590f6a2b08183ed8af3466, state=
2025-04-12 03:37:42.987  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-12 03:37:42.994  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=OrderService, profiles=[default], label=null, version=2efb5a6a549b71a42b590f6a2b08183ed8af3466, state=
2025-04-12 03:37:56.408  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-12 03:37:56.421  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-12 03:37:57.298  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 816 ms. Found 2 JPA repository interfaces.
2025-04-12 03:37:57.408  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-12 03:37:57.419  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-04-12 03:37:57.510  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderDetailRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-12 03:37:57.520  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-12 03:37:57.523  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 42 ms. Found 0 Redis repository interfaces.
2025-04-12 03:37:59.867  INFO [traceId=, spanId=] 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=90b70314-821f-37c8-94e4-137079bd6dbe
2025-04-12 03:38:04.386  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9003 (http)
2025-04-12 03:38:04.479  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-12 03:38:04.483  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-12 03:38:04.717  INFO [traceId=, spanId=] 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-12 03:38:04.723  INFO [traceId=, spanId=] 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 21692 ms
2025-04-12 03:38:10.377  INFO [traceId=, spanId=] 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-12 03:38:10.729  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-12 03:38:11.102  INFO [traceId=, spanId=] 1 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-12 03:38:12.815  INFO [traceId=, spanId=] 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-12 03:38:12.943  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-12 03:38:13.571  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 865b6dec-d9f0-4361-a4d6-4f5ed4c0738a
2025-04-12 03:38:13.584  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-12 03:38:13.773  WARN [traceId=, spanId=] 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-12 03:38:13.862  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-12 03:38:17.059  INFO [traceId=, spanId=] 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-12 03:38:18.196  INFO [traceId=, spanId=] 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 03:38:20.561  WARN [traceId=, spanId=] 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-12 03:38:21.632  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'InventoryService' URL not provided. Will try picking an instance via load-balancing.
2025-04-12 03:38:22.832  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'UserService' URL not provided. Will try picking an instance via load-balancing.
2025-04-12 03:38:30.237  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Connecting to localhost with guest user, assuming development environment
2025-04-12 03:38:30.239  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Using address resolver to always connect to localhost
2025-04-12 03:38:32.920  INFO [traceId=, spanId=] 1 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-04-12 03:38:33.313  WARN [traceId=, spanId=] 1 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-04-12 03:38:33.446  INFO [traceId=, spanId=] 1 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoints beneath base path '/actuator'
2025-04-12 03:38:33.741  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-04-12 03:38:33.822  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-04-12 03:38:33.836  INFO [traceId=, spanId=] 1 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 03:38:33.864  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-04-12 03:38:33.866  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-04-12 03:38:33.868  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-04-12 03:38:33.870  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-04-12 03:38:33.872  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-04-12 03:38:33.874  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-04-12 03:38:33.877  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-04-12 03:38:34.408  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-04-12 03:38:34.415  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-04-12 03:38:34.421  INFO [traceId=, spanId=] 1 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-04-12 03:38:34.427  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1744429114426 with initial instances count: 5
2025-04-12 03:38:34.455  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ORDERSERVICE with eureka with status UP
2025-04-12 03:38:34.458  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744429114458, current=UP, previous=STARTING]
2025-04-12 03:38:34.467  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/80d60d8dd6fc:OrderService:9003: registering service...
2025-04-12 03:38:34.507  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9003 (http) with context path '/'
2025-04-12 03:38:34.512  INFO [traceId=, spanId=] 1 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9003
2025-04-12 03:38:34.525  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [rabbitmq:5672]
2025-04-12 03:38:34.591  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/80d60d8dd6fc:OrderService:9003 - registration status: 204
2025-04-12 03:38:34.772  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#38617f1c:0/SimpleConnection@74ec23fc [delegate=amqp://guest@172.19.0.4:5672/, localPort=37902]
2025-04-12 03:38:35.194  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Started OrderServiceApplication in 65.019 seconds (process running for 69.702)
2025-04-12 03:38:35.424  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
2025-04-12 03:38:35.427  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Dropped 2 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused)

org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:925)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:840)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:701)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender.postSpans(ZipkinRestTemplateSender.java:50)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:69)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:41)
	at zipkin2.reporter.BaseHttpSender.send(BaseHttpSender.java:123)
	at zipkin2.reporter.internal.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:266)
	at zipkin2.reporter.internal.AsyncReporter$Flusher.run(AsyncReporter.java:352)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:899)
	... 9 common frames omitted

2025-04-12 03:38:55.850  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-12 03:38:55.852  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-12 03:38:55.861  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 7 ms
2025-04-12 03:43:33.861  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 03:44:52.232  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ORDERSERVICE with eureka with status DOWN
2025-04-12 03:44:52.236  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744429492236, current=DOWN, previous=UP]
2025-04-12 03:44:52.240  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/80d60d8dd6fc:OrderService:9003: registering service...
2025-04-12 03:44:52.277  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/80d60d8dd6fc:OrderService:9003 - registration status: 204
2025-04-12 03:44:52.277  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-12 03:44:52.296  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-12 03:44:53.190  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-12 03:44:53.209  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-12 03:44:53.213  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-12 03:44:53.217  INFO [traceId=, spanId=] 1 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-12 03:44:54.286  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 03:44:54.289  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-12 03:44:54.295  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-12 03:44:54.547  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-04-12 03:44:57.549  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-04-12 03:44:57.559  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/80d60d8dd6fc:OrderService:9003 - deregister  status: 200
2025-04-12 03:44:57.561  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-04-12 03:49:25.831  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Starting OrderServiceApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 1 (/app/OrderService.jar started by root in /app)
2025-04-12 03:49:25.909 DEBUG [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-04-12 03:49:25.922  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : No active profile set, falling back to 1 default profile: "default"
2025-04-12 03:49:26.388  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-12 03:49:26.392  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=application, profiles=[default], label=null, version=2efb5a6a549b71a42b590f6a2b08183ed8af3466, state=
2025-04-12 03:49:26.395  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-12 03:49:26.398  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=OrderService, profiles=[default], label=null, version=2efb5a6a549b71a42b590f6a2b08183ed8af3466, state=
2025-04-12 03:49:35.009  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-12 03:49:35.019  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-12 03:49:35.675  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 619 ms. Found 2 JPA repository interfaces.
2025-04-12 03:49:35.749  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-12 03:49:35.755  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-04-12 03:49:35.821  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderDetailRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-12 03:49:35.824  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-12 03:49:35.828  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 21 ms. Found 0 Redis repository interfaces.
2025-04-12 03:49:37.778  INFO [traceId=, spanId=] 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=90b70314-821f-37c8-94e4-137079bd6dbe
2025-04-12 03:49:40.806  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9003 (http)
2025-04-12 03:49:40.846  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-12 03:49:40.852  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-12 03:49:40.984  INFO [traceId=, spanId=] 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-12 03:49:40.988  INFO [traceId=, spanId=] 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 14571 ms
2025-04-12 03:49:43.992  INFO [traceId=, spanId=] 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-12 03:49:44.263  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-12 03:49:44.428  INFO [traceId=, spanId=] 1 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-12 03:49:45.521  INFO [traceId=, spanId=] 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-12 03:49:45.670  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-12 03:49:46.236  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: c4fa94e2-0b08-4c58-9feb-f276679943b9
2025-04-12 03:49:46.245  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-12 03:49:46.415  WARN [traceId=, spanId=] 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-12 03:49:46.488  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-12 03:49:50.248  INFO [traceId=, spanId=] 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-12 03:49:51.389  INFO [traceId=, spanId=] 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 03:49:54.272  WARN [traceId=, spanId=] 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-12 03:49:55.213  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'InventoryService' URL not provided. Will try picking an instance via load-balancing.
2025-04-12 03:49:56.610  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'UserService' URL not provided. Will try picking an instance via load-balancing.
2025-04-12 03:50:04.016  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Connecting to localhost with guest user, assuming development environment
2025-04-12 03:50:04.018  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Using address resolver to always connect to localhost
2025-04-12 03:50:06.664  INFO [traceId=, spanId=] 1 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-04-12 03:50:06.937  WARN [traceId=, spanId=] 1 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-04-12 03:50:07.037  INFO [traceId=, spanId=] 1 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoints beneath base path '/actuator'
2025-04-12 03:50:07.252  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-04-12 03:50:07.309  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-04-12 03:50:07.318  INFO [traceId=, spanId=] 1 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 03:50:07.348  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-04-12 03:50:07.350  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-04-12 03:50:07.353  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-04-12 03:50:07.355  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-04-12 03:50:07.356  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-04-12 03:50:07.359  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-04-12 03:50:07.361  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-04-12 03:50:07.717  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-04-12 03:50:07.723  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-04-12 03:50:07.729  INFO [traceId=, spanId=] 1 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-04-12 03:50:07.734  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1744429807733 with initial instances count: 5
2025-04-12 03:50:07.766  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ORDERSERVICE with eureka with status UP
2025-04-12 03:50:07.770  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744429807770, current=UP, previous=STARTING]
2025-04-12 03:50:07.776  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/822e742905a2:OrderService:9003: registering service...
2025-04-12 03:50:07.814  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9003 (http) with context path '/'
2025-04-12 03:50:07.819  INFO [traceId=, spanId=] 1 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9003
2025-04-12 03:50:07.831  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [rabbitmq:5672]
2025-04-12 03:50:07.870  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/822e742905a2:OrderService:9003 - registration status: 204
2025-04-12 03:50:07.933  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#11b59291:0/SimpleConnection@436427a5 [delegate=amqp://guest@172.19.0.3:5672/, localPort=45102]
2025-04-12 03:50:08.184  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Started OrderServiceApplication in 55.277 seconds (process running for 59.469)
2025-04-12 03:50:08.739  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
2025-04-12 03:50:08.742  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Dropped 2 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused)

org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:925)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:840)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:701)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender.postSpans(ZipkinRestTemplateSender.java:50)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:69)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:41)
	at zipkin2.reporter.BaseHttpSender.send(BaseHttpSender.java:123)
	at zipkin2.reporter.internal.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:266)
	at zipkin2.reporter.internal.AsyncReporter$Flusher.run(AsyncReporter.java:352)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:899)
	... 9 common frames omitted

2025-04-12 03:50:09.119  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-12 03:50:09.124  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-12 03:50:09.138  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 12 ms
2025-04-12 03:53:25.946  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ORDERSERVICE with eureka with status DOWN
2025-04-12 03:53:25.949  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744430005949, current=DOWN, previous=UP]
2025-04-12 03:53:25.957  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/822e742905a2:OrderService:9003: registering service...
2025-04-12 03:53:25.986  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/822e742905a2:OrderService:9003 - registration status: 204
2025-04-12 03:53:25.997  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-12 03:53:26.001  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-12 03:53:26.180  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-12 03:53:26.188  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-12 03:53:26.193  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-12 03:53:26.200  INFO [traceId=, spanId=] 1 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-12 03:53:27.308  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 03:53:27.313  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-12 03:53:27.320  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-12 03:53:27.823  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-04-12 03:53:30.826  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-04-12 03:53:30.839  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/822e742905a2:OrderService:9003 - deregister  status: 200
2025-04-12 03:53:30.841  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-04-12 03:59:37.395  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Starting OrderServiceApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 1 (/app/OrderService.jar started by root in /app)
2025-04-12 03:59:37.412 DEBUG [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-04-12 03:59:37.415  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : No active profile set, falling back to 1 default profile: "default"
2025-04-12 03:59:37.496  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-12 03:59:37.497  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=application, profiles=[default], label=null, version=2efb5a6a549b71a42b590f6a2b08183ed8af3466, state=
2025-04-12 03:59:37.498  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-12 03:59:37.500  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=OrderService, profiles=[default], label=null, version=2efb5a6a549b71a42b590f6a2b08183ed8af3466, state=
2025-04-12 03:59:42.584  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-12 03:59:42.596  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-12 03:59:43.378  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 732 ms. Found 2 JPA repository interfaces.
2025-04-12 03:59:43.471  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-12 03:59:43.479  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-04-12 03:59:43.545  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderDetailRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-12 03:59:43.551  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-12 03:59:43.555  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 28 ms. Found 0 Redis repository interfaces.
2025-04-12 03:59:45.705  INFO [traceId=, spanId=] 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=90b70314-821f-37c8-94e4-137079bd6dbe
2025-04-12 03:59:48.735  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9003 (http)
2025-04-12 03:59:48.778  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-12 03:59:48.783  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-12 03:59:48.995  INFO [traceId=, spanId=] 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-12 03:59:49.010  INFO [traceId=, spanId=] 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 11506 ms
2025-04-12 03:59:52.348  INFO [traceId=, spanId=] 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-12 03:59:52.621  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-12 03:59:52.752  INFO [traceId=, spanId=] 1 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-12 03:59:54.129  INFO [traceId=, spanId=] 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-12 03:59:54.328  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-12 03:59:55.140  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 2b6f08b8-dfbb-418e-9f6f-7b6d04f0167a
2025-04-12 03:59:55.164  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-12 03:59:55.493  WARN [traceId=, spanId=] 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-12 03:59:55.673  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-12 03:59:59.805  INFO [traceId=, spanId=] 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-12 04:00:01.129  INFO [traceId=, spanId=] 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 04:00:04.210  WARN [traceId=, spanId=] 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-12 04:00:05.310  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'InventoryService' URL not provided. Will try picking an instance via load-balancing.
2025-04-12 04:00:06.749  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'UserService' URL not provided. Will try picking an instance via load-balancing.
2025-04-12 04:00:16.081  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Connecting to localhost with guest user, assuming development environment
2025-04-12 04:00:16.084  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Using address resolver to always connect to localhost
2025-04-12 04:00:19.286  INFO [traceId=, spanId=] 1 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-04-12 04:00:19.657  WARN [traceId=, spanId=] 1 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-04-12 04:00:19.778  INFO [traceId=, spanId=] 1 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoints beneath base path '/actuator'
2025-04-12 04:00:20.143  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-04-12 04:00:20.246  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-04-12 04:00:20.274  INFO [traceId=, spanId=] 1 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 04:00:20.326  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-04-12 04:00:20.330  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-04-12 04:00:20.333  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-04-12 04:00:20.335  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-04-12 04:00:20.338  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-04-12 04:00:20.340  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-04-12 04:00:20.343  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-04-12 04:00:20.876  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-04-12 04:00:20.886  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-04-12 04:00:20.893  INFO [traceId=, spanId=] 1 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-04-12 04:00:20.903  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1744430420901 with initial instances count: 4
2025-04-12 04:00:20.943  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ORDERSERVICE with eureka with status UP
2025-04-12 04:00:20.947  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744430420947, current=UP, previous=STARTING]
2025-04-12 04:00:20.956  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/2a1bc37e0d10:OrderService:9003: registering service...
2025-04-12 04:00:21.007  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9003 (http) with context path '/'
2025-04-12 04:00:21.011  INFO [traceId=, spanId=] 1 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9003
2025-04-12 04:00:21.024  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [rabbitmq:5672]
2025-04-12 04:00:21.079  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/2a1bc37e0d10:OrderService:9003 - registration status: 204
2025-04-12 04:00:21.216  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#150ba838:0/SimpleConnection@6d07d713 [delegate=amqp://guest@172.19.0.4:5672/, localPort=39138]
2025-04-12 04:00:21.608  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Started OrderServiceApplication in 52.761 seconds (process running for 55.608)
2025-04-12 04:00:21.888  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
2025-04-12 04:00:21.890  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Dropped 2 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused)

org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:925)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:840)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:701)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender.postSpans(ZipkinRestTemplateSender.java:50)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:69)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:41)
	at zipkin2.reporter.BaseHttpSender.send(BaseHttpSender.java:123)
	at zipkin2.reporter.internal.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:266)
	at zipkin2.reporter.internal.AsyncReporter$Flusher.run(AsyncReporter.java:352)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:899)
	... 9 common frames omitted

2025-04-12 04:00:26.260  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-12 04:00:26.262  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-12 04:00:26.271  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2025-04-12 04:05:20.333  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 04:10:20.320  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 04:15:20.306  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 04:20:20.294  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 04:25:20.280  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 04:25:33.604  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ORDERSERVICE with eureka with status DOWN
2025-04-12 04:25:33.612  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744431933612, current=DOWN, previous=UP]
2025-04-12 04:25:33.621  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/2a1bc37e0d10:OrderService:9003: registering service...
2025-04-12 04:25:33.705  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/2a1bc37e0d10:OrderService:9003 - registration status: 204
2025-04-12 04:25:33.991  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-12 04:25:33.994  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-12 04:25:34.774  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-12 04:25:34.778  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-12 04:25:34.815  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-12 04:25:34.850  INFO [traceId=, spanId=] 1 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-12 04:25:36.290  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 04:25:36.357  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-12 04:25:36.378  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-12 04:25:36.452  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-04-12 04:25:39.454  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-04-12 04:25:39.471  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/2a1bc37e0d10:OrderService:9003 - deregister  status: 200
2025-04-12 04:25:39.474  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-04-12 04:29:31.797  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Starting OrderServiceApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 1 (/app/OrderService.jar started by root in /app)
2025-04-12 04:29:31.825 DEBUG [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-04-12 04:29:31.830  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : No active profile set, falling back to 1 default profile: "default"
2025-04-12 04:29:31.956  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-12 04:29:31.969  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=application, profiles=[default], label=null, version=2efb5a6a549b71a42b590f6a2b08183ed8af3466, state=
2025-04-12 04:29:31.971  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-12 04:29:31.973  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=OrderService, profiles=[default], label=null, version=2efb5a6a549b71a42b590f6a2b08183ed8af3466, state=
2025-04-12 04:29:38.873  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-12 04:29:38.886  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-12 04:29:39.748  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 803 ms. Found 2 JPA repository interfaces.
2025-04-12 04:29:39.844  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-12 04:29:39.860  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-04-12 04:29:39.959  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderDetailRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-12 04:29:39.968  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-12 04:29:39.981  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 39 ms. Found 0 Redis repository interfaces.
2025-04-12 04:29:43.122  INFO [traceId=, spanId=] 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=90b70314-821f-37c8-94e4-137079bd6dbe
2025-04-12 04:29:48.318  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9003 (http)
2025-04-12 04:29:48.401  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-12 04:29:48.409  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-12 04:29:48.817  INFO [traceId=, spanId=] 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-12 04:29:48.822  INFO [traceId=, spanId=] 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 16834 ms
2025-04-12 04:29:51.972  INFO [traceId=, spanId=] 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-12 04:29:52.281  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-12 04:29:52.434  INFO [traceId=, spanId=] 1 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-12 04:29:54.149  INFO [traceId=, spanId=] 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-12 04:29:54.286  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-12 04:29:55.114  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: fffeabfb-85e3-4c95-9a98-942cd1218c4d
2025-04-12 04:29:55.124  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-12 04:29:55.351  WARN [traceId=, spanId=] 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-12 04:29:55.545  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-12 04:30:00.173  INFO [traceId=, spanId=] 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-12 04:30:01.570  INFO [traceId=, spanId=] 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 04:30:05.169  WARN [traceId=, spanId=] 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-12 04:30:06.048  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'InventoryService' URL not provided. Will try picking an instance via load-balancing.
2025-04-12 04:30:07.418  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'UserService' URL not provided. Will try picking an instance via load-balancing.
2025-04-12 04:30:18.166  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Connecting to localhost with guest user, assuming development environment
2025-04-12 04:30:18.169  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Using address resolver to always connect to localhost
2025-04-12 04:30:21.994  INFO [traceId=, spanId=] 1 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-04-12 04:30:22.334  WARN [traceId=, spanId=] 1 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-04-12 04:30:22.440  INFO [traceId=, spanId=] 1 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoints beneath base path '/actuator'
2025-04-12 04:30:22.800  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-04-12 04:30:22.941  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-04-12 04:30:22.961  INFO [traceId=, spanId=] 1 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 04:30:23.003  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-04-12 04:30:23.006  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-04-12 04:30:23.009  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-04-12 04:30:23.014  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-04-12 04:30:23.018  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-04-12 04:30:23.022  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-04-12 04:30:23.024  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-04-12 04:30:23.711  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-04-12 04:30:23.722  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-04-12 04:30:23.734  INFO [traceId=, spanId=] 1 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-04-12 04:30:23.744  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1744432223742 with initial instances count: 4
2025-04-12 04:30:23.779  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ORDERSERVICE with eureka with status UP
2025-04-12 04:30:23.783  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744432223783, current=UP, previous=STARTING]
2025-04-12 04:30:23.791  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/789decb95093:OrderService:9003: registering service...
2025-04-12 04:30:23.842  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9003 (http) with context path '/'
2025-04-12 04:30:23.849  INFO [traceId=, spanId=] 1 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9003
2025-04-12 04:30:23.865  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [rabbitmq:5672]
2025-04-12 04:30:23.950  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/789decb95093:OrderService:9003 - registration status: 204
2025-04-12 04:30:24.115  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#33c2a762:0/SimpleConnection@39310988 [delegate=amqp://guest@172.19.0.3:5672/, localPort=46210]
2025-04-12 04:30:24.518  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Started OrderServiceApplication in 62.238 seconds (process running for 66.059)
2025-04-12 04:30:24.728  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
2025-04-12 04:30:24.731  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Dropped 2 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused)

org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:925)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:840)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:701)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender.postSpans(ZipkinRestTemplateSender.java:50)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:69)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:41)
	at zipkin2.reporter.BaseHttpSender.send(BaseHttpSender.java:123)
	at zipkin2.reporter.internal.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:266)
	at zipkin2.reporter.internal.AsyncReporter$Flusher.run(AsyncReporter.java:352)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:899)
	... 9 common frames omitted

2025-04-12 04:30:35.039  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ORDERSERVICE with eureka with status DOWN
2025-04-12 04:30:35.042  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744432235042, current=DOWN, previous=UP]
2025-04-12 04:30:35.045  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/789decb95093:OrderService:9003: registering service...
2025-04-12 04:30:35.084  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-12 04:30:35.085  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/789decb95093:OrderService:9003 - registration status: 204
2025-04-12 04:30:35.097  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-12 04:30:35.464  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-12 04:30:35.484  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-12 04:30:35.499  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-12 04:30:35.512  INFO [traceId=, spanId=] 1 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-12 04:30:36.631  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 04:30:36.638  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-12 04:30:36.647  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-12 04:30:36.747  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-04-12 04:30:39.750  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-04-12 04:30:39.783  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/789decb95093:OrderService:9003 - deregister  status: 200
2025-04-12 04:30:39.786  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-04-12 04:34:14.068  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Starting OrderServiceApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 1 (/app/OrderService.jar started by root in /app)
2025-04-12 04:34:14.131 DEBUG [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-04-12 04:34:14.175  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : No active profile set, falling back to 1 default profile: "default"
2025-04-12 04:34:14.787  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-12 04:34:14.791  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=application, profiles=[default], label=null, version=2efb5a6a549b71a42b590f6a2b08183ed8af3466, state=
2025-04-12 04:34:14.795  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-12 04:34:14.801  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=OrderService, profiles=[default], label=null, version=2efb5a6a549b71a42b590f6a2b08183ed8af3466, state=
2025-04-12 04:34:26.138  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-12 04:34:26.153  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-12 04:34:26.928  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 706 ms. Found 2 JPA repository interfaces.
2025-04-12 04:34:26.995  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-12 04:34:27.005  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-04-12 04:34:27.079  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderDetailRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-12 04:34:27.094  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-12 04:34:27.097  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 33 ms. Found 0 Redis repository interfaces.
2025-04-12 04:34:31.413  INFO [traceId=, spanId=] 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=90b70314-821f-37c8-94e4-137079bd6dbe
2025-04-12 04:34:36.860  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9003 (http)
2025-04-12 04:34:36.907  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-12 04:34:36.917  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-12 04:34:37.073  INFO [traceId=, spanId=] 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-12 04:34:37.076  INFO [traceId=, spanId=] 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 22245 ms
2025-04-12 04:34:41.546  INFO [traceId=, spanId=] 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-12 04:34:42.021  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-12 04:34:42.214  INFO [traceId=, spanId=] 1 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-12 04:34:43.811  INFO [traceId=, spanId=] 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-12 04:34:44.073  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-12 04:34:44.709  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 49ed340d-e6be-4884-aa8e-1d6e28ca3b78
2025-04-12 04:34:44.718  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-12 04:34:44.939  WARN [traceId=, spanId=] 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-12 04:34:45.055  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-12 04:34:49.810  INFO [traceId=, spanId=] 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-12 04:34:52.418  INFO [traceId=, spanId=] 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 04:34:56.107  WARN [traceId=, spanId=] 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-12 04:34:56.898  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'InventoryService' URL not provided. Will try picking an instance via load-balancing.
2025-04-12 04:34:58.045  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'UserService' URL not provided. Will try picking an instance via load-balancing.
2025-04-12 04:35:05.309  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Connecting to localhost with guest user, assuming development environment
2025-04-12 04:35:05.312  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Using address resolver to always connect to localhost
2025-04-12 04:35:08.420  INFO [traceId=, spanId=] 1 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-04-12 04:35:08.849  WARN [traceId=, spanId=] 1 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-04-12 04:35:09.030  INFO [traceId=, spanId=] 1 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoints beneath base path '/actuator'
2025-04-12 04:35:09.476  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-04-12 04:35:09.647  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-04-12 04:35:09.676  INFO [traceId=, spanId=] 1 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 04:35:09.728  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-04-12 04:35:09.731  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-04-12 04:35:09.735  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-04-12 04:35:09.739  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-04-12 04:35:09.742  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-04-12 04:35:09.744  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-04-12 04:35:09.747  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-04-12 04:35:10.465  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-04-12 04:35:10.473  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-04-12 04:35:10.479  INFO [traceId=, spanId=] 1 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-04-12 04:35:10.486  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1744432510485 with initial instances count: 5
2025-04-12 04:35:10.543  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ORDERSERVICE with eureka with status UP
2025-04-12 04:35:10.546  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744432510546, current=UP, previous=STARTING]
2025-04-12 04:35:10.552  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/75286420301e:OrderService:9003: registering service...
2025-04-12 04:35:10.610  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9003 (http) with context path '/'
2025-04-12 04:35:10.615  INFO [traceId=, spanId=] 1 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9003
2025-04-12 04:35:10.637  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [rabbitmq:5672]
2025-04-12 04:35:10.713  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/75286420301e:OrderService:9003 - registration status: 204
2025-04-12 04:35:10.972  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#296a6a10:0/SimpleConnection@9305ed7 [delegate=amqp://guest@172.19.0.4:5672/, localPort=46600]
2025-04-12 04:35:11.356  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Started OrderServiceApplication in 73.991 seconds (process running for 78.91)
2025-04-12 04:35:11.514  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
2025-04-12 04:35:11.518  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Dropped 2 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused)

org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:925)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:840)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:701)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender.postSpans(ZipkinRestTemplateSender.java:50)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:69)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:41)
	at zipkin2.reporter.BaseHttpSender.send(BaseHttpSender.java:123)
	at zipkin2.reporter.internal.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:266)
	at zipkin2.reporter.internal.AsyncReporter$Flusher.run(AsyncReporter.java:352)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:899)
	... 9 common frames omitted

2025-04-12 04:35:23.149  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-12 04:35:23.152  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-12 04:35:23.166  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 11 ms
2025-04-12 04:40:09.738  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 04:45:09.724  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 04:50:09.711  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 04:55:09.698  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 05:00:09.686  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 05:05:09.672  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 05:10:09.664  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 05:15:09.651  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 05:20:09.638  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 05:25:09.625  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 05:30:09.612  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 05:35:09.600  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 05:40:09.587  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 05:41:38.231  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ORDERSERVICE with eureka with status DOWN
2025-04-12 05:41:38.240  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744436498240, current=DOWN, previous=UP]
2025-04-12 05:41:38.248  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/75286420301e:OrderService:9003: registering service...
2025-04-12 05:41:38.368  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/75286420301e:OrderService:9003 - registration status: 204
2025-04-12 05:41:38.813  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-12 05:41:38.818  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-12 05:41:38.819  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-12 05:41:38.824  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-12 05:41:38.882  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-12 05:41:38.921  INFO [traceId=, spanId=] 1 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-12 05:41:40.570  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 05:41:40.669  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-12 05:41:40.683  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-12 05:41:40.912  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-04-12 05:41:43.915  WARN [traceId=, spanId=] 1 --- [DiscoveryClient-%d] c.netflix.discovery.TimedSupervisorTask  : task supervisor shutting down, can't accept the task
2025-04-12 05:41:43.915  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-04-12 05:41:43.936  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/75286420301e:OrderService:9003 - deregister  status: 200
2025-04-12 05:41:43.939  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-04-12 05:48:15.487  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Starting OrderServiceApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 1 (/app/OrderService.jar started by root in /app)
2025-04-12 05:48:15.531 DEBUG [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-04-12 05:48:15.540  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : No active profile set, falling back to 1 default profile: "default"
2025-04-12 05:48:15.883  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-12 05:48:15.890  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=application, profiles=[default], label=null, version=9261a4efe8f68087092a640220bd3f5f9a67a0aa, state=
2025-04-12 05:48:15.894  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-12 05:48:15.924  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=OrderService, profiles=[default], label=null, version=9261a4efe8f68087092a640220bd3f5f9a67a0aa, state=
2025-04-12 05:48:29.316  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-12 05:48:29.335  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-12 05:48:30.781  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1359 ms. Found 2 JPA repository interfaces.
2025-04-12 05:48:30.902  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-12 05:48:30.923  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-04-12 05:48:31.005  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderDetailRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-12 05:48:31.022  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-12 05:48:31.025  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 34 ms. Found 0 Redis repository interfaces.
2025-04-12 05:48:35.218  INFO [traceId=, spanId=] 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=90b70314-821f-37c8-94e4-137079bd6dbe
2025-04-12 05:48:40.805  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9003 (http)
2025-04-12 05:48:40.906  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-12 05:48:40.926  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-12 05:48:41.212  INFO [traceId=, spanId=] 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-12 05:48:41.221  INFO [traceId=, spanId=] 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 25279 ms
2025-04-12 05:48:46.532  INFO [traceId=, spanId=] 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-12 05:48:46.888  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-12 05:48:47.096  INFO [traceId=, spanId=] 1 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-12 05:48:48.878  INFO [traceId=, spanId=] 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-12 05:48:49.039  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-12 05:48:49.770  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: e2145e3e-86f8-403b-adac-88f6de49f592
2025-04-12 05:48:49.791  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-12 05:48:50.060  WARN [traceId=, spanId=] 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-12 05:48:50.201  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-12 05:48:54.928  INFO [traceId=, spanId=] 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-12 05:48:57.158  INFO [traceId=, spanId=] 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 05:49:01.032  WARN [traceId=, spanId=] 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-12 05:49:01.958  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'InventoryService' URL not provided. Will try picking an instance via load-balancing.
2025-04-12 05:49:03.224  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'UserService' URL not provided. Will try picking an instance via load-balancing.
2025-04-12 05:49:11.346  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Connecting to localhost with guest user, assuming development environment
2025-04-12 05:49:11.349  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Using address resolver to always connect to localhost
2025-04-12 05:49:14.307  INFO [traceId=, spanId=] 1 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-04-12 05:49:14.592  WARN [traceId=, spanId=] 1 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-04-12 05:49:14.706  INFO [traceId=, spanId=] 1 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoints beneath base path '/actuator'
2025-04-12 05:49:15.126  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-04-12 05:49:15.217  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-04-12 05:49:15.229  INFO [traceId=, spanId=] 1 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 05:49:15.263  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-04-12 05:49:15.266  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-04-12 05:49:15.269  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-04-12 05:49:15.271  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-04-12 05:49:15.273  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-04-12 05:49:15.276  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-04-12 05:49:15.278  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-04-12 05:49:15.913  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-04-12 05:49:15.923  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-04-12 05:49:15.936  INFO [traceId=, spanId=] 1 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-04-12 05:49:15.944  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1744436955943 with initial instances count: 4
2025-04-12 05:49:15.970  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ORDERSERVICE with eureka with status UP
2025-04-12 05:49:15.976  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744436955976, current=UP, previous=STARTING]
2025-04-12 05:49:15.984  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/a50716068c9e:OrderService:9003: registering service...
2025-04-12 05:49:16.048  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9003 (http) with context path '/'
2025-04-12 05:49:16.052  INFO [traceId=, spanId=] 1 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9003
2025-04-12 05:49:16.072  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [rabbitmq:5672]
2025-04-12 05:49:16.177  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/a50716068c9e:OrderService:9003 - registration status: 204
2025-04-12 05:49:16.365  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#1d05cbae:0/SimpleConnection@5bd9bb05 [delegate=amqp://guest@172.19.0.2:5672/, localPort=52886]
2025-04-12 05:49:16.801  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Started OrderServiceApplication in 75.68 seconds (process running for 81.496)
2025-04-12 05:49:16.947  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
2025-04-12 05:49:16.952  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Dropped 2 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused)

org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:925)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:840)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:701)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender.postSpans(ZipkinRestTemplateSender.java:50)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:69)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:41)
	at zipkin2.reporter.BaseHttpSender.send(BaseHttpSender.java:123)
	at zipkin2.reporter.internal.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:266)
	at zipkin2.reporter.internal.AsyncReporter$Flusher.run(AsyncReporter.java:352)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:899)
	... 9 common frames omitted

2025-04-12 05:49:25.961  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-12 05:49:25.964  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-12 05:49:25.975  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 8 ms
2025-04-12 05:54:15.272  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 05:59:15.260  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 06:04:15.249  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 06:08:56.211  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ORDERSERVICE with eureka with status DOWN
2025-04-12 06:08:56.217  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744438136217, current=DOWN, previous=UP]
2025-04-12 06:08:56.224  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/a50716068c9e:OrderService:9003: registering service...
2025-04-12 06:08:56.264  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/a50716068c9e:OrderService:9003 - registration status: 204
2025-04-12 06:08:56.626  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-12 06:08:56.630  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-12 06:08:56.908  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-12 06:08:56.919  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-12 06:08:56.984  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-12 06:08:57.048  INFO [traceId=, spanId=] 1 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-12 06:08:58.632  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 06:08:58.698  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-12 06:08:58.722  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-12 06:08:59.369  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-04-12 06:09:02.372  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-04-12 06:09:02.392  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/a50716068c9e:OrderService:9003 - deregister  status: 200
2025-04-12 06:09:02.396  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-04-12 06:12:05.608  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Starting OrderServiceApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 1 (/app/OrderService.jar started by root in /app)
2025-04-12 06:12:05.722 DEBUG [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-04-12 06:12:05.742  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : No active profile set, falling back to 1 default profile: "default"
2025-04-12 06:12:06.717  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-12 06:12:06.760  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=application, profiles=[default], label=null, version=9261a4efe8f68087092a640220bd3f5f9a67a0aa, state=
2025-04-12 06:12:06.763  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-12 06:12:06.782  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=OrderService, profiles=[default], label=null, version=9261a4efe8f68087092a640220bd3f5f9a67a0aa, state=
2025-04-12 06:12:22.138  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-12 06:12:22.149  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-12 06:12:23.730  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1504 ms. Found 2 JPA repository interfaces.
2025-04-12 06:12:23.857  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-12 06:12:23.914  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-04-12 06:12:24.104  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderDetailRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-12 06:12:24.114  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-12 06:12:24.119  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 87 ms. Found 0 Redis repository interfaces.
2025-04-12 06:12:26.955  INFO [traceId=, spanId=] 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=90b70314-821f-37c8-94e4-137079bd6dbe
2025-04-12 06:12:31.543  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9003 (http)
2025-04-12 06:12:31.618  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-12 06:12:31.624  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-12 06:12:31.854  INFO [traceId=, spanId=] 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-12 06:12:31.859  INFO [traceId=, spanId=] 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 25052 ms
2025-04-12 06:12:35.225  INFO [traceId=, spanId=] 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-12 06:12:35.531  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-12 06:12:35.694  INFO [traceId=, spanId=] 1 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-12 06:12:37.609  INFO [traceId=, spanId=] 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-12 06:12:37.824  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-12 06:12:38.654  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 71750997-8ef7-445f-b628-778cfee04a7f
2025-04-12 06:12:38.669  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-12 06:12:38.894  WARN [traceId=, spanId=] 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-12 06:12:38.995  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-12 06:12:44.734  INFO [traceId=, spanId=] 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-12 06:12:46.016  INFO [traceId=, spanId=] 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 06:12:49.673  WARN [traceId=, spanId=] 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-12 06:12:50.777  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'InventoryService' URL not provided. Will try picking an instance via load-balancing.
2025-04-12 06:12:52.922  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'UserService' URL not provided. Will try picking an instance via load-balancing.
2025-04-12 06:13:03.841  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Connecting to localhost with guest user, assuming development environment
2025-04-12 06:13:03.844  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Using address resolver to always connect to localhost
2025-04-12 06:13:06.713  INFO [traceId=, spanId=] 1 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-04-12 06:13:06.951  WARN [traceId=, spanId=] 1 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-04-12 06:13:07.041  INFO [traceId=, spanId=] 1 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoints beneath base path '/actuator'
2025-04-12 06:13:07.318  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-04-12 06:13:07.388  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-04-12 06:13:07.398  INFO [traceId=, spanId=] 1 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 06:13:07.421  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-04-12 06:13:07.423  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-04-12 06:13:07.425  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-04-12 06:13:07.427  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-04-12 06:13:07.428  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-04-12 06:13:07.430  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-04-12 06:13:07.432  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-04-12 06:13:08.343  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-04-12 06:13:08.358  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-04-12 06:13:08.372  INFO [traceId=, spanId=] 1 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-04-12 06:13:08.382  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1744438388378 with initial instances count: 5
2025-04-12 06:13:08.433  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ORDERSERVICE with eureka with status UP
2025-04-12 06:13:08.437  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744438388437, current=UP, previous=STARTING]
2025-04-12 06:13:08.445  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/6f2dc6044c45:OrderService:9003: registering service...
2025-04-12 06:13:08.520  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9003 (http) with context path '/'
2025-04-12 06:13:08.526  INFO [traceId=, spanId=] 1 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9003
2025-04-12 06:13:08.553  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [rabbitmq:5672]
2025-04-12 06:13:08.636  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/6f2dc6044c45:OrderService:9003 - registration status: 204
2025-04-12 06:13:08.765  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#35537fe:0/SimpleConnection@346079da [delegate=amqp://guest@172.19.0.4:5672/, localPort=38210]
2025-04-12 06:13:09.090  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Started OrderServiceApplication in 81.569 seconds (process running for 88.022)
2025-04-12 06:13:09.348  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
2025-04-12 06:13:09.351  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Dropped 2 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused)

org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:925)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:840)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:701)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender.postSpans(ZipkinRestTemplateSender.java:50)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:69)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:41)
	at zipkin2.reporter.BaseHttpSender.send(BaseHttpSender.java:123)
	at zipkin2.reporter.internal.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:266)
	at zipkin2.reporter.internal.AsyncReporter$Flusher.run(AsyncReporter.java:352)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:899)
	... 9 common frames omitted

2025-04-12 06:13:11.811  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-12 06:13:11.840  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-12 06:13:11.885  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 37 ms
2025-04-12 06:14:50.957  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ORDERSERVICE with eureka with status DOWN
2025-04-12 06:14:50.964  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744438490964, current=DOWN, previous=UP]
2025-04-12 06:14:50.970  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/6f2dc6044c45:OrderService:9003: registering service...
2025-04-12 06:14:51.014  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/6f2dc6044c45:OrderService:9003 - registration status: 204
2025-04-12 06:14:51.020  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-12 06:14:51.028  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-12 06:14:51.061  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-12 06:14:51.079  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-12 06:14:51.093  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-12 06:14:51.102  INFO [traceId=, spanId=] 1 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-12 06:14:52.265  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 06:14:52.270  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-12 06:14:52.278  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-12 06:14:52.403  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-04-12 06:14:55.405  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-04-12 06:14:55.416  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/6f2dc6044c45:OrderService:9003 - deregister  status: 200
2025-04-12 06:14:55.418  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-04-12 06:19:16.022  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Starting OrderServiceApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 1 (/app/OrderService.jar started by root in /app)
2025-04-12 06:19:16.051 DEBUG [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-04-12 06:19:16.056  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : No active profile set, falling back to 1 default profile: "default"
2025-04-12 06:19:16.253  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-12 06:19:16.257  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=application, profiles=[default], label=null, version=9261a4efe8f68087092a640220bd3f5f9a67a0aa, state=
2025-04-12 06:19:16.261  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-12 06:19:16.269  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=OrderService, profiles=[default], label=null, version=9261a4efe8f68087092a640220bd3f5f9a67a0aa, state=
2025-04-12 06:19:30.438  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-12 06:19:30.459  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-12 06:19:31.769  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1219 ms. Found 2 JPA repository interfaces.
2025-04-12 06:19:31.901  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-12 06:19:31.917  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-04-12 06:19:32.059  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderDetailRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-12 06:19:32.067  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-12 06:19:32.070  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 38 ms. Found 0 Redis repository interfaces.
2025-04-12 06:19:35.006  INFO [traceId=, spanId=] 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=90b70314-821f-37c8-94e4-137079bd6dbe
2025-04-12 06:19:40.138  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9003 (http)
2025-04-12 06:19:40.180  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-12 06:19:40.184  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-12 06:19:40.328  INFO [traceId=, spanId=] 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-12 06:19:40.335  INFO [traceId=, spanId=] 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 24049 ms
2025-04-12 06:19:46.475  INFO [traceId=, spanId=] 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-12 06:19:47.036  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-12 06:19:47.407  INFO [traceId=, spanId=] 1 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-12 06:19:49.247  INFO [traceId=, spanId=] 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-12 06:19:49.398  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-12 06:19:50.269  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 17ba9fc6-9f74-488c-a6da-bdb8c93c31b9
2025-04-12 06:19:50.283  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-12 06:19:50.520  WARN [traceId=, spanId=] 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-12 06:19:50.627  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-12 06:19:55.194  INFO [traceId=, spanId=] 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-12 06:19:56.755  INFO [traceId=, spanId=] 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 06:20:00.624  WARN [traceId=, spanId=] 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-12 06:20:01.492  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'InventoryService' URL not provided. Will try picking an instance via load-balancing.
2025-04-12 06:20:02.696  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'UserService' URL not provided. Will try picking an instance via load-balancing.
2025-04-12 06:20:11.273  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Connecting to localhost with guest user, assuming development environment
2025-04-12 06:20:11.275  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Using address resolver to always connect to localhost
2025-04-12 06:20:14.425  INFO [traceId=, spanId=] 1 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-04-12 06:20:14.719  WARN [traceId=, spanId=] 1 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-04-12 06:20:14.817  INFO [traceId=, spanId=] 1 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoints beneath base path '/actuator'
2025-04-12 06:20:15.233  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-04-12 06:20:15.396  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-04-12 06:20:15.421  INFO [traceId=, spanId=] 1 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 06:20:15.469  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-04-12 06:20:15.471  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-04-12 06:20:15.474  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-04-12 06:20:15.476  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-04-12 06:20:15.478  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-04-12 06:20:15.481  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-04-12 06:20:15.483  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-04-12 06:20:16.571  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-04-12 06:20:16.581  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-04-12 06:20:16.594  INFO [traceId=, spanId=] 1 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-04-12 06:20:16.601  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1744438816600 with initial instances count: 5
2025-04-12 06:20:16.635  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ORDERSERVICE with eureka with status UP
2025-04-12 06:20:16.639  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744438816639, current=UP, previous=STARTING]
2025-04-12 06:20:16.646  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/ec4886cdbb07:OrderService:9003: registering service...
2025-04-12 06:20:16.694  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9003 (http) with context path '/'
2025-04-12 06:20:16.699  INFO [traceId=, spanId=] 1 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9003
2025-04-12 06:20:16.716  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [rabbitmq:5672]
2025-04-12 06:20:16.894  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/ec4886cdbb07:OrderService:9003 - registration status: 204
2025-04-12 06:20:17.393  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#23e883fb:0/SimpleConnection@5037eda8 [delegate=amqp://guest@172.19.0.4:5672/, localPort=35598]
2025-04-12 06:20:17.629  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
2025-04-12 06:20:17.633  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Dropped 2 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused)

org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:925)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:840)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:701)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender.postSpans(ZipkinRestTemplateSender.java:50)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:69)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:41)
	at zipkin2.reporter.BaseHttpSender.send(BaseHttpSender.java:123)
	at zipkin2.reporter.internal.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:266)
	at zipkin2.reporter.internal.AsyncReporter$Flusher.run(AsyncReporter.java:352)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:899)
	... 9 common frames omitted

2025-04-12 06:20:17.971  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Started OrderServiceApplication in 75.234 seconds (process running for 81.445)
2025-04-12 06:20:26.916  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-12 06:20:26.919  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-12 06:20:26.927  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2025-04-12 06:25:15.476  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 06:30:15.464  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 06:31:24.519  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ORDERSERVICE with eureka with status DOWN
2025-04-12 06:31:24.543  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744439484543, current=DOWN, previous=UP]
2025-04-12 06:31:24.549  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/ec4886cdbb07:OrderService:9003: registering service...
2025-04-12 06:31:24.596  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/ec4886cdbb07:OrderService:9003 - registration status: 204
2025-04-12 06:31:24.758  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-12 06:31:24.765  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-12 06:31:24.969  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-12 06:31:24.988  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-12 06:31:25.005  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-12 06:31:25.031  INFO [traceId=, spanId=] 1 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-12 06:31:26.385  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 06:31:26.433  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-12 06:31:26.446  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-12 06:31:26.841  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-04-12 06:31:29.843  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-04-12 06:31:29.859  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/ec4886cdbb07:OrderService:9003 - deregister  status: 200
2025-04-12 06:31:29.862  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-04-12 06:35:01.935  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Starting OrderServiceApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 1 (/app/OrderService.jar started by root in /app)
2025-04-12 06:35:01.967 DEBUG [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-04-12 06:35:01.972  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : No active profile set, falling back to 1 default profile: "default"
2025-04-12 06:35:02.143  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-12 06:35:02.146  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=application, profiles=[default], label=null, version=9261a4efe8f68087092a640220bd3f5f9a67a0aa, state=
2025-04-12 06:35:02.148  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-12 06:35:02.151  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=OrderService, profiles=[default], label=null, version=9261a4efe8f68087092a640220bd3f5f9a67a0aa, state=
2025-04-12 06:35:19.388  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-12 06:35:19.407  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-12 06:35:20.743  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1283 ms. Found 2 JPA repository interfaces.
2025-04-12 06:35:21.000  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-12 06:35:21.018  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-04-12 06:35:21.280  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderDetailRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-12 06:35:21.321  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-12 06:35:21.338  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 144 ms. Found 0 Redis repository interfaces.
2025-04-12 06:35:25.497  INFO [traceId=, spanId=] 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=90b70314-821f-37c8-94e4-137079bd6dbe
2025-04-12 06:35:32.358  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9003 (http)
2025-04-12 06:35:32.417  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-12 06:35:32.420  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-12 06:35:32.598  INFO [traceId=, spanId=] 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-12 06:35:32.601  INFO [traceId=, spanId=] 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 30438 ms
2025-04-12 06:35:38.594  INFO [traceId=, spanId=] 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-12 06:35:39.059  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-12 06:35:39.219  INFO [traceId=, spanId=] 1 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-12 06:35:40.735  INFO [traceId=, spanId=] 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-12 06:35:40.890  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-12 06:35:42.013  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: d3058ebe-18bf-4288-9e12-c5e8e6a31e8d
2025-04-12 06:35:42.024  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-12 06:35:42.274  WARN [traceId=, spanId=] 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-12 06:35:42.408  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-12 06:35:47.441  INFO [traceId=, spanId=] 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-12 06:35:48.733  INFO [traceId=, spanId=] 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 06:35:51.509  WARN [traceId=, spanId=] 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-12 06:35:52.707  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'InventoryService' URL not provided. Will try picking an instance via load-balancing.
2025-04-12 06:35:53.906  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'UserService' URL not provided. Will try picking an instance via load-balancing.
2025-04-12 06:36:03.510  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Connecting to localhost with guest user, assuming development environment
2025-04-12 06:36:03.513  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Using address resolver to always connect to localhost
2025-04-12 06:36:07.300  INFO [traceId=, spanId=] 1 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-04-12 06:36:07.772  WARN [traceId=, spanId=] 1 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-04-12 06:36:07.940  INFO [traceId=, spanId=] 1 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoints beneath base path '/actuator'
2025-04-12 06:36:08.377  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-04-12 06:36:08.536  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-04-12 06:36:08.557  INFO [traceId=, spanId=] 1 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 06:36:08.621  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-04-12 06:36:08.624  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-04-12 06:36:08.627  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-04-12 06:36:08.628  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-04-12 06:36:08.631  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-04-12 06:36:08.633  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-04-12 06:36:08.635  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-04-12 06:36:09.299  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-04-12 06:36:09.314  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-04-12 06:36:09.323  INFO [traceId=, spanId=] 1 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-04-12 06:36:09.332  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1744439769332 with initial instances count: 5
2025-04-12 06:36:09.388  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ORDERSERVICE with eureka with status UP
2025-04-12 06:36:09.393  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744439769392, current=UP, previous=STARTING]
2025-04-12 06:36:09.412  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/404ebf636833:OrderService:9003: registering service...
2025-04-12 06:36:09.479  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9003 (http) with context path '/'
2025-04-12 06:36:09.485  INFO [traceId=, spanId=] 1 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9003
2025-04-12 06:36:09.506  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [rabbitmq:5672]
2025-04-12 06:36:09.637  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/404ebf636833:OrderService:9003 - registration status: 204
2025-04-12 06:36:09.834  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#3f3b50df:0/SimpleConnection@78938cbd [delegate=amqp://guest@172.19.0.4:5672/, localPort=57376]
2025-04-12 06:36:10.331  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
2025-04-12 06:36:10.337  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Dropped 2 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused)

org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:925)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:840)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:701)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender.postSpans(ZipkinRestTemplateSender.java:50)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:69)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:41)
	at zipkin2.reporter.BaseHttpSender.send(BaseHttpSender.java:123)
	at zipkin2.reporter.internal.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:266)
	at zipkin2.reporter.internal.AsyncReporter$Flusher.run(AsyncReporter.java:352)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:899)
	... 9 common frames omitted

2025-04-12 06:36:10.603  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Started OrderServiceApplication in 81.139 seconds (process running for 84.953)
2025-04-12 06:36:16.257  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-12 06:36:16.259  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-12 06:36:16.270  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 9 ms
2025-04-12 06:41:08.616  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 06:46:08.594  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 06:46:54.964  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ORDERSERVICE with eureka with status DOWN
2025-04-12 06:46:54.970  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744440414969, current=DOWN, previous=UP]
2025-04-12 06:46:54.975  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/404ebf636833:OrderService:9003: registering service...
2025-04-12 06:46:55.013  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/404ebf636833:OrderService:9003 - registration status: 204
2025-04-12 06:46:55.170  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-12 06:46:55.174  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-12 06:46:55.565  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-12 06:46:55.601  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-12 06:46:55.620  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-12 06:46:55.641  INFO [traceId=, spanId=] 1 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-12 06:46:56.947  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 06:46:56.975  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-12 06:46:56.988  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-12 06:46:57.546  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-04-12 06:47:00.548  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-04-12 06:47:00.562  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/404ebf636833:OrderService:9003 - deregister  status: 200
2025-04-12 06:47:00.564  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-04-12 06:49:35.497  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Starting OrderServiceApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 1 (/app/OrderService.jar started by root in /app)
2025-04-12 06:49:35.530 DEBUG [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-04-12 06:49:35.537  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : No active profile set, falling back to 1 default profile: "default"
2025-04-12 06:49:35.833  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-12 06:49:35.844  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=application, profiles=[default], label=null, version=9261a4efe8f68087092a640220bd3f5f9a67a0aa, state=
2025-04-12 06:49:35.847  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-12 06:49:35.852  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=OrderService, profiles=[default], label=null, version=9261a4efe8f68087092a640220bd3f5f9a67a0aa, state=
2025-04-12 06:49:49.228  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-12 06:49:49.248  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-12 06:49:50.464  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1106 ms. Found 2 JPA repository interfaces.
2025-04-12 06:49:50.621  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-12 06:49:50.632  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-04-12 06:49:50.728  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderDetailRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-12 06:49:50.741  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-12 06:49:50.757  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 56 ms. Found 0 Redis repository interfaces.
2025-04-12 06:49:53.808  INFO [traceId=, spanId=] 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=90b70314-821f-37c8-94e4-137079bd6dbe
2025-04-12 06:50:00.597  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9003 (http)
2025-04-12 06:50:00.686  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-12 06:50:00.693  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-12 06:50:01.215  INFO [traceId=, spanId=] 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-12 06:50:01.232  INFO [traceId=, spanId=] 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 25364 ms
2025-04-12 06:50:09.896  INFO [traceId=, spanId=] 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-12 06:50:10.297  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-12 06:50:10.559  INFO [traceId=, spanId=] 1 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-12 06:50:12.610  INFO [traceId=, spanId=] 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-12 06:50:12.824  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-12 06:50:13.876  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 0659c7f4-a699-4df9-9147-043fb50340bf
2025-04-12 06:50:13.891  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-12 06:50:14.198  WARN [traceId=, spanId=] 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-12 06:50:14.293  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-12 06:50:19.826  INFO [traceId=, spanId=] 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-12 06:50:21.128  INFO [traceId=, spanId=] 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 06:50:26.880  WARN [traceId=, spanId=] 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-12 06:50:27.808  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'InventoryService' URL not provided. Will try picking an instance via load-balancing.
2025-04-12 06:50:29.050  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'UserService' URL not provided. Will try picking an instance via load-balancing.
2025-04-12 06:50:37.251  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Connecting to localhost with guest user, assuming development environment
2025-04-12 06:50:37.256  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Using address resolver to always connect to localhost
2025-04-12 06:50:40.526  INFO [traceId=, spanId=] 1 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-04-12 06:50:40.839  WARN [traceId=, spanId=] 1 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-04-12 06:50:40.952  INFO [traceId=, spanId=] 1 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoints beneath base path '/actuator'
2025-04-12 06:50:41.464  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-04-12 06:50:41.588  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-04-12 06:50:41.609  INFO [traceId=, spanId=] 1 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 06:50:41.653  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-04-12 06:50:41.655  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-04-12 06:50:41.658  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-04-12 06:50:41.660  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-04-12 06:50:41.663  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-04-12 06:50:41.667  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-04-12 06:50:41.670  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-04-12 06:50:42.573  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-04-12 06:50:42.586  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-04-12 06:50:42.598  INFO [traceId=, spanId=] 1 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-04-12 06:50:42.606  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1744440642604 with initial instances count: 5
2025-04-12 06:50:42.654  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ORDERSERVICE with eureka with status UP
2025-04-12 06:50:42.658  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744440642658, current=UP, previous=STARTING]
2025-04-12 06:50:42.667  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/eecfe3767e63:OrderService:9003: registering service...
2025-04-12 06:50:42.751  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9003 (http) with context path '/'
2025-04-12 06:50:42.758  INFO [traceId=, spanId=] 1 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9003
2025-04-12 06:50:42.782  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [rabbitmq:5672]
2025-04-12 06:50:42.871  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/eecfe3767e63:OrderService:9003 - registration status: 204
2025-04-12 06:50:43.097  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#2101e969:0/SimpleConnection@4efa7f30 [delegate=amqp://guest@172.19.0.4:5672/, localPort=40664]
2025-04-12 06:50:43.487  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Started OrderServiceApplication in 81.12 seconds (process running for 87.072)
2025-04-12 06:50:43.573  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
2025-04-12 06:50:43.576  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Dropped 2 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused)

org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:925)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:840)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:701)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender.postSpans(ZipkinRestTemplateSender.java:50)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:69)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:41)
	at zipkin2.reporter.BaseHttpSender.send(BaseHttpSender.java:123)
	at zipkin2.reporter.internal.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:266)
	at zipkin2.reporter.internal.AsyncReporter$Flusher.run(AsyncReporter.java:352)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:899)
	... 9 common frames omitted

2025-04-12 06:50:47.703  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-12 06:50:47.706  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-12 06:50:47.725  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 11 ms
2025-04-12 06:55:41.660  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 06:58:24.232  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ORDERSERVICE with eureka with status DOWN
2025-04-12 06:58:24.237  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744441104237, current=DOWN, previous=UP]
2025-04-12 06:58:24.245  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/eecfe3767e63:OrderService:9003: registering service...
2025-04-12 06:58:24.280  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/eecfe3767e63:OrderService:9003 - registration status: 204
2025-04-12 06:58:24.416  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-12 06:58:24.418  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-12 06:58:24.498  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-12 06:58:24.512  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-12 06:58:24.530  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-12 06:58:24.576  INFO [traceId=, spanId=] 1 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-12 06:58:25.974  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 06:58:26.003  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-12 06:58:26.015  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-12 06:58:26.765  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-04-12 06:58:29.767  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-04-12 06:58:29.782  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/eecfe3767e63:OrderService:9003 - deregister  status: 200
2025-04-12 06:58:29.785  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-04-12 07:01:18.481  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Starting OrderServiceApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 1 (/app/OrderService.jar started by root in /app)
2025-04-12 07:01:18.588 DEBUG [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-04-12 07:01:18.595  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : No active profile set, falling back to 1 default profile: "default"
2025-04-12 07:01:19.359  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-12 07:01:19.367  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=application, profiles=[default], label=null, version=9261a4efe8f68087092a640220bd3f5f9a67a0aa, state=
2025-04-12 07:01:19.383  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-12 07:01:19.398  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=OrderService, profiles=[default], label=null, version=9261a4efe8f68087092a640220bd3f5f9a67a0aa, state=
2025-04-12 07:01:33.261  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-12 07:01:33.297  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-12 07:01:34.634  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1213 ms. Found 2 JPA repository interfaces.
2025-04-12 07:01:34.807  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-12 07:01:34.822  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-04-12 07:01:34.969  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderDetailRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-12 07:01:34.988  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-12 07:01:34.997  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 62 ms. Found 0 Redis repository interfaces.
2025-04-12 07:01:38.706  INFO [traceId=, spanId=] 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=90b70314-821f-37c8-94e4-137079bd6dbe
2025-04-12 07:01:43.532  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9003 (http)
2025-04-12 07:01:43.611  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-12 07:01:43.625  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-12 07:01:43.927  INFO [traceId=, spanId=] 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-12 07:01:43.930  INFO [traceId=, spanId=] 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 24483 ms
2025-04-12 07:01:50.383  INFO [traceId=, spanId=] 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-12 07:01:51.332  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-12 07:01:51.793  INFO [traceId=, spanId=] 1 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-12 07:01:54.440  INFO [traceId=, spanId=] 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-12 07:01:54.707  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-12 07:01:56.287  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 0f7b731e-b9dd-4a0b-8a1d-6da0f2d672e8
2025-04-12 07:01:56.306  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-12 07:01:56.733  WARN [traceId=, spanId=] 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-12 07:01:56.917  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-12 07:02:02.426  INFO [traceId=, spanId=] 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-12 07:02:03.551  INFO [traceId=, spanId=] 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 07:02:08.067  WARN [traceId=, spanId=] 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-12 07:02:09.338  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'InventoryService' URL not provided. Will try picking an instance via load-balancing.
2025-04-12 07:02:10.534  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'UserService' URL not provided. Will try picking an instance via load-balancing.
2025-04-12 07:02:20.959  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Connecting to localhost with guest user, assuming development environment
2025-04-12 07:02:20.961  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Using address resolver to always connect to localhost
2025-04-12 07:02:26.506  INFO [traceId=, spanId=] 1 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-04-12 07:02:27.372  WARN [traceId=, spanId=] 1 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-04-12 07:02:27.514  INFO [traceId=, spanId=] 1 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoints beneath base path '/actuator'
2025-04-12 07:02:27.916  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-04-12 07:02:28.015  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-04-12 07:02:28.028  INFO [traceId=, spanId=] 1 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 07:02:28.069  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-04-12 07:02:28.071  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-04-12 07:02:28.074  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-04-12 07:02:28.078  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-04-12 07:02:28.080  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-04-12 07:02:28.083  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-04-12 07:02:28.089  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-04-12 07:02:28.728  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-04-12 07:02:28.738  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-04-12 07:02:28.750  INFO [traceId=, spanId=] 1 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-04-12 07:02:28.756  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1744441348755 with initial instances count: 4
2025-04-12 07:02:28.785  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ORDERSERVICE with eureka with status UP
2025-04-12 07:02:28.790  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744441348790, current=UP, previous=STARTING]
2025-04-12 07:02:28.797  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/6a21f5616330:OrderService:9003: registering service...
2025-04-12 07:02:28.862  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9003 (http) with context path '/'
2025-04-12 07:02:28.865  INFO [traceId=, spanId=] 1 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9003
2025-04-12 07:02:28.876  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [rabbitmq:5672]
2025-04-12 07:02:28.943  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/6a21f5616330:OrderService:9003 - registration status: 204
2025-04-12 07:02:29.148  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#11b59291:0/SimpleConnection@44d92f46 [delegate=amqp://guest@172.19.0.4:5672/, localPort=43272]
2025-04-12 07:02:29.513  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Started OrderServiceApplication in 89.056 seconds (process running for 94.013)
2025-04-12 07:02:29.731  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
2025-04-12 07:02:29.733  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Dropped 2 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused)

org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:925)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:840)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:701)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender.postSpans(ZipkinRestTemplateSender.java:50)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:69)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:41)
	at zipkin2.reporter.BaseHttpSender.send(BaseHttpSender.java:123)
	at zipkin2.reporter.internal.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:266)
	at zipkin2.reporter.internal.AsyncReporter$Flusher.run(AsyncReporter.java:352)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:899)
	... 9 common frames omitted

2025-04-12 07:02:56.531  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-12 07:02:56.533  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-12 07:02:56.541  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2025-04-12 07:06:13.856  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ORDERSERVICE with eureka with status DOWN
2025-04-12 07:06:13.859  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744441573858, current=DOWN, previous=UP]
2025-04-12 07:06:13.861  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/6a21f5616330:OrderService:9003: registering service...
2025-04-12 07:06:13.885  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/6a21f5616330:OrderService:9003 - registration status: 204
2025-04-12 07:06:13.896  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-12 07:06:13.901  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-12 07:06:14.494  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-12 07:06:14.512  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-12 07:06:14.516  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-12 07:06:14.522  INFO [traceId=, spanId=] 1 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-12 07:06:15.600  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 07:06:15.603  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-12 07:06:15.608  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-12 07:06:15.814  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-04-12 07:06:18.815  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-04-12 07:06:18.826  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/6a21f5616330:OrderService:9003 - deregister  status: 200
2025-04-12 07:06:18.829  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-04-12 07:11:10.824  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Starting OrderServiceApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 1 (/app/OrderService.jar started by root in /app)
2025-04-12 07:11:10.863 DEBUG [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-04-12 07:11:10.870  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : No active profile set, falling back to 1 default profile: "default"
2025-04-12 07:11:11.448  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-12 07:11:11.461  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=application, profiles=[default], label=null, version=9261a4efe8f68087092a640220bd3f5f9a67a0aa, state=
2025-04-12 07:11:11.471  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-12 07:11:11.499  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=OrderService, profiles=[default], label=null, version=9261a4efe8f68087092a640220bd3f5f9a67a0aa, state=
2025-04-12 07:11:24.440  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-12 07:11:24.462  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-12 07:11:25.949  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1401 ms. Found 2 JPA repository interfaces.
2025-04-12 07:11:26.169  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-12 07:11:26.192  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-04-12 07:11:26.359  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderDetailRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-12 07:11:26.366  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-12 07:11:26.374  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 34 ms. Found 0 Redis repository interfaces.
2025-04-12 07:11:29.765  INFO [traceId=, spanId=] 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=90b70314-821f-37c8-94e4-137079bd6dbe
2025-04-12 07:11:35.629  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9003 (http)
2025-04-12 07:11:35.691  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-12 07:11:35.696  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-12 07:11:35.872  INFO [traceId=, spanId=] 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-12 07:11:35.876  INFO [traceId=, spanId=] 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 24339 ms
2025-04-12 07:11:39.717  INFO [traceId=, spanId=] 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-12 07:11:40.093  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-12 07:11:40.294  INFO [traceId=, spanId=] 1 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-12 07:11:41.781  INFO [traceId=, spanId=] 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-12 07:11:41.974  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-12 07:11:42.848  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 362492f3-0958-4df8-88e9-b85ba726b850
2025-04-12 07:11:42.859  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-12 07:11:43.166  WARN [traceId=, spanId=] 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-12 07:11:43.465  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-12 07:11:48.923  INFO [traceId=, spanId=] 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-12 07:11:50.248  INFO [traceId=, spanId=] 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 07:11:53.929  WARN [traceId=, spanId=] 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-12 07:11:55.424  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'InventoryService' URL not provided. Will try picking an instance via load-balancing.
2025-04-12 07:11:56.699  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'UserService' URL not provided. Will try picking an instance via load-balancing.
2025-04-12 07:12:05.368  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Connecting to localhost with guest user, assuming development environment
2025-04-12 07:12:05.370  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Using address resolver to always connect to localhost
2025-04-12 07:12:09.351  INFO [traceId=, spanId=] 1 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-04-12 07:12:09.692  WARN [traceId=, spanId=] 1 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-04-12 07:12:09.790  INFO [traceId=, spanId=] 1 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoints beneath base path '/actuator'
2025-04-12 07:12:10.433  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-04-12 07:12:10.506  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-04-12 07:12:10.518  INFO [traceId=, spanId=] 1 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 07:12:10.548  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-04-12 07:12:10.550  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-04-12 07:12:10.552  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-04-12 07:12:10.554  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-04-12 07:12:10.556  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-04-12 07:12:10.559  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-04-12 07:12:10.561  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-04-12 07:12:11.007  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-04-12 07:12:11.016  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-04-12 07:12:11.024  INFO [traceId=, spanId=] 1 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-04-12 07:12:11.029  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1744441931028 with initial instances count: 5
2025-04-12 07:12:11.054  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ORDERSERVICE with eureka with status UP
2025-04-12 07:12:11.057  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744441931057, current=UP, previous=STARTING]
2025-04-12 07:12:11.063  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/3d388b2a7358:OrderService:9003: registering service...
2025-04-12 07:12:11.104  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9003 (http) with context path '/'
2025-04-12 07:12:11.107  INFO [traceId=, spanId=] 1 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9003
2025-04-12 07:12:11.119  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [rabbitmq:5672]
2025-04-12 07:12:11.186  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/3d388b2a7358:OrderService:9003 - registration status: 204
2025-04-12 07:12:11.291  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#70d259a5:0/SimpleConnection@678f7a91 [delegate=amqp://guest@172.19.0.4:5672/, localPort=53432]
2025-04-12 07:12:11.584  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Started OrderServiceApplication in 77.765 seconds (process running for 86.151)
2025-04-12 07:12:12.025  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
2025-04-12 07:12:12.030  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Dropped 2 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused)

org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:925)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:840)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:701)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender.postSpans(ZipkinRestTemplateSender.java:50)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:69)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:41)
	at zipkin2.reporter.BaseHttpSender.send(BaseHttpSender.java:123)
	at zipkin2.reporter.internal.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:266)
	at zipkin2.reporter.internal.AsyncReporter$Flusher.run(AsyncReporter.java:352)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:899)
	... 9 common frames omitted

2025-04-12 07:12:16.092  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-12 07:12:16.095  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-12 07:12:16.125  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 9 ms
2025-04-12 07:17:10.539  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 07:21:38.689  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ORDERSERVICE with eureka with status DOWN
2025-04-12 07:21:38.695  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744442498695, current=DOWN, previous=UP]
2025-04-12 07:21:38.705  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/3d388b2a7358:OrderService:9003: registering service...
2025-04-12 07:21:38.751  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/3d388b2a7358:OrderService:9003 - registration status: 204
2025-04-12 07:21:38.773  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-12 07:21:38.784  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-12 07:21:39.607  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-12 07:21:39.621  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-12 07:21:39.634  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-12 07:21:39.647  INFO [traceId=, spanId=] 1 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-12 07:21:40.846  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 07:21:40.874  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-12 07:21:40.883  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-12 07:21:41.217  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-04-12 07:21:44.220  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-04-12 07:21:44.240  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/3d388b2a7358:OrderService:9003 - deregister  status: 200
2025-04-12 07:21:44.243  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-04-12 07:24:46.985  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Starting OrderServiceApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 1 (/app/OrderService.jar started by root in /app)
2025-04-12 07:24:47.095 DEBUG [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-04-12 07:24:47.107  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : No active profile set, falling back to 1 default profile: "default"
2025-04-12 07:24:47.795  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-12 07:24:47.840  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=application, profiles=[default], label=null, version=9261a4efe8f68087092a640220bd3f5f9a67a0aa, state=
2025-04-12 07:24:47.860  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-12 07:24:47.880  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=OrderService, profiles=[default], label=null, version=9261a4efe8f68087092a640220bd3f5f9a67a0aa, state=
2025-04-12 07:25:02.120  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-12 07:25:02.136  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-12 07:25:03.100  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 878 ms. Found 2 JPA repository interfaces.
2025-04-12 07:25:03.233  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-12 07:25:03.259  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-04-12 07:25:03.330  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderDetailRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-12 07:25:03.336  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-12 07:25:03.340  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 26 ms. Found 0 Redis repository interfaces.
2025-04-12 07:25:06.720  INFO [traceId=, spanId=] 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=90b70314-821f-37c8-94e4-137079bd6dbe
2025-04-12 07:25:13.173  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9003 (http)
2025-04-12 07:25:13.272  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-12 07:25:13.276  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-12 07:25:13.478  INFO [traceId=, spanId=] 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-12 07:25:13.484  INFO [traceId=, spanId=] 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 25558 ms
2025-04-12 07:25:20.822  INFO [traceId=, spanId=] 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-12 07:25:21.332  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-12 07:25:21.609  INFO [traceId=, spanId=] 1 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-12 07:25:23.359  INFO [traceId=, spanId=] 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-12 07:25:23.554  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-12 07:25:24.596  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 6a20fc4a-0680-4202-819c-9b6d42e3e10b
2025-04-12 07:25:24.608  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-12 07:25:24.908  WARN [traceId=, spanId=] 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-12 07:25:25.051  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-12 07:25:30.604  INFO [traceId=, spanId=] 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-12 07:25:32.473  INFO [traceId=, spanId=] 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 07:25:36.931  WARN [traceId=, spanId=] 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-12 07:25:40.078  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'InventoryService' URL not provided. Will try picking an instance via load-balancing.
2025-04-12 07:25:42.933  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'UserService' URL not provided. Will try picking an instance via load-balancing.
2025-04-12 07:25:59.269  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Connecting to localhost with guest user, assuming development environment
2025-04-12 07:25:59.272  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Using address resolver to always connect to localhost
2025-04-12 07:26:03.882  INFO [traceId=, spanId=] 1 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-04-12 07:26:05.303  WARN [traceId=, spanId=] 1 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-04-12 07:26:05.597  INFO [traceId=, spanId=] 1 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoints beneath base path '/actuator'
2025-04-12 07:26:06.295  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-04-12 07:26:06.508  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-04-12 07:26:06.533  INFO [traceId=, spanId=] 1 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 07:26:06.590  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-04-12 07:26:06.592  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-04-12 07:26:06.595  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-04-12 07:26:06.597  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-04-12 07:26:06.599  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-04-12 07:26:06.602  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-04-12 07:26:06.605  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-04-12 07:26:07.186  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-04-12 07:26:07.193  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-04-12 07:26:07.201  INFO [traceId=, spanId=] 1 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-04-12 07:26:07.207  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1744442767206 with initial instances count: 6
2025-04-12 07:26:07.234  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ORDERSERVICE with eureka with status UP
2025-04-12 07:26:07.238  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744442767238, current=UP, previous=STARTING]
2025-04-12 07:26:07.244  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/c078b6e981e5:OrderService:9003: registering service...
2025-04-12 07:26:07.285  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9003 (http) with context path '/'
2025-04-12 07:26:07.289  INFO [traceId=, spanId=] 1 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9003
2025-04-12 07:26:07.302  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [rabbitmq:5672]
2025-04-12 07:26:07.364  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/c078b6e981e5:OrderService:9003 - registration status: 204
2025-04-12 07:26:07.489  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#b41c538:0/SimpleConnection@74ec23fc [delegate=amqp://guest@172.19.0.4:5672/, localPort=53418]
2025-04-12 07:26:07.783  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Started OrderServiceApplication in 95.32 seconds (process running for 101.248)
2025-04-12 07:26:08.196  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
2025-04-12 07:26:08.199  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Dropped 2 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused)

org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:925)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:840)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:701)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender.postSpans(ZipkinRestTemplateSender.java:50)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:69)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:41)
	at zipkin2.reporter.BaseHttpSender.send(BaseHttpSender.java:123)
	at zipkin2.reporter.internal.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:266)
	at zipkin2.reporter.internal.AsyncReporter$Flusher.run(AsyncReporter.java:352)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:899)
	... 9 common frames omitted

2025-04-12 07:26:27.161  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-12 07:26:27.164  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-12 07:26:27.180  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 14 ms
2025-04-12 07:31:06.592  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 07:33:33.936  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ORDERSERVICE with eureka with status DOWN
2025-04-12 07:33:33.940  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744443213940, current=DOWN, previous=UP]
2025-04-12 07:33:33.943  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/c078b6e981e5:OrderService:9003: registering service...
2025-04-12 07:33:33.981  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/c078b6e981e5:OrderService:9003 - registration status: 204
2025-04-12 07:33:34.108  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-12 07:33:34.111  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-12 07:33:34.799  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-12 07:33:34.812  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-12 07:33:34.823  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-12 07:33:34.836  INFO [traceId=, spanId=] 1 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-12 07:33:36.016  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 07:33:36.045  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-12 07:33:36.059  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-12 07:33:36.351  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-04-12 07:33:39.353  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-04-12 07:33:39.354  WARN [traceId=, spanId=] 1 --- [DiscoveryClient-%d] c.netflix.discovery.TimedSupervisorTask  : task supervisor shutting down, can't accept the task
2025-04-12 07:33:39.377  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/c078b6e981e5:OrderService:9003 - deregister  status: 200
2025-04-12 07:33:39.380  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-04-12 07:38:29.199  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Starting OrderServiceApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 1 (/app/OrderService.jar started by root in /app)
2025-04-12 07:38:29.306 DEBUG [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-04-12 07:38:29.336  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : No active profile set, falling back to 1 default profile: "default"
2025-04-12 07:38:30.242  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-12 07:38:30.283  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=application, profiles=[default], label=null, version=9261a4efe8f68087092a640220bd3f5f9a67a0aa, state=
2025-04-12 07:38:30.313  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-12 07:38:30.324  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=OrderService, profiles=[default], label=null, version=9261a4efe8f68087092a640220bd3f5f9a67a0aa, state=
2025-04-12 07:38:49.841  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-12 07:38:49.877  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-12 07:38:51.733  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1731 ms. Found 2 JPA repository interfaces.
2025-04-12 07:38:51.946  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-12 07:38:51.956  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-04-12 07:38:52.105  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderDetailRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-12 07:38:52.124  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-12 07:38:52.141  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 79 ms. Found 0 Redis repository interfaces.
2025-04-12 07:38:56.949  INFO [traceId=, spanId=] 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=90b70314-821f-37c8-94e4-137079bd6dbe
2025-04-12 07:39:07.728  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9003 (http)
2025-04-12 07:39:07.883  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-12 07:39:07.912  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-12 07:39:08.321  INFO [traceId=, spanId=] 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-12 07:39:08.326  INFO [traceId=, spanId=] 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 37962 ms
2025-04-12 07:39:16.472  INFO [traceId=, spanId=] 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-12 07:39:17.358  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-12 07:39:17.799  INFO [traceId=, spanId=] 1 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-12 07:39:20.584  INFO [traceId=, spanId=] 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-12 07:39:20.870  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-12 07:39:22.221  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 0c80b672-0061-4c4c-8ca6-8edb557a2075
2025-04-12 07:39:22.242  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-12 07:39:22.684  WARN [traceId=, spanId=] 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-12 07:39:23.027  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-12 07:39:30.412  INFO [traceId=, spanId=] 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-12 07:39:32.661  INFO [traceId=, spanId=] 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 07:39:37.914  WARN [traceId=, spanId=] 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-12 07:39:39.423  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'InventoryService' URL not provided. Will try picking an instance via load-balancing.
2025-04-12 07:39:41.134  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'UserService' URL not provided. Will try picking an instance via load-balancing.
2025-04-12 07:40:01.288  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Connecting to localhost with guest user, assuming development environment
2025-04-12 07:40:01.291  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Using address resolver to always connect to localhost
2025-04-12 07:40:07.864  INFO [traceId=, spanId=] 1 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-04-12 07:40:08.579  WARN [traceId=, spanId=] 1 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-04-12 07:40:08.786  INFO [traceId=, spanId=] 1 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoints beneath base path '/actuator'
2025-04-12 07:40:09.399  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-04-12 07:40:09.563  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-04-12 07:40:09.593  INFO [traceId=, spanId=] 1 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 07:40:09.652  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-04-12 07:40:09.654  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-04-12 07:40:09.657  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-04-12 07:40:09.659  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-04-12 07:40:09.661  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-04-12 07:40:09.664  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-04-12 07:40:09.666  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-04-12 07:40:10.767  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-04-12 07:40:10.782  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-04-12 07:40:10.793  INFO [traceId=, spanId=] 1 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-04-12 07:40:10.806  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1744443610805 with initial instances count: 5
2025-04-12 07:40:10.861  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ORDERSERVICE with eureka with status UP
2025-04-12 07:40:10.867  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744443610867, current=UP, previous=STARTING]
2025-04-12 07:40:10.876  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/fdac2df2106c:OrderService:9003: registering service...
2025-04-12 07:40:10.973  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9003 (http) with context path '/'
2025-04-12 07:40:10.982  INFO [traceId=, spanId=] 1 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9003
2025-04-12 07:40:11.019  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [rabbitmq:5672]
2025-04-12 07:40:11.165  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/fdac2df2106c:OrderService:9003 - registration status: 204
2025-04-12 07:40:11.493  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#2495bc30:0/SimpleConnection@2aa31739 [delegate=amqp://guest@172.19.0.4:5672/, localPort=39666]
2025-04-12 07:40:11.783  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
2025-04-12 07:40:11.785  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Dropped 2 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused)

org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:925)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:840)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:701)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender.postSpans(ZipkinRestTemplateSender.java:50)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:69)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:41)
	at zipkin2.reporter.BaseHttpSender.send(BaseHttpSender.java:123)
	at zipkin2.reporter.internal.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:266)
	at zipkin2.reporter.internal.AsyncReporter$Flusher.run(AsyncReporter.java:352)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:899)
	... 9 common frames omitted

2025-04-12 07:40:11.944  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Started OrderServiceApplication in 120.773 seconds (process running for 127.948)
2025-04-12 07:40:35.625  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-12 07:40:35.630  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-12 07:40:35.656  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 21 ms
2025-04-12 07:45:09.656  INFO [traceId=, spanId=] 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 07:48:28.105  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ORDERSERVICE with eureka with status DOWN
2025-04-12 07:48:28.115  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744444108115, current=DOWN, previous=UP]
2025-04-12 07:48:28.130  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/fdac2df2106c:OrderService:9003: registering service...
2025-04-12 07:48:28.165  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/fdac2df2106c:OrderService:9003 - registration status: 204
2025-04-12 07:48:28.186  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-12 07:48:28.219  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-12 07:48:28.952  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-12 07:48:28.972  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-12 07:48:28.980  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-12 07:48:28.989  INFO [traceId=, spanId=] 1 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-12 07:48:30.100  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 07:48:30.116  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-12 07:48:30.122  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-12 07:48:30.949  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-04-12 07:48:33.951  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-04-12 07:48:33.962  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/fdac2df2106c:OrderService:9003 - deregister  status: 200
2025-04-12 07:48:33.964  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-04-12 07:51:35.853  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Starting OrderServiceApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 1 (/app/OrderService.jar started by root in /app)
2025-04-12 07:51:35.905 DEBUG [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-04-12 07:51:35.921  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : No active profile set, falling back to 1 default profile: "default"
2025-04-12 07:51:36.523  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-12 07:51:36.525  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=application, profiles=[default], label=null, version=9261a4efe8f68087092a640220bd3f5f9a67a0aa, state=
2025-04-12 07:51:36.530  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-04-12 07:51:36.602  INFO [traceId=, spanId=] 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=OrderService, profiles=[default], label=null, version=9261a4efe8f68087092a640220bd3f5f9a67a0aa, state=
2025-04-12 07:51:53.933  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-12 07:51:53.953  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-12 07:51:55.333  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1295 ms. Found 2 JPA repository interfaces.
2025-04-12 07:51:55.514  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-12 07:51:55.533  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-04-12 07:51:55.669  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderDetailRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-12 07:51:55.677  INFO [traceId=, spanId=] 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface iuh.fit.se.orderservice.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-04-12 07:51:55.685  INFO [traceId=, spanId=] 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 50 ms. Found 0 Redis repository interfaces.
2025-04-12 07:51:59.868  INFO [traceId=, spanId=] 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=90b70314-821f-37c8-94e4-137079bd6dbe
2025-04-12 07:52:08.055  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9003 (http)
2025-04-12 07:52:08.134  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-12 07:52:08.147  INFO [traceId=, spanId=] 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-12 07:52:08.399  INFO [traceId=, spanId=] 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-12 07:52:08.403  INFO [traceId=, spanId=] 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 31773 ms
2025-04-12 07:52:14.143  INFO [traceId=, spanId=] 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-12 07:52:14.781  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-12 07:52:15.026  INFO [traceId=, spanId=] 1 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-12 07:52:17.067  INFO [traceId=, spanId=] 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-12 07:52:17.304  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-12 07:52:18.264  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 1383978b-d32f-4258-ba7d-c8187d67cc41
2025-04-12 07:52:18.277  INFO [traceId=, spanId=] 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-12 07:52:18.509  WARN [traceId=, spanId=] 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-12 07:52:18.686  INFO [traceId=, spanId=] 1 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-12 07:52:24.002  INFO [traceId=, spanId=] 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-12 07:52:25.753  INFO [traceId=, spanId=] 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 07:52:28.709  WARN [traceId=, spanId=] 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-12 07:52:29.555  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'InventoryService' URL not provided. Will try picking an instance via load-balancing.
2025-04-12 07:52:31.360  INFO [traceId=, spanId=] 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'UserService' URL not provided. Will try picking an instance via load-balancing.
2025-04-12 07:52:45.480  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Connecting to localhost with guest user, assuming development environment
2025-04-12 07:52:45.483  INFO [traceId=, spanId=] 1 --- [main] c.r.stream.impl.StreamEnvironment        : Using address resolver to always connect to localhost
2025-04-12 07:52:48.353  INFO [traceId=, spanId=] 1 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-04-12 07:52:48.594  WARN [traceId=, spanId=] 1 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-04-12 07:52:48.688  INFO [traceId=, spanId=] 1 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoints beneath base path '/actuator'
2025-04-12 07:52:49.031  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-04-12 07:52:49.119  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-04-12 07:52:49.133  INFO [traceId=, spanId=] 1 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-04-12 07:52:49.167  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-04-12 07:52:49.169  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-04-12 07:52:49.170  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-04-12 07:52:49.172  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-04-12 07:52:49.174  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-04-12 07:52:49.177  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-04-12 07:52:49.179  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-04-12 07:52:49.660  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-04-12 07:52:49.671  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-04-12 07:52:49.686  INFO [traceId=, spanId=] 1 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-04-12 07:52:49.695  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1744444369693 with initial instances count: 5
2025-04-12 07:52:49.736  INFO [traceId=, spanId=] 1 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ORDERSERVICE with eureka with status UP
2025-04-12 07:52:49.742  INFO [traceId=, spanId=] 1 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744444369742, current=UP, previous=STARTING]
2025-04-12 07:52:49.749  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/2b271a4a99cc:OrderService:9003: registering service...
2025-04-12 07:52:49.819  INFO [traceId=, spanId=] 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9003 (http) with context path '/'
2025-04-12 07:52:49.822  INFO [traceId=, spanId=] 1 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9003
2025-04-12 07:52:49.841  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [rabbitmq:5672]
2025-04-12 07:52:49.905  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/2b271a4a99cc:OrderService:9003 - registration status: 204
2025-04-12 07:52:50.054  INFO [traceId=, spanId=] 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#6b41df80:0/SimpleConnection@7cfb8bf0 [delegate=amqp://guest@172.19.0.4:5672/, localPort=48326]
2025-04-12 07:52:50.354  INFO [traceId=, spanId=] 1 --- [main] i.f.s.o.OrderServiceApplication          : Started OrderServiceApplication in 91.071 seconds (process running for 96.774)
2025-04-12 07:52:50.666  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
2025-04-12 07:52:50.669  WARN [traceId=, spanId=] 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Dropped 2 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused)

org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:925)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:840)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:701)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender.postSpans(ZipkinRestTemplateSender.java:50)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:69)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:41)
	at zipkin2.reporter.BaseHttpSender.send(BaseHttpSender.java:123)
	at zipkin2.reporter.internal.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:266)
	at zipkin2.reporter.internal.AsyncReporter$Flusher.run(AsyncReporter.java:352)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:899)
	... 9 common frames omitted

2025-04-12 07:53:14.418  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-12 07:53:14.422  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-12 07:53:14.447  INFO [traceId=, spanId=] 1 --- [http-nio-9003-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 18 ms
2025-04-12 07:53:43.286  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ORDERSERVICE with eureka with status DOWN
2025-04-12 07:53:43.306  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1744444423306, current=DOWN, previous=UP]
2025-04-12 07:53:43.318  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/2b271a4a99cc:OrderService:9003: registering service...
2025-04-12 07:53:43.364  INFO [traceId=, spanId=] 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/2b271a4a99cc:OrderService:9003 - registration status: 204
2025-04-12 07:53:43.379  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-12 07:53:43.400  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-04-12 07:53:44.323  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-12 07:53:44.336  INFO [traceId=, spanId=] 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-04-12 07:53:44.343  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-12 07:53:44.353  INFO [traceId=, spanId=] 1 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-12 07:53:45.493  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 07:53:45.499  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-12 07:53:45.507  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-12 07:53:45.712  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-04-12 07:53:48.714  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-04-12 07:53:48.724  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDERSERVICE/2b271a4a99cc:OrderService:9003 - deregister  status: 200
2025-04-12 07:53:48.726  INFO [traceId=, spanId=] 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
