2025-05-18 03:18:29.753  INFO 1 --- [main] i.f.s.u.UserServiceApplication           : Starting UserServiceApplication v0.0.1-SNAPSHOT using Java 17.0.15 with PID 1 (/app/UserService.jar started by root in /app)
2025-05-18 03:18:29.858 DEBUG 1 --- [main] i.f.s.u.UserServiceApplication           : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-05-18 03:18:29.867  INFO 1 --- [main] i.f.s.u.UserServiceApplication           : The following 1 profile is active: "dev"
2025-05-18 03:18:30.302  INFO 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-05-18 03:18:30.306  INFO 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=application, profiles=[default], label=null, version=1acc8d8659fd96ed52844c8881c260bdb5135241, state=
2025-05-18 03:18:30.309  INFO 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-05-18 03:18:30.312  INFO 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=UserService, profiles=[default], label=null, version=1acc8d8659fd96ed52844c8881c260bdb5135241, state=
2025-05-18 03:18:30.316  INFO 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-05-18 03:18:30.319  INFO 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=UserService, profiles=[dev], label=null, version=1acc8d8659fd96ed52844c8881c260bdb5135241, state=
2025-05-18 03:18:40.123  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-18 03:18:40.837  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 647 ms. Found 7 JPA repository interfaces.
2025-05-18 03:18:43.643  INFO 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=c20ead94-0c4d-3146-a6d3-24d8d193d639
2025-05-18 03:18:47.078  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9001 (http)
2025-05-18 03:18:47.129  INFO 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-18 03:18:47.134  INFO 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-05-18 03:18:47.296  INFO 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-18 03:18:47.299  INFO 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 16971 ms
2025-05-18 03:18:51.194  INFO 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-18 03:18:51.554  INFO 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-05-18 03:18:51.792  INFO 1 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-18 03:18:53.370  INFO 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-18 03:18:53.573  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-18 03:18:54.333  INFO 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 2b4dba12-4a34-4747-9218-4b769445fbcf
2025-05-18 03:18:54.343  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-18 03:18:54.551  WARN 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-18 03:18:54.664  INFO 1 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-18 03:19:00.870  INFO 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-18 03:19:01.934 DEBUG 1 --- [main] org.hibernate.SQL                        : alter table blacklisted_tokens alter column token NVARCHAR(1000)
2025-05-18 03:19:04.249  INFO 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-18 03:19:07.221  INFO 1 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-18 03:19:10.987  WARN 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-18 03:19:11.867  INFO 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'OrderService' URL not provided. Will try picking an instance via load-balancing.
2025-05-18 03:19:13.380  INFO 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'NotificationService' URL not provided. Will try picking an instance via load-balancing.
2025-05-18 03:19:14.119  INFO 1 --- [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2025-05-18 03:19:18.307  INFO 1 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoints beneath base path '/actuator'
2025-05-18 03:19:19.852  WARN 1 --- [main] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-18 03:19:24.021  INFO 1 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-05-18 03:19:24.305  WARN 1 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-05-18 03:19:24.586  INFO 1 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-05-18 03:19:24.654  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-05-18 03:19:24.662  INFO 1 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-18 03:19:24.679  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-05-18 03:19:24.680  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-05-18 03:19:24.682  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-05-18 03:19:24.683  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-05-18 03:19:24.684  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-05-18 03:19:24.685  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-05-18 03:19:24.686  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-05-18 03:19:25.173  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-05-18 03:19:25.182  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-05-18 03:19:25.191  INFO 1 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-05-18 03:19:25.198  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1747538365197 with initial instances count: 3
2025-05-18 03:19:25.231  INFO 1 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application USERSERVICE with eureka with status UP
2025-05-18 03:19:25.234  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1747538365234, current=UP, previous=STARTING]
2025-05-18 03:19:25.239  INFO 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_USERSERVICE/2129aaab2215:UserService:9001: registering service...
2025-05-18 03:19:25.291  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9001 (http) with context path '/'
2025-05-18 03:19:25.295  INFO 1 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9001
2025-05-18 03:19:25.335  INFO 1 --- [main] i.f.s.u.UserServiceApplication           : Started UserServiceApplication in 69.753 seconds (process running for 73.059)
2025-05-18 03:19:25.342  INFO 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_USERSERVICE/2129aaab2215:UserService:9001 - registration status: 204
2025-05-18 03:19:26.176  WARN 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
2025-05-18 03:19:26.179  WARN 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Dropped 2 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused)

org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:925)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:840)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:701)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender.postSpans(ZipkinRestTemplateSender.java:50)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:69)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:41)
	at zipkin2.reporter.BaseHttpSender.send(BaseHttpSender.java:123)
	at zipkin2.reporter.internal.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:266)
	at zipkin2.reporter.internal.AsyncReporter$Flusher.run(AsyncReporter.java:352)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:547)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:602)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:899)
	... 9 common frames omitted

2025-05-18 03:19:42.585  INFO 1 --- [http-nio-9001-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-18 03:19:42.587  INFO 1 --- [http-nio-9001-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-18 03:19:42.597  INFO 1 --- [http-nio-9001-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 8 ms
2025-05-18 03:23:01.382  INFO 1 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application USERSERVICE with eureka with status DOWN
2025-05-18 03:23:01.386  INFO 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1747538581386, current=DOWN, previous=UP]
2025-05-18 03:23:01.389  INFO 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_USERSERVICE/2129aaab2215:UserService:9001: registering service...
2025-05-18 03:23:01.428  INFO 1 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-05-18 03:23:01.434  INFO 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_USERSERVICE/2129aaab2215:UserService:9001 - registration status: 204
2025-05-18 03:23:01.441  INFO 1 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-05-18 03:23:01.500  INFO 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-18 03:23:01.509  INFO 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-18 03:23:01.521  INFO 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-18 03:23:02.283  INFO 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-05-18 03:23:05.286  INFO 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-05-18 03:23:05.304  INFO 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_USERSERVICE/2129aaab2215:UserService:9001 - deregister  status: 200
2025-05-18 03:23:05.307  INFO 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-05-18 03:25:56.891  INFO 1 --- [main] i.f.s.u.UserServiceApplication           : Starting UserServiceApplication v0.0.1-SNAPSHOT using Java 17.0.15 with PID 1 (/app/UserService.jar started by root in /app)
2025-05-18 03:25:56.943 DEBUG 1 --- [main] i.f.s.u.UserServiceApplication           : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-05-18 03:25:56.957  INFO 1 --- [main] i.f.s.u.UserServiceApplication           : The following 1 profile is active: "dev"
2025-05-18 03:25:57.269  INFO 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-05-18 03:25:57.282  INFO 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=application, profiles=[default], label=null, version=1acc8d8659fd96ed52844c8881c260bdb5135241, state=
2025-05-18 03:25:57.287  INFO 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-05-18 03:25:57.294  INFO 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=UserService, profiles=[default], label=null, version=1acc8d8659fd96ed52844c8881c260bdb5135241, state=
2025-05-18 03:25:57.298  INFO 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-05-18 03:25:57.305  INFO 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=UserService, profiles=[dev], label=null, version=1acc8d8659fd96ed52844c8881c260bdb5135241, state=
2025-05-18 03:26:08.241  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-18 03:26:09.182  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 886 ms. Found 7 JPA repository interfaces.
2025-05-18 03:26:11.808  INFO 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=c20ead94-0c4d-3146-a6d3-24d8d193d639
2025-05-18 03:26:16.392  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9001 (http)
2025-05-18 03:26:16.454  INFO 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-18 03:26:16.457  INFO 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-05-18 03:26:16.738  INFO 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-18 03:26:16.744  INFO 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 19419 ms
2025-05-18 03:26:21.771  INFO 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-18 03:26:22.191  INFO 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-05-18 03:26:22.499  INFO 1 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-18 03:26:24.048  INFO 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-18 03:26:24.217  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-18 03:26:24.798  INFO 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 396947c2-ced4-4417-909c-e3516101c426
2025-05-18 03:26:24.808  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-18 03:26:25.001  WARN 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-18 03:26:25.117  INFO 1 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-18 03:26:30.513  INFO 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-18 03:26:31.146 DEBUG 1 --- [main] org.hibernate.SQL                        : alter table blacklisted_tokens alter column token NVARCHAR(1000)
2025-05-18 03:26:31.621  INFO 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-18 03:26:34.299  INFO 1 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-18 03:26:38.387  WARN 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-18 03:26:39.103  INFO 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'OrderService' URL not provided. Will try picking an instance via load-balancing.
2025-05-18 03:26:40.210  INFO 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'NotificationService' URL not provided. Will try picking an instance via load-balancing.
2025-05-18 03:26:40.773  INFO 1 --- [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2025-05-18 03:26:44.674  INFO 1 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoints beneath base path '/actuator'
2025-05-18 03:26:46.454  WARN 1 --- [main] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-18 03:26:50.230  INFO 1 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-05-18 03:26:50.458  WARN 1 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-05-18 03:26:50.673  INFO 1 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-05-18 03:26:50.731  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-05-18 03:26:50.740  INFO 1 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-18 03:26:50.761  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-05-18 03:26:50.762  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-05-18 03:26:50.764  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-05-18 03:26:50.765  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-05-18 03:26:50.767  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-05-18 03:26:50.768  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-05-18 03:26:50.769  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-05-18 03:26:51.177  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-05-18 03:26:51.184  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-05-18 03:26:51.189  INFO 1 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-05-18 03:26:51.194  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1747538811193 with initial instances count: 3
2025-05-18 03:26:51.216  INFO 1 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application USERSERVICE with eureka with status UP
2025-05-18 03:26:51.218  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1747538811218, current=UP, previous=STARTING]
2025-05-18 03:26:51.223  INFO 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_USERSERVICE/8f744336114e:UserService:9001: registering service...
2025-05-18 03:26:51.266  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9001 (http) with context path '/'
2025-05-18 03:26:51.268  INFO 1 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9001
2025-05-18 03:26:51.299  INFO 1 --- [main] i.f.s.u.UserServiceApplication           : Started UserServiceApplication in 72.24 seconds (process running for 76.936)
2025-05-18 03:26:51.304  INFO 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_USERSERVICE/8f744336114e:UserService:9001 - registration status: 204
2025-05-18 03:26:52.184  WARN 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
2025-05-18 03:26:52.185  WARN 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Dropped 2 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused)

org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:925)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:840)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:701)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender.postSpans(ZipkinRestTemplateSender.java:50)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:69)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:41)
	at zipkin2.reporter.BaseHttpSender.send(BaseHttpSender.java:123)
	at zipkin2.reporter.internal.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:266)
	at zipkin2.reporter.internal.AsyncReporter$Flusher.run(AsyncReporter.java:352)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:547)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:602)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:899)
	... 9 common frames omitted

2025-05-18 03:27:04.908  INFO 1 --- [http-nio-9001-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-18 03:27:04.911  INFO 1 --- [http-nio-9001-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-18 03:27:04.927  INFO 1 --- [http-nio-9001-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 14 ms
2025-05-18 03:29:57.410  INFO 1 --- [http-nio-9001-exec-7] i.f.s.u.s.i.AuthenticationServiceImpl    : Login with username: minhduc@gmail.com
2025-05-18 03:29:57.650 DEBUG 1 --- [http-nio-9001-exec-7] org.hibernate.SQL                        : select a1_0.id,a1_0.created_at,a1_0.email,a1_0.password,a1_0.refresh_token,a1_0.updated_at from accounts a1_0 where a1_0.email=?
2025-05-18 03:29:57.726 DEBUG 1 --- [http-nio-9001-exec-7] org.hibernate.SQL                        : select c1_0.id,c1_0.account_id,a1_0.id,a1_0.created_at,a1_0.email,a1_0.password,a1_0.refresh_token,su1_0.id,su1_0.account_id,su1_0.address,su1_0.avatar,su1_0.created_at,su1_0.gender,su1_0.level,su1_0.name,su1_0.phone,su1_0.system_user_status,su1_0.updated_at,a1_0.updated_at,c1_0.avatar,c1_0.created_at,c1_0.date_of_birth,c1_0.gender,c1_0.name,c1_0.phone,c1_0.updated_at,c1_0.user_status from customers c1_0 join accounts a1_0 on a1_0.id=c1_0.account_id left join system_users su1_0 on a1_0.id=su1_0.account_id where c1_0.account_id=?
2025-05-18 03:29:57.761 DEBUG 1 --- [http-nio-9001-exec-7] org.hibernate.SQL                        : select su1_0.id,su1_0.account_id,a1_0.id,a1_0.created_at,c1_0.id,c1_0.account_id,c1_0.avatar,c1_0.created_at,c1_0.date_of_birth,c1_0.gender,c1_0.name,c1_0.phone,c1_0.updated_at,c1_0.user_status,a1_0.email,a1_0.password,a1_0.refresh_token,a1_0.updated_at,su1_0.address,su1_0.avatar,su1_0.created_at,su1_0.gender,su1_0.level,su1_0.name,su1_0.phone,su1_0.system_user_status,su1_0.updated_at from system_users su1_0 join accounts a1_0 on a1_0.id=su1_0.account_id left join customers c1_0 on a1_0.id=c1_0.account_id where su1_0.account_id=?
2025-05-18 03:29:57.805 DEBUG 1 --- [http-nio-9001-exec-7] org.hibernate.SQL                        : select r1_0.account_id,r1_1.id,r1_1.active,r1_1.created_at,r1_1.description,r1_1.name,r1_1.updated_at from account_role r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.account_id=?
2025-05-18 03:29:57.887 DEBUG 1 --- [http-nio-9001-exec-7] org.hibernate.SQL                        : select a1_0.id,a1_0.created_at,a1_0.email,a1_0.password,a1_0.refresh_token,a1_0.updated_at from accounts a1_0 where a1_0.email=?
2025-05-18 03:29:58.031 DEBUG 1 --- [http-nio-9001-exec-7] org.hibernate.SQL                        : select a1_0.id,a1_0.created_at,a1_0.email,a1_0.password,a1_0.refresh_token,a1_0.updated_at from accounts a1_0 where a1_0.email=?
2025-05-18 03:29:58.133 DEBUG 1 --- [http-nio-9001-exec-7] org.hibernate.SQL                        : update accounts set created_at=?,email=?,password=?,refresh_token=?,updated_at=? where id=?
2025-05-18 03:30:15.880 DEBUG 1 --- [http-nio-9001-exec-9] org.hibernate.SQL                        : select top (?) bt1_0.id from blacklisted_tokens bt1_0 where bt1_0.token=?
2025-05-18 03:30:15.912 DEBUG 1 --- [http-nio-9001-exec-9] org.hibernate.SQL                        : select top (?) bt1_0.id from blacklisted_tokens bt1_0 where bt1_0.token=?
2025-05-18 03:30:15.927  INFO 1 --- [http-nio-9001-exec-9] i.f.s.u.controller.AuthController        : Received token [78d9c68a-4915-4721-902f-a64b634118a9]: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJtaW5oZHVjQGdtYWlsLmNvbSIsInBlcm1pc3Npb24iOlsiUk9MRV9VU0VSX0NSRUFURSIsIlJPTEVfVVNFUl9VUERBVEUiXSwiZXhwIjoxNzU2MTc4OTk3LCJpYXQiOjE3NDc1Mzg5OTcsInVzZXIiOnsiaWQiOiIzNWM1ZTM1ZC0zZjJmLTQ4YzMtOTBkMS03YjM1YzI0Y2JkZjAiLCJlbWFpbCI6Im1pbmhkdWNAZ21haWwuY29tIn19.egJ0tjjaPJtpc_EHPxsZfm6-9QZL8PA_GFmY9tG3YnGsiQMKxXHM9o055MWuqezdAerVNSvw1DgtcIaqXAbU2w
2025-05-18 03:30:15.935 DEBUG 1 --- [http-nio-9001-exec-9] org.hibernate.SQL                        : select a1_0.id,a1_0.created_at,a1_0.email,a1_0.password,a1_0.refresh_token,a1_0.updated_at from accounts a1_0 where a1_0.email=?
2025-05-18 03:30:15.945 DEBUG 1 --- [http-nio-9001-exec-9] org.hibernate.SQL                        : select c1_0.id,c1_0.account_id,a1_0.id,a1_0.created_at,a1_0.email,a1_0.password,a1_0.refresh_token,su1_0.id,su1_0.account_id,su1_0.address,su1_0.avatar,su1_0.created_at,su1_0.gender,su1_0.level,su1_0.name,su1_0.phone,su1_0.system_user_status,su1_0.updated_at,a1_0.updated_at,c1_0.avatar,c1_0.created_at,c1_0.date_of_birth,c1_0.gender,c1_0.name,c1_0.phone,c1_0.updated_at,c1_0.user_status from customers c1_0 join accounts a1_0 on a1_0.id=c1_0.account_id left join system_users su1_0 on a1_0.id=su1_0.account_id where c1_0.account_id=?
2025-05-18 03:30:15.960 DEBUG 1 --- [http-nio-9001-exec-9] org.hibernate.SQL                        : select su1_0.id,su1_0.account_id,a1_0.id,a1_0.created_at,c1_0.id,c1_0.account_id,c1_0.avatar,c1_0.created_at,c1_0.date_of_birth,c1_0.gender,c1_0.name,c1_0.phone,c1_0.updated_at,c1_0.user_status,a1_0.email,a1_0.password,a1_0.refresh_token,a1_0.updated_at,su1_0.address,su1_0.avatar,su1_0.created_at,su1_0.gender,su1_0.level,su1_0.name,su1_0.phone,su1_0.system_user_status,su1_0.updated_at from system_users su1_0 join accounts a1_0 on a1_0.id=su1_0.account_id left join customers c1_0 on a1_0.id=c1_0.account_id where su1_0.account_id=?
2025-05-18 03:30:15.969 DEBUG 1 --- [http-nio-9001-exec-9] org.hibernate.SQL                        : select r1_0.account_id,r1_1.id,r1_1.active,r1_1.created_at,r1_1.description,r1_1.name,r1_1.updated_at from account_role r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.account_id=?
2025-05-18 03:30:15.975 DEBUG 1 --- [http-nio-9001-exec-9] org.hibernate.SQL                        : select p1_0.role_id,p1_1.id,p1_1.api_path,p1_1.created_at,p1_1.created_by,p1_1.method,p1_1.module,p1_1.name,p1_1.updated_at,p1_1.updated_by from permission_role p1_0 join permissions p1_1 on p1_1.id=p1_0.permission_id where p1_0.role_id=?
2025-05-18 03:30:16.027  INFO 1 --- [http-nio-9001-exec-9] i.f.s.u.controller.AuthController        : Returning response [78d9c68a-4915-4721-902f-a64b634118a9]: iuh.fit.se.userservice.dto.response.DataResponse@42b762fd
2025-05-18 03:30:16.094 DEBUG 1 --- [http-nio-9001-exec-10] org.hibernate.SQL                        : select top (?) bt1_0.id from blacklisted_tokens bt1_0 where bt1_0.token=?
2025-05-18 03:30:16.104 DEBUG 1 --- [http-nio-9001-exec-10] org.hibernate.SQL                        : select top (?) bt1_0.id from blacklisted_tokens bt1_0 where bt1_0.token=?
2025-05-18 03:30:16.121 DEBUG 1 --- [http-nio-9001-exec-10] org.hibernate.SQL                        : select c1_0.id,c1_0.account_id,c1_0.avatar,c1_0.created_at,c1_0.date_of_birth,c1_0.gender,c1_0.name,c1_0.phone,c1_0.updated_at,c1_0.user_status from customers c1_0 join accounts a1_0 on a1_0.id=c1_0.account_id where a1_0.email like ?
2025-05-18 03:30:22.203 DEBUG 1 --- [http-nio-9001-exec-1] org.hibernate.SQL                        : select top (?) bt1_0.id from blacklisted_tokens bt1_0 where bt1_0.token=?
2025-05-18 03:30:22.215 DEBUG 1 --- [http-nio-9001-exec-1] org.hibernate.SQL                        : select top (?) bt1_0.id from blacklisted_tokens bt1_0 where bt1_0.token=?
2025-05-18 03:30:22.220  INFO 1 --- [http-nio-9001-exec-1] i.f.s.u.controller.AuthController        : Received token [595e0b1d-4e94-419b-9971-c6110b7363f3]: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJtaW5oZHVjQGdtYWlsLmNvbSIsInBlcm1pc3Npb24iOlsiUk9MRV9VU0VSX0NSRUFURSIsIlJPTEVfVVNFUl9VUERBVEUiXSwiZXhwIjoxNzU2MTc4OTk3LCJpYXQiOjE3NDc1Mzg5OTcsInVzZXIiOnsiaWQiOiIzNWM1ZTM1ZC0zZjJmLTQ4YzMtOTBkMS03YjM1YzI0Y2JkZjAiLCJlbWFpbCI6Im1pbmhkdWNAZ21haWwuY29tIn19.egJ0tjjaPJtpc_EHPxsZfm6-9QZL8PA_GFmY9tG3YnGsiQMKxXHM9o055MWuqezdAerVNSvw1DgtcIaqXAbU2w
2025-05-18 03:30:22.224 DEBUG 1 --- [http-nio-9001-exec-1] org.hibernate.SQL                        : select a1_0.id,a1_0.created_at,a1_0.email,a1_0.password,a1_0.refresh_token,a1_0.updated_at from accounts a1_0 where a1_0.email=?
2025-05-18 03:30:22.230 DEBUG 1 --- [http-nio-9001-exec-1] org.hibernate.SQL                        : select c1_0.id,c1_0.account_id,a1_0.id,a1_0.created_at,a1_0.email,a1_0.password,a1_0.refresh_token,su1_0.id,su1_0.account_id,su1_0.address,su1_0.avatar,su1_0.created_at,su1_0.gender,su1_0.level,su1_0.name,su1_0.phone,su1_0.system_user_status,su1_0.updated_at,a1_0.updated_at,c1_0.avatar,c1_0.created_at,c1_0.date_of_birth,c1_0.gender,c1_0.name,c1_0.phone,c1_0.updated_at,c1_0.user_status from customers c1_0 join accounts a1_0 on a1_0.id=c1_0.account_id left join system_users su1_0 on a1_0.id=su1_0.account_id where c1_0.account_id=?
2025-05-18 03:30:22.238 DEBUG 1 --- [http-nio-9001-exec-1] org.hibernate.SQL                        : select su1_0.id,su1_0.account_id,a1_0.id,a1_0.created_at,c1_0.id,c1_0.account_id,c1_0.avatar,c1_0.created_at,c1_0.date_of_birth,c1_0.gender,c1_0.name,c1_0.phone,c1_0.updated_at,c1_0.user_status,a1_0.email,a1_0.password,a1_0.refresh_token,a1_0.updated_at,su1_0.address,su1_0.avatar,su1_0.created_at,su1_0.gender,su1_0.level,su1_0.name,su1_0.phone,su1_0.system_user_status,su1_0.updated_at from system_users su1_0 join accounts a1_0 on a1_0.id=su1_0.account_id left join customers c1_0 on a1_0.id=c1_0.account_id where su1_0.account_id=?
2025-05-18 03:30:22.246 DEBUG 1 --- [http-nio-9001-exec-1] org.hibernate.SQL                        : select r1_0.account_id,r1_1.id,r1_1.active,r1_1.created_at,r1_1.description,r1_1.name,r1_1.updated_at from account_role r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.account_id=?
2025-05-18 03:30:22.252 DEBUG 1 --- [http-nio-9001-exec-1] org.hibernate.SQL                        : select p1_0.role_id,p1_1.id,p1_1.api_path,p1_1.created_at,p1_1.created_by,p1_1.method,p1_1.module,p1_1.name,p1_1.updated_at,p1_1.updated_by from permission_role p1_0 join permissions p1_1 on p1_1.id=p1_0.permission_id where p1_0.role_id=?
2025-05-18 03:30:22.279  INFO 1 --- [http-nio-9001-exec-1] i.f.s.u.controller.AuthController        : Returning response [595e0b1d-4e94-419b-9971-c6110b7363f3]: iuh.fit.se.userservice.dto.response.DataResponse@5f50f4e0
2025-05-18 03:30:22.299 DEBUG 1 --- [http-nio-9001-exec-2] org.hibernate.SQL                        : select top (?) bt1_0.id from blacklisted_tokens bt1_0 where bt1_0.token=?
2025-05-18 03:30:22.307 DEBUG 1 --- [http-nio-9001-exec-2] org.hibernate.SQL                        : select top (?) bt1_0.id from blacklisted_tokens bt1_0 where bt1_0.token=?
2025-05-18 03:30:22.313 DEBUG 1 --- [http-nio-9001-exec-2] org.hibernate.SQL                        : select c1_0.id,c1_0.account_id,c1_0.avatar,c1_0.created_at,c1_0.date_of_birth,c1_0.gender,c1_0.name,c1_0.phone,c1_0.updated_at,c1_0.user_status from customers c1_0 join accounts a1_0 on a1_0.id=c1_0.account_id where a1_0.email like ?
2025-05-18 03:30:25.242 DEBUG 1 --- [http-nio-9001-exec-3] org.hibernate.SQL                        : select top (?) bt1_0.id from blacklisted_tokens bt1_0 where bt1_0.token=?
2025-05-18 03:30:25.254 DEBUG 1 --- [http-nio-9001-exec-3] org.hibernate.SQL                        : select top (?) bt1_0.id from blacklisted_tokens bt1_0 where bt1_0.token=?
2025-05-18 03:30:25.261  INFO 1 --- [http-nio-9001-exec-3] i.f.s.u.controller.AuthController        : Received token [1e71b3c1-e326-42ba-96e3-9610f02a55b4]: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJtaW5oZHVjQGdtYWlsLmNvbSIsInBlcm1pc3Npb24iOlsiUk9MRV9VU0VSX0NSRUFURSIsIlJPTEVfVVNFUl9VUERBVEUiXSwiZXhwIjoxNzU2MTc4OTk3LCJpYXQiOjE3NDc1Mzg5OTcsInVzZXIiOnsiaWQiOiIzNWM1ZTM1ZC0zZjJmLTQ4YzMtOTBkMS03YjM1YzI0Y2JkZjAiLCJlbWFpbCI6Im1pbmhkdWNAZ21haWwuY29tIn19.egJ0tjjaPJtpc_EHPxsZfm6-9QZL8PA_GFmY9tG3YnGsiQMKxXHM9o055MWuqezdAerVNSvw1DgtcIaqXAbU2w
2025-05-18 03:30:25.266 DEBUG 1 --- [http-nio-9001-exec-3] org.hibernate.SQL                        : select a1_0.id,a1_0.created_at,a1_0.email,a1_0.password,a1_0.refresh_token,a1_0.updated_at from accounts a1_0 where a1_0.email=?
2025-05-18 03:30:25.272 DEBUG 1 --- [http-nio-9001-exec-3] org.hibernate.SQL                        : select c1_0.id,c1_0.account_id,a1_0.id,a1_0.created_at,a1_0.email,a1_0.password,a1_0.refresh_token,su1_0.id,su1_0.account_id,su1_0.address,su1_0.avatar,su1_0.created_at,su1_0.gender,su1_0.level,su1_0.name,su1_0.phone,su1_0.system_user_status,su1_0.updated_at,a1_0.updated_at,c1_0.avatar,c1_0.created_at,c1_0.date_of_birth,c1_0.gender,c1_0.name,c1_0.phone,c1_0.updated_at,c1_0.user_status from customers c1_0 join accounts a1_0 on a1_0.id=c1_0.account_id left join system_users su1_0 on a1_0.id=su1_0.account_id where c1_0.account_id=?
2025-05-18 03:30:25.281 DEBUG 1 --- [http-nio-9001-exec-3] org.hibernate.SQL                        : select su1_0.id,su1_0.account_id,a1_0.id,a1_0.created_at,c1_0.id,c1_0.account_id,c1_0.avatar,c1_0.created_at,c1_0.date_of_birth,c1_0.gender,c1_0.name,c1_0.phone,c1_0.updated_at,c1_0.user_status,a1_0.email,a1_0.password,a1_0.refresh_token,a1_0.updated_at,su1_0.address,su1_0.avatar,su1_0.created_at,su1_0.gender,su1_0.level,su1_0.name,su1_0.phone,su1_0.system_user_status,su1_0.updated_at from system_users su1_0 join accounts a1_0 on a1_0.id=su1_0.account_id left join customers c1_0 on a1_0.id=c1_0.account_id where su1_0.account_id=?
2025-05-18 03:30:25.292 DEBUG 1 --- [http-nio-9001-exec-3] org.hibernate.SQL                        : select r1_0.account_id,r1_1.id,r1_1.active,r1_1.created_at,r1_1.description,r1_1.name,r1_1.updated_at from account_role r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.account_id=?
2025-05-18 03:30:25.297 DEBUG 1 --- [http-nio-9001-exec-3] org.hibernate.SQL                        : select p1_0.role_id,p1_1.id,p1_1.api_path,p1_1.created_at,p1_1.created_by,p1_1.method,p1_1.module,p1_1.name,p1_1.updated_at,p1_1.updated_by from permission_role p1_0 join permissions p1_1 on p1_1.id=p1_0.permission_id where p1_0.role_id=?
2025-05-18 03:30:25.321  INFO 1 --- [http-nio-9001-exec-3] i.f.s.u.controller.AuthController        : Returning response [1e71b3c1-e326-42ba-96e3-9610f02a55b4]: iuh.fit.se.userservice.dto.response.DataResponse@572ce1b1
2025-05-18 03:30:25.343 DEBUG 1 --- [http-nio-9001-exec-4] org.hibernate.SQL                        : select top (?) bt1_0.id from blacklisted_tokens bt1_0 where bt1_0.token=?
2025-05-18 03:30:25.353 DEBUG 1 --- [http-nio-9001-exec-4] org.hibernate.SQL                        : select top (?) bt1_0.id from blacklisted_tokens bt1_0 where bt1_0.token=?
2025-05-18 03:30:25.363 DEBUG 1 --- [http-nio-9001-exec-4] org.hibernate.SQL                        : select top (?) bt1_0.id from blacklisted_tokens bt1_0 where bt1_0.token=?
2025-05-18 03:30:25.384 DEBUG 1 --- [http-nio-9001-exec-4] org.hibernate.SQL                        : insert into blacklisted_tokens (expiry_date,token,id) values (?,?,?)
2025-05-18 03:30:25.398 DEBUG 1 --- [http-nio-9001-exec-4] org.hibernate.SQL                        : select a1_0.id,a1_0.created_at,a1_0.email,a1_0.password,a1_0.refresh_token,a1_0.updated_at from accounts a1_0 where a1_0.email=?
2025-05-18 03:30:25.403 DEBUG 1 --- [http-nio-9001-exec-4] org.hibernate.SQL                        : select c1_0.id,c1_0.account_id,a1_0.id,a1_0.created_at,a1_0.email,a1_0.password,a1_0.refresh_token,su1_0.id,su1_0.account_id,su1_0.address,su1_0.avatar,su1_0.created_at,su1_0.gender,su1_0.level,su1_0.name,su1_0.phone,su1_0.system_user_status,su1_0.updated_at,a1_0.updated_at,c1_0.avatar,c1_0.created_at,c1_0.date_of_birth,c1_0.gender,c1_0.name,c1_0.phone,c1_0.updated_at,c1_0.user_status from customers c1_0 join accounts a1_0 on a1_0.id=c1_0.account_id left join system_users su1_0 on a1_0.id=su1_0.account_id where c1_0.account_id=?
2025-05-18 03:30:25.411 DEBUG 1 --- [http-nio-9001-exec-4] org.hibernate.SQL                        : select su1_0.id,su1_0.account_id,a1_0.id,a1_0.created_at,c1_0.id,c1_0.account_id,c1_0.avatar,c1_0.created_at,c1_0.date_of_birth,c1_0.gender,c1_0.name,c1_0.phone,c1_0.updated_at,c1_0.user_status,a1_0.email,a1_0.password,a1_0.refresh_token,a1_0.updated_at,su1_0.address,su1_0.avatar,su1_0.created_at,su1_0.gender,su1_0.level,su1_0.name,su1_0.phone,su1_0.system_user_status,su1_0.updated_at from system_users su1_0 join accounts a1_0 on a1_0.id=su1_0.account_id left join customers c1_0 on a1_0.id=c1_0.account_id where su1_0.account_id=?
2025-05-18 03:30:25.423 DEBUG 1 --- [http-nio-9001-exec-4] org.hibernate.SQL                        : update accounts set created_at=?,email=?,password=?,refresh_token=?,updated_at=? where id=?
2025-05-18 03:30:32.781  INFO 1 --- [http-nio-9001-exec-5] i.f.s.u.s.i.AuthenticationServiceImpl    : Login with username: ggducvu@gmail.com
2025-05-18 03:30:32.784 DEBUG 1 --- [http-nio-9001-exec-5] org.hibernate.SQL                        : select a1_0.id,a1_0.created_at,a1_0.email,a1_0.password,a1_0.refresh_token,a1_0.updated_at from accounts a1_0 where a1_0.email=?
2025-05-18 03:30:32.792 DEBUG 1 --- [http-nio-9001-exec-5] org.hibernate.SQL                        : select c1_0.id,c1_0.account_id,a1_0.id,a1_0.created_at,a1_0.email,a1_0.password,a1_0.refresh_token,su1_0.id,su1_0.account_id,su1_0.address,su1_0.avatar,su1_0.created_at,su1_0.gender,su1_0.level,su1_0.name,su1_0.phone,su1_0.system_user_status,su1_0.updated_at,a1_0.updated_at,c1_0.avatar,c1_0.created_at,c1_0.date_of_birth,c1_0.gender,c1_0.name,c1_0.phone,c1_0.updated_at,c1_0.user_status from customers c1_0 join accounts a1_0 on a1_0.id=c1_0.account_id left join system_users su1_0 on a1_0.id=su1_0.account_id where c1_0.account_id=?
2025-05-18 03:30:32.801 DEBUG 1 --- [http-nio-9001-exec-5] org.hibernate.SQL                        : select su1_0.id,su1_0.account_id,a1_0.id,a1_0.created_at,c1_0.id,c1_0.account_id,c1_0.avatar,c1_0.created_at,c1_0.date_of_birth,c1_0.gender,c1_0.name,c1_0.phone,c1_0.updated_at,c1_0.user_status,a1_0.email,a1_0.password,a1_0.refresh_token,a1_0.updated_at,su1_0.address,su1_0.avatar,su1_0.created_at,su1_0.gender,su1_0.level,su1_0.name,su1_0.phone,su1_0.system_user_status,su1_0.updated_at from system_users su1_0 join accounts a1_0 on a1_0.id=su1_0.account_id left join customers c1_0 on a1_0.id=c1_0.account_id where su1_0.account_id=?
2025-05-18 03:30:32.808 DEBUG 1 --- [http-nio-9001-exec-5] org.hibernate.SQL                        : select r1_0.account_id,r1_1.id,r1_1.active,r1_1.created_at,r1_1.description,r1_1.name,r1_1.updated_at from account_role r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.account_id=?
2025-05-18 03:30:32.872 DEBUG 1 --- [http-nio-9001-exec-5] org.hibernate.SQL                        : select a1_0.id,a1_0.created_at,a1_0.email,a1_0.password,a1_0.refresh_token,a1_0.updated_at from accounts a1_0 where a1_0.email=?
2025-05-18 03:30:32.881 DEBUG 1 --- [http-nio-9001-exec-5] org.hibernate.SQL                        : select a1_0.id,a1_0.created_at,a1_0.email,a1_0.password,a1_0.refresh_token,a1_0.updated_at from accounts a1_0 where a1_0.email=?
2025-05-18 03:30:32.890 DEBUG 1 --- [http-nio-9001-exec-5] org.hibernate.SQL                        : update accounts set created_at=?,email=?,password=?,refresh_token=?,updated_at=? where id=?
2025-05-18 03:30:46.322 DEBUG 1 --- [http-nio-9001-exec-7] org.hibernate.SQL                        : select top (?) bt1_0.id from blacklisted_tokens bt1_0 where bt1_0.token=?
2025-05-18 03:30:46.334 DEBUG 1 --- [http-nio-9001-exec-7] org.hibernate.SQL                        : select top (?) bt1_0.id from blacklisted_tokens bt1_0 where bt1_0.token=?
2025-05-18 03:30:46.338  INFO 1 --- [http-nio-9001-exec-7] i.f.s.u.controller.AuthController        : Received token [61ebbe37-3687-4c7c-b8f2-2afa5a777b62]: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJnZ2R1Y3Z1QGdtYWlsLmNvbSIsInBlcm1pc3Npb24iOlsiUk9MRV9VU0VSX0NSRUFURSIsIlJPTEVfVVNFUl9VUERBVEUiXSwiZXhwIjoxNzU2MTc5MDMyLCJpYXQiOjE3NDc1MzkwMzIsInVzZXIiOnsiaWQiOiI3MTE1NjU4MS0wZmI5LTQwNzItOWNhZC02ZWY0ZGQ0Y2QyMWEiLCJlbWFpbCI6ImdnZHVjdnVAZ21haWwuY29tIn19.ql8sTWdckF91bhC4IBPIeI21YvHjX-hLmLpr2Y5wjdcxqYv0Be6YMfv3XjgDnTASmJAhd7bt7iJItH7StdUxLA
2025-05-18 03:30:46.343 DEBUG 1 --- [http-nio-9001-exec-7] org.hibernate.SQL                        : select a1_0.id,a1_0.created_at,a1_0.email,a1_0.password,a1_0.refresh_token,a1_0.updated_at from accounts a1_0 where a1_0.email=?
2025-05-18 03:30:46.348 DEBUG 1 --- [http-nio-9001-exec-7] org.hibernate.SQL                        : select c1_0.id,c1_0.account_id,a1_0.id,a1_0.created_at,a1_0.email,a1_0.password,a1_0.refresh_token,su1_0.id,su1_0.account_id,su1_0.address,su1_0.avatar,su1_0.created_at,su1_0.gender,su1_0.level,su1_0.name,su1_0.phone,su1_0.system_user_status,su1_0.updated_at,a1_0.updated_at,c1_0.avatar,c1_0.created_at,c1_0.date_of_birth,c1_0.gender,c1_0.name,c1_0.phone,c1_0.updated_at,c1_0.user_status from customers c1_0 join accounts a1_0 on a1_0.id=c1_0.account_id left join system_users su1_0 on a1_0.id=su1_0.account_id where c1_0.account_id=?
2025-05-18 03:30:46.357 DEBUG 1 --- [http-nio-9001-exec-7] org.hibernate.SQL                        : select su1_0.id,su1_0.account_id,a1_0.id,a1_0.created_at,c1_0.id,c1_0.account_id,c1_0.avatar,c1_0.created_at,c1_0.date_of_birth,c1_0.gender,c1_0.name,c1_0.phone,c1_0.updated_at,c1_0.user_status,a1_0.email,a1_0.password,a1_0.refresh_token,a1_0.updated_at,su1_0.address,su1_0.avatar,su1_0.created_at,su1_0.gender,su1_0.level,su1_0.name,su1_0.phone,su1_0.system_user_status,su1_0.updated_at from system_users su1_0 join accounts a1_0 on a1_0.id=su1_0.account_id left join customers c1_0 on a1_0.id=c1_0.account_id where su1_0.account_id=?
2025-05-18 03:30:46.365 DEBUG 1 --- [http-nio-9001-exec-7] org.hibernate.SQL                        : select r1_0.account_id,r1_1.id,r1_1.active,r1_1.created_at,r1_1.description,r1_1.name,r1_1.updated_at from account_role r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.account_id=?
2025-05-18 03:30:46.372 DEBUG 1 --- [http-nio-9001-exec-7] org.hibernate.SQL                        : select p1_0.role_id,p1_1.id,p1_1.api_path,p1_1.created_at,p1_1.created_by,p1_1.method,p1_1.module,p1_1.name,p1_1.updated_at,p1_1.updated_by from permission_role p1_0 join permissions p1_1 on p1_1.id=p1_0.permission_id where p1_0.role_id=?
2025-05-18 03:30:46.380  INFO 1 --- [http-nio-9001-exec-7] i.f.s.u.controller.AuthController        : Returning response [61ebbe37-3687-4c7c-b8f2-2afa5a777b62]: iuh.fit.se.userservice.dto.response.DataResponse@35891c69
2025-05-18 03:30:46.397 DEBUG 1 --- [http-nio-9001-exec-8] org.hibernate.SQL                        : select top (?) bt1_0.id from blacklisted_tokens bt1_0 where bt1_0.token=?
2025-05-18 03:30:46.405 DEBUG 1 --- [http-nio-9001-exec-8] org.hibernate.SQL                        : select top (?) bt1_0.id from blacklisted_tokens bt1_0 where bt1_0.token=?
2025-05-18 03:30:46.411 DEBUG 1 --- [http-nio-9001-exec-8] org.hibernate.SQL                        : select c1_0.id,c1_0.account_id,c1_0.avatar,c1_0.created_at,c1_0.date_of_birth,c1_0.gender,c1_0.name,c1_0.phone,c1_0.updated_at,c1_0.user_status from customers c1_0 join accounts a1_0 on a1_0.id=c1_0.account_id where a1_0.email like ?
2025-05-18 03:30:46.418 DEBUG 1 --- [http-nio-9001-exec-8] org.hibernate.SQL                        : select a1_0.id,a1_0.created_at,c1_0.id,c1_0.account_id,c1_0.avatar,c1_0.created_at,c1_0.date_of_birth,c1_0.gender,c1_0.name,c1_0.phone,c1_0.updated_at,c1_0.user_status,a1_0.email,a1_0.password,a1_0.refresh_token,su1_0.id,su1_0.account_id,su1_0.address,su1_0.avatar,su1_0.created_at,su1_0.gender,su1_0.level,su1_0.name,su1_0.phone,su1_0.system_user_status,su1_0.updated_at,a1_0.updated_at from accounts a1_0 left join customers c1_0 on a1_0.id=c1_0.account_id left join system_users su1_0 on a1_0.id=su1_0.account_id where a1_0.id=?
2025-05-18 03:30:46.434 DEBUG 1 --- [http-nio-9001-exec-8] org.hibernate.SQL                        : select r1_0.account_id,r1_1.id,r1_1.active,r1_1.created_at,r1_1.description,r1_1.name,r1_1.updated_at from account_role r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.account_id=?
2025-05-18 03:30:46.440 DEBUG 1 --- [http-nio-9001-exec-8] org.hibernate.SQL                        : select p1_0.role_id,p1_1.id,p1_1.api_path,p1_1.created_at,p1_1.created_by,p1_1.method,p1_1.module,p1_1.name,p1_1.updated_at,p1_1.updated_by from permission_role p1_0 join permissions p1_1 on p1_1.id=p1_0.permission_id where p1_0.role_id=?
2025-05-18 03:30:52.209 DEBUG 1 --- [http-nio-9001-exec-9] org.hibernate.SQL                        : select top (?) bt1_0.id from blacklisted_tokens bt1_0 where bt1_0.token=?
2025-05-18 03:30:52.219 DEBUG 1 --- [http-nio-9001-exec-9] org.hibernate.SQL                        : select top (?) bt1_0.id from blacklisted_tokens bt1_0 where bt1_0.token=?
2025-05-18 03:30:52.222  INFO 1 --- [http-nio-9001-exec-9] i.f.s.u.controller.AuthController        : Received token [a9c686aa-d80a-41f5-a85b-379abeae67fb]: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJnZ2R1Y3Z1QGdtYWlsLmNvbSIsInBlcm1pc3Npb24iOlsiUk9MRV9VU0VSX0NSRUFURSIsIlJPTEVfVVNFUl9VUERBVEUiXSwiZXhwIjoxNzU2MTc5MDMyLCJpYXQiOjE3NDc1MzkwMzIsInVzZXIiOnsiaWQiOiI3MTE1NjU4MS0wZmI5LTQwNzItOWNhZC02ZWY0ZGQ0Y2QyMWEiLCJlbWFpbCI6ImdnZHVjdnVAZ21haWwuY29tIn19.ql8sTWdckF91bhC4IBPIeI21YvHjX-hLmLpr2Y5wjdcxqYv0Be6YMfv3XjgDnTASmJAhd7bt7iJItH7StdUxLA
2025-05-18 03:30:52.225 DEBUG 1 --- [http-nio-9001-exec-9] org.hibernate.SQL                        : select a1_0.id,a1_0.created_at,a1_0.email,a1_0.password,a1_0.refresh_token,a1_0.updated_at from accounts a1_0 where a1_0.email=?
2025-05-18 03:30:52.231 DEBUG 1 --- [http-nio-9001-exec-9] org.hibernate.SQL                        : select c1_0.id,c1_0.account_id,a1_0.id,a1_0.created_at,a1_0.email,a1_0.password,a1_0.refresh_token,su1_0.id,su1_0.account_id,su1_0.address,su1_0.avatar,su1_0.created_at,su1_0.gender,su1_0.level,su1_0.name,su1_0.phone,su1_0.system_user_status,su1_0.updated_at,a1_0.updated_at,c1_0.avatar,c1_0.created_at,c1_0.date_of_birth,c1_0.gender,c1_0.name,c1_0.phone,c1_0.updated_at,c1_0.user_status from customers c1_0 join accounts a1_0 on a1_0.id=c1_0.account_id left join system_users su1_0 on a1_0.id=su1_0.account_id where c1_0.account_id=?
2025-05-18 03:30:52.239 DEBUG 1 --- [http-nio-9001-exec-9] org.hibernate.SQL                        : select su1_0.id,su1_0.account_id,a1_0.id,a1_0.created_at,c1_0.id,c1_0.account_id,c1_0.avatar,c1_0.created_at,c1_0.date_of_birth,c1_0.gender,c1_0.name,c1_0.phone,c1_0.updated_at,c1_0.user_status,a1_0.email,a1_0.password,a1_0.refresh_token,a1_0.updated_at,su1_0.address,su1_0.avatar,su1_0.created_at,su1_0.gender,su1_0.level,su1_0.name,su1_0.phone,su1_0.system_user_status,su1_0.updated_at from system_users su1_0 join accounts a1_0 on a1_0.id=su1_0.account_id left join customers c1_0 on a1_0.id=c1_0.account_id where su1_0.account_id=?
2025-05-18 03:30:52.245 DEBUG 1 --- [http-nio-9001-exec-9] org.hibernate.SQL                        : select r1_0.account_id,r1_1.id,r1_1.active,r1_1.created_at,r1_1.description,r1_1.name,r1_1.updated_at from account_role r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.account_id=?
2025-05-18 03:30:52.251 DEBUG 1 --- [http-nio-9001-exec-9] org.hibernate.SQL                        : select p1_0.role_id,p1_1.id,p1_1.api_path,p1_1.created_at,p1_1.created_by,p1_1.method,p1_1.module,p1_1.name,p1_1.updated_at,p1_1.updated_by from permission_role p1_0 join permissions p1_1 on p1_1.id=p1_0.permission_id where p1_0.role_id=?
2025-05-18 03:30:52.259  INFO 1 --- [http-nio-9001-exec-9] i.f.s.u.controller.AuthController        : Returning response [a9c686aa-d80a-41f5-a85b-379abeae67fb]: iuh.fit.se.userservice.dto.response.DataResponse@1c390494
2025-05-18 03:30:53.447 DEBUG 1 --- [http-nio-9001-exec-10] org.hibernate.SQL                        : select top (?) bt1_0.id from blacklisted_tokens bt1_0 where bt1_0.token=?
2025-05-18 03:30:53.460 DEBUG 1 --- [http-nio-9001-exec-10] org.hibernate.SQL                        : select top (?) bt1_0.id from blacklisted_tokens bt1_0 where bt1_0.token=?
2025-05-18 03:30:53.478 DEBUG 1 --- [http-nio-9001-exec-10] org.hibernate.SQL                        : select c1_0.id,c1_0.account_id,a1_0.id,a1_0.created_at,a1_0.email,a1_0.password,a1_0.refresh_token,su1_0.id,su1_0.account_id,su1_0.address,su1_0.avatar,su1_0.created_at,su1_0.gender,su1_0.level,su1_0.name,su1_0.phone,su1_0.system_user_status,su1_0.updated_at,a1_0.updated_at,c1_0.avatar,c1_0.created_at,c1_0.date_of_birth,c1_0.gender,c1_0.name,c1_0.phone,c1_0.updated_at,c1_0.user_status from customers c1_0 join accounts a1_0 on a1_0.id=c1_0.account_id left join system_users su1_0 on a1_0.id=su1_0.account_id where c1_0.id=?
2025-05-18 03:31:21.041 DEBUG 1 --- [http-nio-9001-exec-2] org.hibernate.SQL                        : select c1_0.id,c1_0.account_id,a1_0.id,a1_0.created_at,a1_0.email,a1_0.password,a1_0.refresh_token,su1_0.id,su1_0.account_id,su1_0.address,su1_0.avatar,su1_0.created_at,su1_0.gender,su1_0.level,su1_0.name,su1_0.phone,su1_0.system_user_status,su1_0.updated_at,a1_0.updated_at,c1_0.avatar,c1_0.created_at,c1_0.date_of_birth,c1_0.gender,c1_0.name,c1_0.phone,c1_0.updated_at,c1_0.user_status from customers c1_0 join accounts a1_0 on a1_0.id=c1_0.account_id left join system_users su1_0 on a1_0.id=su1_0.account_id where c1_0.id=?
2025-05-18 03:31:50.751  INFO 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-18 03:36:50.733  INFO 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-18 03:41:50.718  INFO 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-18 03:46:07.363  INFO 1 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application USERSERVICE with eureka with status DOWN
2025-05-18 03:46:07.367  INFO 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1747539967367, current=DOWN, previous=UP]
2025-05-18 03:46:07.374  INFO 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_USERSERVICE/8f744336114e:UserService:9001: registering service...
2025-05-18 03:46:07.419  INFO 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_USERSERVICE/8f744336114e:UserService:9001 - registration status: 204
2025-05-18 03:46:07.558  INFO 1 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-05-18 03:46:07.585  INFO 1 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-05-18 03:46:07.729  INFO 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-18 03:46:07.788  INFO 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-18 03:46:07.815  INFO 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-18 03:46:08.758  INFO 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-05-18 03:46:11.762  INFO 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-05-18 03:46:11.780  INFO 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_USERSERVICE/8f744336114e:UserService:9001 - deregister  status: 200
2025-05-18 03:46:11.782  INFO 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-05-18 03:59:27.099  INFO 1 --- [main] i.f.s.u.UserServiceApplication           : Starting UserServiceApplication v0.0.1-SNAPSHOT using Java 17.0.15 with PID 1 (/app/UserService.jar started by root in /app)
2025-05-18 03:59:27.140 DEBUG 1 --- [main] i.f.s.u.UserServiceApplication           : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-05-18 03:59:27.153  INFO 1 --- [main] i.f.s.u.UserServiceApplication           : The following 1 profile is active: "dev"
2025-05-18 03:59:27.355  INFO 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-05-18 03:59:27.361  INFO 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=application, profiles=[default], label=null, version=1acc8d8659fd96ed52844c8881c260bdb5135241, state=
2025-05-18 03:59:27.364  INFO 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-05-18 03:59:27.367  INFO 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=UserService, profiles=[default], label=null, version=1acc8d8659fd96ed52844c8881c260bdb5135241, state=
2025-05-18 03:59:27.370  INFO 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-05-18 03:59:27.376  INFO 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=UserService, profiles=[dev], label=null, version=1acc8d8659fd96ed52844c8881c260bdb5135241, state=
2025-05-18 03:59:35.383  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-18 03:59:36.110  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 684 ms. Found 7 JPA repository interfaces.
2025-05-18 03:59:38.109  INFO 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=c20ead94-0c4d-3146-a6d3-24d8d193d639
2025-05-18 03:59:41.939  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9001 (http)
2025-05-18 03:59:41.985  INFO 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-18 03:59:41.989  INFO 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-05-18 03:59:42.116  INFO 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-18 03:59:42.120  INFO 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 14725 ms
2025-05-18 03:59:45.335  INFO 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-18 03:59:45.651  INFO 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-05-18 03:59:45.805  INFO 1 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-18 03:59:47.067  INFO 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-18 03:59:47.204  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-18 03:59:47.805  INFO 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 6642442b-b9d2-4583-aee4-017f180cef75
2025-05-18 03:59:47.817  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-18 03:59:48.059  WARN 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-18 03:59:48.164  INFO 1 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-18 03:59:53.943  INFO 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-18 03:59:54.949 DEBUG 1 --- [main] org.hibernate.SQL                        : alter table blacklisted_tokens alter column token NVARCHAR(1000)
2025-05-18 03:59:58.328  INFO 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-18 04:00:01.192  INFO 1 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-18 04:00:05.598  WARN 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-18 04:00:06.559  INFO 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'OrderService' URL not provided. Will try picking an instance via load-balancing.
2025-05-18 04:00:08.712  INFO 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'NotificationService' URL not provided. Will try picking an instance via load-balancing.
2025-05-18 04:00:09.296  INFO 1 --- [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2025-05-18 04:00:13.395  INFO 1 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoints beneath base path '/actuator'
2025-05-18 04:00:15.213  WARN 1 --- [main] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-18 04:00:18.964  INFO 1 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-05-18 04:00:19.347  WARN 1 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-05-18 04:00:19.683  INFO 1 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-05-18 04:00:19.761  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-05-18 04:00:19.772  INFO 1 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-18 04:00:19.799  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-05-18 04:00:19.801  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-05-18 04:00:19.803  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-05-18 04:00:19.805  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-05-18 04:00:19.807  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-05-18 04:00:19.808  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-05-18 04:00:19.810  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-05-18 04:00:20.291  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-05-18 04:00:20.300  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-05-18 04:00:20.309  INFO 1 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-05-18 04:00:20.315  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1747540820314 with initial instances count: 3
2025-05-18 04:00:20.350  INFO 1 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application USERSERVICE with eureka with status UP
2025-05-18 04:00:20.353  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1747540820353, current=UP, previous=STARTING]
2025-05-18 04:00:20.357  INFO 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_USERSERVICE/c30c19aed69f:UserService:9001: registering service...
2025-05-18 04:00:20.392  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9001 (http) with context path '/'
2025-05-18 04:00:20.396  INFO 1 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9001
2025-05-18 04:00:20.440  INFO 1 --- [main] i.f.s.u.UserServiceApplication           : Started UserServiceApplication in 67.138 seconds (process running for 70.694)
2025-05-18 04:00:20.458  INFO 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_USERSERVICE/c30c19aed69f:UserService:9001 - registration status: 204
2025-05-18 04:00:21.304  WARN 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
2025-05-18 04:00:21.307  WARN 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Dropped 2 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused)

org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:925)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:840)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:701)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender.postSpans(ZipkinRestTemplateSender.java:50)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:69)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:41)
	at zipkin2.reporter.BaseHttpSender.send(BaseHttpSender.java:123)
	at zipkin2.reporter.internal.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:266)
	at zipkin2.reporter.internal.AsyncReporter$Flusher.run(AsyncReporter.java:352)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:547)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:602)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:899)
	... 9 common frames omitted

2025-05-18 04:00:40.063  INFO 1 --- [http-nio-9001-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-18 04:00:40.064  INFO 1 --- [http-nio-9001-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-18 04:00:40.071  INFO 1 --- [http-nio-9001-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2025-05-18 04:05:19.799  INFO 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-18 04:10:19.785  INFO 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-18 04:15:19.775  INFO 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-18 04:20:19.775  INFO 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-18 04:25:19.764  INFO 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-18 04:30:19.753  INFO 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-18 04:35:19.742  INFO 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-18 04:40:19.730  INFO 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-18 04:43:42.106  INFO 1 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application USERSERVICE with eureka with status DOWN
2025-05-18 04:43:42.116  INFO 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1747543422116, current=DOWN, previous=UP]
2025-05-18 04:43:42.124  INFO 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_USERSERVICE/c30c19aed69f:UserService:9001: registering service...
2025-05-18 04:43:42.273  INFO 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_USERSERVICE/c30c19aed69f:UserService:9001 - registration status: 204
2025-05-18 04:43:42.592  INFO 1 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-05-18 04:43:42.725  INFO 1 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-05-18 04:43:43.009  INFO 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-18 04:43:43.179  INFO 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-18 04:43:43.218  INFO 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-18 04:43:43.315  INFO 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-05-18 04:43:46.322  INFO 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-05-18 04:43:46.484  INFO 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_USERSERVICE/c30c19aed69f:UserService:9001 - deregister  status: 200
2025-05-18 04:43:46.487  INFO 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-05-18 05:17:36.089  INFO 1 --- [main] i.f.s.u.UserServiceApplication           : Starting UserServiceApplication v0.0.1-SNAPSHOT using Java 17.0.15 with PID 1 (/app/UserService.jar started by root in /app)
2025-05-18 05:17:36.120 DEBUG 1 --- [main] i.f.s.u.UserServiceApplication           : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-05-18 05:17:36.130  INFO 1 --- [main] i.f.s.u.UserServiceApplication           : The following 1 profile is active: "dev"
2025-05-18 05:17:36.383  INFO 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-05-18 05:17:36.387  INFO 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=application, profiles=[default], label=null, version=1acc8d8659fd96ed52844c8881c260bdb5135241, state=
2025-05-18 05:17:36.411  INFO 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-05-18 05:17:36.416  INFO 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=UserService, profiles=[default], label=null, version=1acc8d8659fd96ed52844c8881c260bdb5135241, state=
2025-05-18 05:17:36.425  INFO 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-05-18 05:17:36.455  INFO 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=UserService, profiles=[dev], label=null, version=1acc8d8659fd96ed52844c8881c260bdb5135241, state=
2025-05-18 05:17:51.162  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-18 05:17:51.940  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 726 ms. Found 7 JPA repository interfaces.
2025-05-18 05:17:54.154  INFO 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=c20ead94-0c4d-3146-a6d3-24d8d193d639
2025-05-18 05:17:58.420  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9001 (http)
2025-05-18 05:17:58.459  INFO 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-18 05:17:58.463  INFO 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-05-18 05:17:58.673  INFO 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-18 05:17:58.700  INFO 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 22226 ms
2025-05-18 05:18:04.217  INFO 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-18 05:18:04.525  INFO 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-05-18 05:18:04.722  INFO 1 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-18 05:18:06.435  INFO 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-18 05:18:06.617  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-18 05:18:07.566  INFO 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 1a57fb64-2ff6-4443-b886-7184f4053873
2025-05-18 05:18:07.577  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-18 05:18:07.797  WARN 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-18 05:18:07.923  INFO 1 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-18 05:18:15.164  INFO 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-18 05:18:16.135 DEBUG 1 --- [main] org.hibernate.SQL                        : alter table blacklisted_tokens alter column token NVARCHAR(1000)
2025-05-18 05:18:16.613  INFO 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-18 05:18:19.380  INFO 1 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-18 05:18:23.473  WARN 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-18 05:18:24.236  INFO 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'OrderService' URL not provided. Will try picking an instance via load-balancing.
2025-05-18 05:18:25.653  INFO 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'NotificationService' URL not provided. Will try picking an instance via load-balancing.
2025-05-18 05:18:26.495  INFO 1 --- [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2025-05-18 05:18:30.632  INFO 1 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoints beneath base path '/actuator'
2025-05-18 05:18:32.407  WARN 1 --- [main] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-18 05:18:38.612  INFO 1 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-05-18 05:18:38.973  WARN 1 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-05-18 05:18:39.274  INFO 1 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-05-18 05:18:39.350  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-05-18 05:18:39.364  INFO 1 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-18 05:18:39.395  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-05-18 05:18:39.397  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-05-18 05:18:39.399  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-05-18 05:18:39.402  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-05-18 05:18:39.404  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-05-18 05:18:39.405  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-05-18 05:18:39.407  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-05-18 05:18:39.909  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-05-18 05:18:39.913  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-05-18 05:18:39.920  INFO 1 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-05-18 05:18:39.924  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1747545519924 with initial instances count: 3
2025-05-18 05:18:39.954  INFO 1 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application USERSERVICE with eureka with status UP
2025-05-18 05:18:39.956  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1747545519956, current=UP, previous=STARTING]
2025-05-18 05:18:39.960  INFO 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_USERSERVICE/669c5521f8b1:UserService:9001: registering service...
2025-05-18 05:18:39.991  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9001 (http) with context path '/'
2025-05-18 05:18:39.994  INFO 1 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9001
2025-05-18 05:18:40.031  INFO 1 --- [main] i.f.s.u.UserServiceApplication           : Started UserServiceApplication in 83.448 seconds (process running for 87.222)
2025-05-18 05:18:40.049  INFO 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_USERSERVICE/669c5521f8b1:UserService:9001 - registration status: 204
2025-05-18 05:18:40.921  WARN 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
2025-05-18 05:18:40.924  WARN 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Dropped 2 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused)

org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:925)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:840)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:701)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender.postSpans(ZipkinRestTemplateSender.java:50)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:69)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:41)
	at zipkin2.reporter.BaseHttpSender.send(BaseHttpSender.java:123)
	at zipkin2.reporter.internal.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:266)
	at zipkin2.reporter.internal.AsyncReporter$Flusher.run(AsyncReporter.java:352)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:547)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:602)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:899)
	... 9 common frames omitted

2025-05-18 05:18:44.142  INFO 1 --- [http-nio-9001-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-18 05:18:44.145  INFO 1 --- [http-nio-9001-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-18 05:18:44.156  INFO 1 --- [http-nio-9001-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 9 ms
2025-05-18 05:19:08.145  INFO 1 --- [http-nio-9001-exec-2] i.f.s.u.s.i.AuthenticationServiceImpl    : Login with username: thanhpham@gmail.com
2025-05-18 05:19:08.738 DEBUG 1 --- [http-nio-9001-exec-2] org.hibernate.SQL                        : select a1_0.id,a1_0.created_at,a1_0.email,a1_0.password,a1_0.refresh_token,a1_0.updated_at from accounts a1_0 where a1_0.email=?
2025-05-18 05:19:08.950 DEBUG 1 --- [http-nio-9001-exec-2] org.hibernate.SQL                        : select c1_0.id,c1_0.account_id,a1_0.id,a1_0.created_at,a1_0.email,a1_0.password,a1_0.refresh_token,su1_0.id,su1_0.account_id,su1_0.address,su1_0.avatar,su1_0.created_at,su1_0.gender,su1_0.level,su1_0.name,su1_0.phone,su1_0.system_user_status,su1_0.updated_at,a1_0.updated_at,c1_0.avatar,c1_0.created_at,c1_0.date_of_birth,c1_0.gender,c1_0.name,c1_0.phone,c1_0.updated_at,c1_0.user_status from customers c1_0 join accounts a1_0 on a1_0.id=c1_0.account_id left join system_users su1_0 on a1_0.id=su1_0.account_id where c1_0.account_id=?
2025-05-18 05:19:09.083 DEBUG 1 --- [http-nio-9001-exec-2] org.hibernate.SQL                        : select r1_0.account_id,r1_1.id,r1_1.active,r1_1.created_at,r1_1.description,r1_1.name,r1_1.updated_at from account_role r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.account_id=?
2025-05-18 05:19:09.184 DEBUG 1 --- [http-nio-9001-exec-2] org.hibernate.SQL                        : select a1_0.id,a1_0.created_at,a1_0.email,a1_0.password,a1_0.refresh_token,a1_0.updated_at from accounts a1_0 where a1_0.email=?
2025-05-18 05:19:09.721 DEBUG 1 --- [http-nio-9001-exec-2] org.hibernate.SQL                        : select a1_0.id,a1_0.created_at,a1_0.email,a1_0.password,a1_0.refresh_token,a1_0.updated_at from accounts a1_0 where a1_0.email=?
2025-05-18 05:19:10.097 DEBUG 1 --- [http-nio-9001-exec-2] org.hibernate.SQL                        : update accounts set created_at=?,email=?,password=?,refresh_token=?,updated_at=? where id=?
2025-05-18 05:21:45.636  INFO 1 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application USERSERVICE with eureka with status DOWN
2025-05-18 05:21:45.646  INFO 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1747545705646, current=DOWN, previous=UP]
2025-05-18 05:21:45.650  INFO 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_USERSERVICE/669c5521f8b1:UserService:9001: registering service...
2025-05-18 05:21:45.682  INFO 1 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-05-18 05:21:45.694  INFO 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_USERSERVICE/669c5521f8b1:UserService:9001 - registration status: 204
2025-05-18 05:21:45.702  INFO 1 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-05-18 05:21:45.767  INFO 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-18 05:21:45.783  INFO 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-18 05:21:45.802  INFO 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-18 05:21:46.038  INFO 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-05-18 05:21:49.043  INFO 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-05-18 05:21:49.067  INFO 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_USERSERVICE/669c5521f8b1:UserService:9001 - deregister  status: 200
2025-05-18 05:21:49.069  INFO 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-05-18 05:24:52.519  INFO 1 --- [main] i.f.s.u.UserServiceApplication           : Starting UserServiceApplication v0.0.1-SNAPSHOT using Java 17.0.15 with PID 1 (/app/UserService.jar started by root in /app)
2025-05-18 05:24:52.557 DEBUG 1 --- [main] i.f.s.u.UserServiceApplication           : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-05-18 05:24:52.565  INFO 1 --- [main] i.f.s.u.UserServiceApplication           : The following 1 profile is active: "dev"
2025-05-18 05:24:52.834  INFO 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-05-18 05:24:52.840  INFO 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=application, profiles=[default], label=null, version=1acc8d8659fd96ed52844c8881c260bdb5135241, state=
2025-05-18 05:24:52.845  INFO 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-05-18 05:24:52.848  INFO 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=UserService, profiles=[default], label=null, version=1acc8d8659fd96ed52844c8881c260bdb5135241, state=
2025-05-18 05:24:52.850  INFO 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-05-18 05:24:52.853  INFO 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=UserService, profiles=[dev], label=null, version=1acc8d8659fd96ed52844c8881c260bdb5135241, state=
2025-05-18 05:25:01.424  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-18 05:25:02.209  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 737 ms. Found 7 JPA repository interfaces.
2025-05-18 05:25:04.379  INFO 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=c20ead94-0c4d-3146-a6d3-24d8d193d639
2025-05-18 05:25:07.499  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9001 (http)
2025-05-18 05:25:07.543  INFO 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-18 05:25:07.545  INFO 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-05-18 05:25:07.672  INFO 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-18 05:25:07.677  INFO 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 14807 ms
2025-05-18 05:25:11.438  INFO 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-18 05:25:11.771  INFO 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-05-18 05:25:11.969  INFO 1 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-18 05:25:13.462  INFO 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-18 05:25:13.732  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-18 05:25:14.433  INFO 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 52fa6ce9-8c0c-42de-9bdb-f557e52fbd1c
2025-05-18 05:25:14.444  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-18 05:25:14.647  WARN 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-18 05:25:14.758  INFO 1 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-18 05:25:19.672  INFO 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-18 05:25:20.308 DEBUG 1 --- [main] org.hibernate.SQL                        : alter table blacklisted_tokens alter column token NVARCHAR(1000)
2025-05-18 05:25:20.707  INFO 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-18 05:25:23.278  INFO 1 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-18 05:25:26.856  WARN 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-18 05:25:27.591  INFO 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'OrderService' URL not provided. Will try picking an instance via load-balancing.
2025-05-18 05:25:28.668  INFO 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'NotificationService' URL not provided. Will try picking an instance via load-balancing.
2025-05-18 05:25:29.191  INFO 1 --- [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2025-05-18 05:25:32.695  INFO 1 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoints beneath base path '/actuator'
2025-05-18 05:25:34.614  WARN 1 --- [main] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-18 05:25:39.507  INFO 1 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-05-18 05:25:39.827  WARN 1 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-05-18 05:25:40.127  INFO 1 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-05-18 05:25:40.204  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-05-18 05:25:40.216  INFO 1 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-18 05:25:40.234  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-05-18 05:25:40.236  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-05-18 05:25:40.239  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-05-18 05:25:40.241  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-05-18 05:25:40.243  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-05-18 05:25:40.245  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-05-18 05:25:40.247  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-05-18 05:25:40.849  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-05-18 05:25:40.857  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-05-18 05:25:40.866  INFO 1 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-05-18 05:25:40.871  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1747545940870 with initial instances count: 3
2025-05-18 05:25:40.903  INFO 1 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application USERSERVICE with eureka with status UP
2025-05-18 05:25:40.906  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1747545940906, current=UP, previous=STARTING]
2025-05-18 05:25:40.913  INFO 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_USERSERVICE/7e2c5e03dee9:UserService:9001: registering service...
2025-05-18 05:25:40.979  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9001 (http) with context path '/'
2025-05-18 05:25:40.984  INFO 1 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9001
2025-05-18 05:25:41.045  INFO 1 --- [main] i.f.s.u.UserServiceApplication           : Started UserServiceApplication in 63.746 seconds (process running for 67.597)
2025-05-18 05:25:41.069  INFO 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_USERSERVICE/7e2c5e03dee9:UserService:9001 - registration status: 204
2025-05-18 05:25:41.870  WARN 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
2025-05-18 05:25:41.873  WARN 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Dropped 2 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused)

org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:925)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:840)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:701)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender.postSpans(ZipkinRestTemplateSender.java:50)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:69)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:41)
	at zipkin2.reporter.BaseHttpSender.send(BaseHttpSender.java:123)
	at zipkin2.reporter.internal.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:266)
	at zipkin2.reporter.internal.AsyncReporter$Flusher.run(AsyncReporter.java:352)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:547)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:602)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:899)
	... 9 common frames omitted

2025-05-18 05:26:03.879  INFO 1 --- [http-nio-9001-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-18 05:26:03.882  INFO 1 --- [http-nio-9001-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-18 05:26:03.889  INFO 1 --- [http-nio-9001-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2025-05-18 05:30:40.232  INFO 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-18 05:35:40.215  INFO 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-18 05:40:40.202  INFO 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-18 05:44:57.117  INFO 1 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application USERSERVICE with eureka with status DOWN
2025-05-18 05:44:57.124  INFO 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1747547097124, current=DOWN, previous=UP]
2025-05-18 05:44:57.128  INFO 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_USERSERVICE/7e2c5e03dee9:UserService:9001: registering service...
2025-05-18 05:44:57.165  INFO 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_USERSERVICE/7e2c5e03dee9:UserService:9001 - registration status: 204
2025-05-18 05:44:57.346  INFO 1 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-05-18 05:44:57.372  INFO 1 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-05-18 05:44:57.499  INFO 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-18 05:44:57.544  INFO 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-18 05:44:57.574  INFO 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-18 05:44:58.227  INFO 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-05-18 05:45:01.230  INFO 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-05-18 05:45:01.247  INFO 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_USERSERVICE/7e2c5e03dee9:UserService:9001 - deregister  status: 200
2025-05-18 05:45:01.251  INFO 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-05-18 05:47:52.374  INFO 1 --- [main] i.f.s.u.UserServiceApplication           : Starting UserServiceApplication v0.0.1-SNAPSHOT using Java 17.0.15 with PID 1 (/app/UserService.jar started by root in /app)
2025-05-18 05:47:52.411 DEBUG 1 --- [main] i.f.s.u.UserServiceApplication           : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-05-18 05:47:52.422  INFO 1 --- [main] i.f.s.u.UserServiceApplication           : The following 1 profile is active: "dev"
2025-05-18 05:47:52.764  INFO 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-05-18 05:47:52.767  INFO 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=application, profiles=[default], label=null, version=1acc8d8659fd96ed52844c8881c260bdb5135241, state=
2025-05-18 05:47:52.771  INFO 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-05-18 05:47:52.774  INFO 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=UserService, profiles=[default], label=null, version=1acc8d8659fd96ed52844c8881c260bdb5135241, state=
2025-05-18 05:47:52.777  INFO 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-05-18 05:47:52.780  INFO 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=UserService, profiles=[dev], label=null, version=1acc8d8659fd96ed52844c8881c260bdb5135241, state=
2025-05-18 05:48:03.927  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-18 05:48:05.019  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 998 ms. Found 7 JPA repository interfaces.
2025-05-18 05:48:07.492  INFO 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=c20ead94-0c4d-3146-a6d3-24d8d193d639
2025-05-18 05:48:11.980  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9001 (http)
2025-05-18 05:48:12.052  INFO 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-18 05:48:12.057  INFO 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-05-18 05:48:12.271  INFO 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-18 05:48:12.275  INFO 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 19475 ms
2025-05-18 05:48:20.442  INFO 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-18 05:48:20.891  INFO 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-05-18 05:48:21.093  INFO 1 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-18 05:48:22.474  INFO 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-18 05:48:22.702  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-18 05:48:23.532  INFO 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: a38581b7-9718-4c00-a960-e48cd0142b63
2025-05-18 05:48:23.543  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-18 05:48:23.810  WARN 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-18 05:48:23.958  INFO 1 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-18 05:48:29.901  INFO 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-18 05:48:30.755 DEBUG 1 --- [main] org.hibernate.SQL                        : alter table blacklisted_tokens alter column token NVARCHAR(1000)
2025-05-18 05:48:31.261  INFO 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-18 05:48:34.818  INFO 1 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-18 05:48:39.670  WARN 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-18 05:48:40.387  INFO 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'OrderService' URL not provided. Will try picking an instance via load-balancing.
2025-05-18 05:48:41.477  INFO 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'NotificationService' URL not provided. Will try picking an instance via load-balancing.
2025-05-18 05:48:41.996  INFO 1 --- [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2025-05-18 05:48:45.392  INFO 1 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoints beneath base path '/actuator'
2025-05-18 05:48:46.972  WARN 1 --- [main] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-18 05:48:51.232  INFO 1 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-05-18 05:48:51.578  WARN 1 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-05-18 05:48:52.436  INFO 1 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-05-18 05:48:52.609  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-05-18 05:48:52.634  INFO 1 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-18 05:48:52.686  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-05-18 05:48:52.688  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-05-18 05:48:52.690  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-05-18 05:48:52.692  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-05-18 05:48:52.694  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-05-18 05:48:52.696  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-05-18 05:48:52.698  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-05-18 05:48:53.471  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-05-18 05:48:53.479  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-05-18 05:48:53.488  INFO 1 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-05-18 05:48:53.495  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1747547333494 with initial instances count: 3
2025-05-18 05:48:53.524  INFO 1 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application USERSERVICE with eureka with status UP
2025-05-18 05:48:53.527  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1747547333527, current=UP, previous=STARTING]
2025-05-18 05:48:53.533  INFO 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_USERSERVICE/a9f1db8276d3:UserService:9001: registering service...
2025-05-18 05:48:53.578  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9001 (http) with context path '/'
2025-05-18 05:48:53.587  INFO 1 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9001
2025-05-18 05:48:53.651  INFO 1 --- [main] i.f.s.u.UserServiceApplication           : Started UserServiceApplication in 76.885 seconds (process running for 82.321)
2025-05-18 05:48:53.689  INFO 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_USERSERVICE/a9f1db8276d3:UserService:9001 - registration status: 204
2025-05-18 05:48:54.481  WARN 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
2025-05-18 05:48:54.483  WARN 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Dropped 2 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused)

org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:925)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:840)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:701)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender.postSpans(ZipkinRestTemplateSender.java:50)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:69)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:41)
	at zipkin2.reporter.BaseHttpSender.send(BaseHttpSender.java:123)
	at zipkin2.reporter.internal.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:266)
	at zipkin2.reporter.internal.AsyncReporter$Flusher.run(AsyncReporter.java:352)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:547)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:602)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:899)
	... 9 common frames omitted

2025-05-18 05:49:02.116  INFO 1 --- [http-nio-9001-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-18 05:49:02.118  INFO 1 --- [http-nio-9001-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-18 05:49:02.127  INFO 1 --- [http-nio-9001-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 7 ms
2025-05-18 05:53:52.692  INFO 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-18 05:58:52.681  INFO 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-18 06:01:43.648  INFO 1 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application USERSERVICE with eureka with status DOWN
2025-05-18 06:01:43.654  INFO 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1747548103654, current=DOWN, previous=UP]
2025-05-18 06:01:43.663  INFO 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_USERSERVICE/a9f1db8276d3:UserService:9001: registering service...
2025-05-18 06:01:43.726  INFO 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_USERSERVICE/a9f1db8276d3:UserService:9001 - registration status: 204
2025-05-18 06:01:44.088  INFO 1 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-05-18 06:01:44.134  INFO 1 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-05-18 06:01:44.380  INFO 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-18 06:01:44.542  INFO 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-18 06:01:44.602  INFO 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-18 06:01:44.905  INFO 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-05-18 06:01:47.909  INFO 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-05-18 06:01:47.943  INFO 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_USERSERVICE/a9f1db8276d3:UserService:9001 - deregister  status: 200
2025-05-18 06:01:47.947  INFO 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-05-18 06:04:42.626  INFO 1 --- [main] i.f.s.u.UserServiceApplication           : Starting UserServiceApplication v0.0.1-SNAPSHOT using Java 17.0.15 with PID 1 (/app/UserService.jar started by root in /app)
2025-05-18 06:04:42.710 DEBUG 1 --- [main] i.f.s.u.UserServiceApplication           : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-05-18 06:04:42.731  INFO 1 --- [main] i.f.s.u.UserServiceApplication           : The following 1 profile is active: "dev"
2025-05-18 06:04:43.237  INFO 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-05-18 06:04:43.253  INFO 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=application, profiles=[default], label=null, version=1acc8d8659fd96ed52844c8881c260bdb5135241, state=
2025-05-18 06:04:43.256  INFO 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-05-18 06:04:43.259  INFO 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=UserService, profiles=[default], label=null, version=1acc8d8659fd96ed52844c8881c260bdb5135241, state=
2025-05-18 06:04:43.262  INFO 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-05-18 06:04:43.265  INFO 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=UserService, profiles=[dev], label=null, version=1acc8d8659fd96ed52844c8881c260bdb5135241, state=
2025-05-18 06:04:55.267  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-18 06:04:56.984  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1635 ms. Found 7 JPA repository interfaces.
2025-05-18 06:05:01.674  INFO 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=c20ead94-0c4d-3146-a6d3-24d8d193d639
2025-05-18 06:05:12.955  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9001 (http)
2025-05-18 06:05:13.116  INFO 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-18 06:05:13.190  INFO 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-05-18 06:05:13.575  INFO 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-18 06:05:13.580  INFO 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 30300 ms
2025-05-18 06:05:19.316  INFO 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-18 06:05:19.877  INFO 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-05-18 06:05:20.418  INFO 1 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-18 06:05:22.426  INFO 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-18 06:05:22.650  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-18 06:05:23.482  INFO 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: ce89b8c4-62e7-4e36-b456-3a11dfce096d
2025-05-18 06:05:23.494  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-18 06:05:23.775  WARN 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-18 06:05:23.869  INFO 1 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-18 06:05:29.570  INFO 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-18 06:05:30.955 DEBUG 1 --- [main] org.hibernate.SQL                        : alter table blacklisted_tokens alter column token NVARCHAR(1000)
2025-05-18 06:05:33.521  INFO 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-18 06:05:37.071  INFO 1 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-18 06:05:44.662  WARN 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-18 06:05:45.786  INFO 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'OrderService' URL not provided. Will try picking an instance via load-balancing.
2025-05-18 06:05:47.601  INFO 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'NotificationService' URL not provided. Will try picking an instance via load-balancing.
2025-05-18 06:05:48.710  INFO 1 --- [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2025-05-18 06:05:55.474  INFO 1 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoints beneath base path '/actuator'
2025-05-18 06:05:59.080  WARN 1 --- [main] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-18 06:06:02.428  INFO 1 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-05-18 06:06:02.679  WARN 1 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-05-18 06:06:02.918  INFO 1 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-05-18 06:06:02.994  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-05-18 06:06:03.006  INFO 1 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-18 06:06:03.031  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-05-18 06:06:03.032  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-05-18 06:06:03.034  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-05-18 06:06:03.035  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-05-18 06:06:03.037  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-05-18 06:06:03.039  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-05-18 06:06:03.041  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-05-18 06:06:03.510  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-05-18 06:06:03.516  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-05-18 06:06:03.524  INFO 1 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-05-18 06:06:03.528  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1747548363528 with initial instances count: 5
2025-05-18 06:06:03.545  INFO 1 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application USERSERVICE with eureka with status UP
2025-05-18 06:06:03.548  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1747548363548, current=UP, previous=STARTING]
2025-05-18 06:06:03.553  INFO 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_USERSERVICE/abb8bc1e0497:UserService:9001: registering service...
2025-05-18 06:06:03.632  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9001 (http) with context path '/'
2025-05-18 06:06:03.635  INFO 1 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9001
2025-05-18 06:06:03.667  INFO 1 --- [main] i.f.s.u.UserServiceApplication           : Started UserServiceApplication in 100.388 seconds (process running for 106.005)
2025-05-18 06:06:03.669  INFO 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_USERSERVICE/abb8bc1e0497:UserService:9001 - registration status: 204
2025-05-18 06:06:04.519  WARN 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
2025-05-18 06:06:04.521  WARN 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Dropped 2 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused)

org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:925)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:840)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:701)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender.postSpans(ZipkinRestTemplateSender.java:50)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:69)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:41)
	at zipkin2.reporter.BaseHttpSender.send(BaseHttpSender.java:123)
	at zipkin2.reporter.internal.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:266)
	at zipkin2.reporter.internal.AsyncReporter$Flusher.run(AsyncReporter.java:352)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:547)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:602)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:899)
	... 9 common frames omitted

2025-05-18 06:06:18.713  INFO 1 --- [http-nio-9001-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-18 06:06:18.715  INFO 1 --- [http-nio-9001-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-18 06:06:18.720  INFO 1 --- [http-nio-9001-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2025-05-18 06:11:03.025  INFO 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-18 06:14:54.048  INFO 1 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application USERSERVICE with eureka with status DOWN
2025-05-18 06:14:54.056  INFO 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1747548894056, current=DOWN, previous=UP]
2025-05-18 06:14:54.059  INFO 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_USERSERVICE/abb8bc1e0497:UserService:9001: registering service...
2025-05-18 06:14:54.087  INFO 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_USERSERVICE/abb8bc1e0497:UserService:9001 - registration status: 204
2025-05-18 06:14:54.156  INFO 1 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-05-18 06:14:54.170  INFO 1 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-05-18 06:14:54.249  INFO 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-18 06:14:54.298  INFO 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-18 06:14:54.314  INFO 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-18 06:14:54.716  INFO 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-05-18 06:14:57.718  INFO 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-05-18 06:14:57.756  INFO 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_USERSERVICE/abb8bc1e0497:UserService:9001 - deregister  status: 200
2025-05-18 06:14:57.758  INFO 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-05-18 06:18:16.801  INFO 1 --- [main] i.f.s.u.UserServiceApplication           : Starting UserServiceApplication v0.0.1-SNAPSHOT using Java 17.0.15 with PID 1 (/app/UserService.jar started by root in /app)
2025-05-18 06:18:16.889 DEBUG 1 --- [main] i.f.s.u.UserServiceApplication           : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-05-18 06:18:16.911  INFO 1 --- [main] i.f.s.u.UserServiceApplication           : The following 1 profile is active: "dev"
2025-05-18 06:18:17.425  INFO 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-05-18 06:18:17.432  INFO 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=application, profiles=[default], label=null, version=1acc8d8659fd96ed52844c8881c260bdb5135241, state=
2025-05-18 06:18:17.437  INFO 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-05-18 06:18:17.441  INFO 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=UserService, profiles=[default], label=null, version=1acc8d8659fd96ed52844c8881c260bdb5135241, state=
2025-05-18 06:18:17.454  INFO 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-05-18 06:18:17.456  INFO 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=UserService, profiles=[dev], label=null, version=1acc8d8659fd96ed52844c8881c260bdb5135241, state=
2025-05-18 06:18:29.446  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-18 06:18:30.774  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1266 ms. Found 7 JPA repository interfaces.
2025-05-18 06:18:33.823  INFO 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=c20ead94-0c4d-3146-a6d3-24d8d193d639
2025-05-18 06:18:41.757  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9001 (http)
2025-05-18 06:18:41.876  INFO 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-18 06:18:41.881  INFO 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-05-18 06:18:42.136  INFO 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-18 06:18:42.142  INFO 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 24625 ms
2025-05-18 06:18:45.529  INFO 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-18 06:18:45.943  INFO 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-05-18 06:18:46.236  INFO 1 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-18 06:18:47.833  INFO 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-18 06:18:48.003  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-18 06:18:48.626  INFO 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 37968ac3-86f8-4c4c-a403-d6fd835f36cb
2025-05-18 06:18:48.637  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-18 06:18:48.817  WARN 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-18 06:18:48.904  INFO 1 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-18 06:18:54.287  INFO 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-18 06:18:55.055 DEBUG 1 --- [main] org.hibernate.SQL                        : alter table blacklisted_tokens alter column token NVARCHAR(1000)
2025-05-18 06:18:57.199  INFO 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-18 06:18:59.448  INFO 1 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-18 06:19:03.157  WARN 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-18 06:19:03.918  INFO 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'OrderService' URL not provided. Will try picking an instance via load-balancing.
2025-05-18 06:19:05.117  INFO 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'NotificationService' URL not provided. Will try picking an instance via load-balancing.
2025-05-18 06:19:05.684  INFO 1 --- [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2025-05-18 06:19:08.843  INFO 1 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoints beneath base path '/actuator'
2025-05-18 06:19:10.180  WARN 1 --- [main] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-18 06:19:13.680  INFO 1 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-05-18 06:19:13.827  WARN 1 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-05-18 06:19:14.040  INFO 1 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-05-18 06:19:14.091  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-05-18 06:19:14.101  INFO 1 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-18 06:19:14.120  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-05-18 06:19:14.122  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-05-18 06:19:14.124  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-05-18 06:19:14.125  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-05-18 06:19:14.126  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-05-18 06:19:14.128  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-05-18 06:19:14.129  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-05-18 06:19:14.614  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-05-18 06:19:14.620  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-05-18 06:19:14.626  INFO 1 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-05-18 06:19:14.631  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1747549154630 with initial instances count: 3
2025-05-18 06:19:14.648  INFO 1 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application USERSERVICE with eureka with status UP
2025-05-18 06:19:14.651  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1747549154651, current=UP, previous=STARTING]
2025-05-18 06:19:14.655  INFO 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_USERSERVICE/4bfbc27f0a67:UserService:9001: registering service...
2025-05-18 06:19:14.691  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9001 (http) with context path '/'
2025-05-18 06:19:14.694  INFO 1 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9001
2025-05-18 06:19:14.734  INFO 1 --- [main] i.f.s.u.UserServiceApplication           : Started UserServiceApplication in 74.218 seconds (process running for 79.746)
2025-05-18 06:19:14.744  INFO 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_USERSERVICE/4bfbc27f0a67:UserService:9001 - registration status: 204
2025-05-18 06:19:15.619  WARN 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
2025-05-18 06:19:15.620  WARN 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Dropped 2 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused)

org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:925)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:840)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:701)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender.postSpans(ZipkinRestTemplateSender.java:50)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:69)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:41)
	at zipkin2.reporter.BaseHttpSender.send(BaseHttpSender.java:123)
	at zipkin2.reporter.internal.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:266)
	at zipkin2.reporter.internal.AsyncReporter$Flusher.run(AsyncReporter.java:352)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:547)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:602)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:899)
	... 9 common frames omitted

2025-05-18 06:19:25.721  INFO 1 --- [http-nio-9001-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-18 06:19:25.724  INFO 1 --- [http-nio-9001-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-18 06:19:25.737  INFO 1 --- [http-nio-9001-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 10 ms
2025-05-18 06:20:57.351 DEBUG 1 --- [http-nio-9001-exec-5] org.hibernate.SQL                        : select top (?) bt1_0.id from blacklisted_tokens bt1_0 where bt1_0.token=?
2025-05-18 06:20:57.502 DEBUG 1 --- [http-nio-9001-exec-5] org.hibernate.SQL                        : select top (?) bt1_0.id from blacklisted_tokens bt1_0 where bt1_0.token=?
2025-05-18 06:20:57.519  INFO 1 --- [http-nio-9001-exec-5] i.f.s.u.controller.AuthController        : Received token [4fb13cb1-a0f3-452e-87bf-5f8800331c80]: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJnZ2R1Y3Z1QGdtYWlsLmNvbSIsInBlcm1pc3Npb24iOlsiUk9MRV9VU0VSX0NSRUFURSIsIlJPTEVfVVNFUl9VUERBVEUiXSwiZXhwIjoxNzU2MTc5MDMyLCJpYXQiOjE3NDc1MzkwMzIsInVzZXIiOnsiaWQiOiI3MTE1NjU4MS0wZmI5LTQwNzItOWNhZC02ZWY0ZGQ0Y2QyMWEiLCJlbWFpbCI6ImdnZHVjdnVAZ21haWwuY29tIn19.ql8sTWdckF91bhC4IBPIeI21YvHjX-hLmLpr2Y5wjdcxqYv0Be6YMfv3XjgDnTASmJAhd7bt7iJItH7StdUxLA
2025-05-18 06:20:57.531 DEBUG 1 --- [http-nio-9001-exec-5] org.hibernate.SQL                        : select a1_0.id,a1_0.created_at,a1_0.email,a1_0.password,a1_0.refresh_token,a1_0.updated_at from accounts a1_0 where a1_0.email=?
2025-05-18 06:20:57.571 DEBUG 1 --- [http-nio-9001-exec-5] org.hibernate.SQL                        : select c1_0.id,c1_0.account_id,a1_0.id,a1_0.created_at,a1_0.email,a1_0.password,a1_0.refresh_token,su1_0.id,su1_0.account_id,su1_0.address,su1_0.avatar,su1_0.created_at,su1_0.gender,su1_0.level,su1_0.name,su1_0.phone,su1_0.system_user_status,su1_0.updated_at,a1_0.updated_at,c1_0.avatar,c1_0.created_at,c1_0.date_of_birth,c1_0.gender,c1_0.name,c1_0.phone,c1_0.updated_at,c1_0.user_status from customers c1_0 join accounts a1_0 on a1_0.id=c1_0.account_id left join system_users su1_0 on a1_0.id=su1_0.account_id where c1_0.account_id=?
2025-05-18 06:20:57.607 DEBUG 1 --- [http-nio-9001-exec-5] org.hibernate.SQL                        : select su1_0.id,su1_0.account_id,a1_0.id,a1_0.created_at,c1_0.id,c1_0.account_id,c1_0.avatar,c1_0.created_at,c1_0.date_of_birth,c1_0.gender,c1_0.name,c1_0.phone,c1_0.updated_at,c1_0.user_status,a1_0.email,a1_0.password,a1_0.refresh_token,a1_0.updated_at,su1_0.address,su1_0.avatar,su1_0.created_at,su1_0.gender,su1_0.level,su1_0.name,su1_0.phone,su1_0.system_user_status,su1_0.updated_at from system_users su1_0 join accounts a1_0 on a1_0.id=su1_0.account_id left join customers c1_0 on a1_0.id=c1_0.account_id where su1_0.account_id=?
2025-05-18 06:20:57.621 DEBUG 1 --- [http-nio-9001-exec-5] org.hibernate.SQL                        : select r1_0.account_id,r1_1.id,r1_1.active,r1_1.created_at,r1_1.description,r1_1.name,r1_1.updated_at from account_role r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.account_id=?
2025-05-18 06:20:57.637 DEBUG 1 --- [http-nio-9001-exec-5] org.hibernate.SQL                        : select p1_0.role_id,p1_1.id,p1_1.api_path,p1_1.created_at,p1_1.created_by,p1_1.method,p1_1.module,p1_1.name,p1_1.updated_at,p1_1.updated_by from permission_role p1_0 join permissions p1_1 on p1_1.id=p1_0.permission_id where p1_0.role_id=?
2025-05-18 06:20:57.660  INFO 1 --- [http-nio-9001-exec-5] i.f.s.u.controller.AuthController        : Returning response [4fb13cb1-a0f3-452e-87bf-5f8800331c80]: iuh.fit.se.userservice.dto.response.DataResponse@46f3d0c1
2025-05-18 06:20:57.727 DEBUG 1 --- [http-nio-9001-exec-6] org.hibernate.SQL                        : select top (?) bt1_0.id from blacklisted_tokens bt1_0 where bt1_0.token=?
2025-05-18 06:20:57.737 DEBUG 1 --- [http-nio-9001-exec-6] org.hibernate.SQL                        : select top (?) bt1_0.id from blacklisted_tokens bt1_0 where bt1_0.token=?
2025-05-18 06:20:57.753 DEBUG 1 --- [http-nio-9001-exec-6] org.hibernate.SQL                        : select c1_0.id,c1_0.account_id,c1_0.avatar,c1_0.created_at,c1_0.date_of_birth,c1_0.gender,c1_0.name,c1_0.phone,c1_0.updated_at,c1_0.user_status from customers c1_0 join accounts a1_0 on a1_0.id=c1_0.account_id where a1_0.email like ?
2025-05-18 06:20:57.771 DEBUG 1 --- [http-nio-9001-exec-6] org.hibernate.SQL                        : select a1_0.id,a1_0.created_at,c1_0.id,c1_0.account_id,c1_0.avatar,c1_0.created_at,c1_0.date_of_birth,c1_0.gender,c1_0.name,c1_0.phone,c1_0.updated_at,c1_0.user_status,a1_0.email,a1_0.password,a1_0.refresh_token,su1_0.id,su1_0.account_id,su1_0.address,su1_0.avatar,su1_0.created_at,su1_0.gender,su1_0.level,su1_0.name,su1_0.phone,su1_0.system_user_status,su1_0.updated_at,a1_0.updated_at from accounts a1_0 left join customers c1_0 on a1_0.id=c1_0.account_id left join system_users su1_0 on a1_0.id=su1_0.account_id where a1_0.id=?
2025-05-18 06:20:57.797 DEBUG 1 --- [http-nio-9001-exec-6] org.hibernate.SQL                        : select r1_0.account_id,r1_1.id,r1_1.active,r1_1.created_at,r1_1.description,r1_1.name,r1_1.updated_at from account_role r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.account_id=?
2025-05-18 06:20:57.806 DEBUG 1 --- [http-nio-9001-exec-6] org.hibernate.SQL                        : select p1_0.role_id,p1_1.id,p1_1.api_path,p1_1.created_at,p1_1.created_by,p1_1.method,p1_1.module,p1_1.name,p1_1.updated_at,p1_1.updated_by from permission_role p1_0 join permissions p1_1 on p1_1.id=p1_0.permission_id where p1_0.role_id=?
2025-05-18 06:21:02.627 DEBUG 1 --- [http-nio-9001-exec-7] org.hibernate.SQL                        : select top (?) bt1_0.id from blacklisted_tokens bt1_0 where bt1_0.token=?
2025-05-18 06:21:02.637 DEBUG 1 --- [http-nio-9001-exec-7] org.hibernate.SQL                        : select top (?) bt1_0.id from blacklisted_tokens bt1_0 where bt1_0.token=?
2025-05-18 06:21:02.641  INFO 1 --- [http-nio-9001-exec-7] i.f.s.u.controller.AuthController        : Received token [1a4a478a-8046-4024-bf57-848b863b997c]: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJnZ2R1Y3Z1QGdtYWlsLmNvbSIsInBlcm1pc3Npb24iOlsiUk9MRV9VU0VSX0NSRUFURSIsIlJPTEVfVVNFUl9VUERBVEUiXSwiZXhwIjoxNzU2MTc5MDMyLCJpYXQiOjE3NDc1MzkwMzIsInVzZXIiOnsiaWQiOiI3MTE1NjU4MS0wZmI5LTQwNzItOWNhZC02ZWY0ZGQ0Y2QyMWEiLCJlbWFpbCI6ImdnZHVjdnVAZ21haWwuY29tIn19.ql8sTWdckF91bhC4IBPIeI21YvHjX-hLmLpr2Y5wjdcxqYv0Be6YMfv3XjgDnTASmJAhd7bt7iJItH7StdUxLA
2025-05-18 06:21:02.644 DEBUG 1 --- [http-nio-9001-exec-7] org.hibernate.SQL                        : select a1_0.id,a1_0.created_at,a1_0.email,a1_0.password,a1_0.refresh_token,a1_0.updated_at from accounts a1_0 where a1_0.email=?
2025-05-18 06:21:02.649 DEBUG 1 --- [http-nio-9001-exec-7] org.hibernate.SQL                        : select c1_0.id,c1_0.account_id,a1_0.id,a1_0.created_at,a1_0.email,a1_0.password,a1_0.refresh_token,su1_0.id,su1_0.account_id,su1_0.address,su1_0.avatar,su1_0.created_at,su1_0.gender,su1_0.level,su1_0.name,su1_0.phone,su1_0.system_user_status,su1_0.updated_at,a1_0.updated_at,c1_0.avatar,c1_0.created_at,c1_0.date_of_birth,c1_0.gender,c1_0.name,c1_0.phone,c1_0.updated_at,c1_0.user_status from customers c1_0 join accounts a1_0 on a1_0.id=c1_0.account_id left join system_users su1_0 on a1_0.id=su1_0.account_id where c1_0.account_id=?
2025-05-18 06:21:02.653 DEBUG 1 --- [http-nio-9001-exec-7] org.hibernate.SQL                        : select su1_0.id,su1_0.account_id,a1_0.id,a1_0.created_at,c1_0.id,c1_0.account_id,c1_0.avatar,c1_0.created_at,c1_0.date_of_birth,c1_0.gender,c1_0.name,c1_0.phone,c1_0.updated_at,c1_0.user_status,a1_0.email,a1_0.password,a1_0.refresh_token,a1_0.updated_at,su1_0.address,su1_0.avatar,su1_0.created_at,su1_0.gender,su1_0.level,su1_0.name,su1_0.phone,su1_0.system_user_status,su1_0.updated_at from system_users su1_0 join accounts a1_0 on a1_0.id=su1_0.account_id left join customers c1_0 on a1_0.id=c1_0.account_id where su1_0.account_id=?
2025-05-18 06:21:02.657 DEBUG 1 --- [http-nio-9001-exec-7] org.hibernate.SQL                        : select r1_0.account_id,r1_1.id,r1_1.active,r1_1.created_at,r1_1.description,r1_1.name,r1_1.updated_at from account_role r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.account_id=?
2025-05-18 06:21:02.661 DEBUG 1 --- [http-nio-9001-exec-7] org.hibernate.SQL                        : select p1_0.role_id,p1_1.id,p1_1.api_path,p1_1.created_at,p1_1.created_by,p1_1.method,p1_1.module,p1_1.name,p1_1.updated_at,p1_1.updated_by from permission_role p1_0 join permissions p1_1 on p1_1.id=p1_0.permission_id where p1_0.role_id=?
2025-05-18 06:21:02.672  INFO 1 --- [http-nio-9001-exec-7] i.f.s.u.controller.AuthController        : Returning response [1a4a478a-8046-4024-bf57-848b863b997c]: iuh.fit.se.userservice.dto.response.DataResponse@147cd97d
2025-05-18 06:21:03.357 DEBUG 1 --- [http-nio-9001-exec-8] org.hibernate.SQL                        : select top (?) bt1_0.id from blacklisted_tokens bt1_0 where bt1_0.token=?
2025-05-18 06:21:03.370 DEBUG 1 --- [http-nio-9001-exec-8] org.hibernate.SQL                        : select top (?) bt1_0.id from blacklisted_tokens bt1_0 where bt1_0.token=?
2025-05-18 06:21:03.412 DEBUG 1 --- [http-nio-9001-exec-8] org.hibernate.SQL                        : select c1_0.id,c1_0.account_id,a1_0.id,a1_0.created_at,a1_0.email,a1_0.password,a1_0.refresh_token,su1_0.id,su1_0.account_id,su1_0.address,su1_0.avatar,su1_0.created_at,su1_0.gender,su1_0.level,su1_0.name,su1_0.phone,su1_0.system_user_status,su1_0.updated_at,a1_0.updated_at,c1_0.avatar,c1_0.created_at,c1_0.date_of_birth,c1_0.gender,c1_0.name,c1_0.phone,c1_0.updated_at,c1_0.user_status from customers c1_0 join accounts a1_0 on a1_0.id=c1_0.account_id left join system_users su1_0 on a1_0.id=su1_0.account_id where c1_0.id=?
2025-05-18 06:21:28.189 DEBUG 1 --- [http-nio-9001-exec-10] org.hibernate.SQL                        : select c1_0.id,c1_0.account_id,a1_0.id,a1_0.created_at,a1_0.email,a1_0.password,a1_0.refresh_token,su1_0.id,su1_0.account_id,su1_0.address,su1_0.avatar,su1_0.created_at,su1_0.gender,su1_0.level,su1_0.name,su1_0.phone,su1_0.system_user_status,su1_0.updated_at,a1_0.updated_at,c1_0.avatar,c1_0.created_at,c1_0.date_of_birth,c1_0.gender,c1_0.name,c1_0.phone,c1_0.updated_at,c1_0.user_status from customers c1_0 join accounts a1_0 on a1_0.id=c1_0.account_id left join system_users su1_0 on a1_0.id=su1_0.account_id where c1_0.id=?
2025-05-18 06:24:14.112  INFO 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-18 06:29:14.095  INFO 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-18 06:34:14.082  INFO 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-18 06:39:14.066  INFO 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-18 06:43:15.785 DEBUG 1 --- [http-nio-9001-exec-7] org.hibernate.SQL                        : select top (?) bt1_0.id from blacklisted_tokens bt1_0 where bt1_0.token=?
2025-05-18 06:43:15.914 DEBUG 1 --- [http-nio-9001-exec-7] org.hibernate.SQL                        : select top (?) bt1_0.id from blacklisted_tokens bt1_0 where bt1_0.token=?
2025-05-18 06:43:15.945  INFO 1 --- [http-nio-9001-exec-7] i.f.s.u.controller.AuthController        : Received token [d00b8cee-8304-412b-ab58-605c263aa00d]: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJnZ2R1Y3Z1QGdtYWlsLmNvbSIsInBlcm1pc3Npb24iOlsiUk9MRV9VU0VSX0NSRUFURSIsIlJPTEVfVVNFUl9VUERBVEUiXSwiZXhwIjoxNzU2MTc5MDMyLCJpYXQiOjE3NDc1MzkwMzIsInVzZXIiOnsiaWQiOiI3MTE1NjU4MS0wZmI5LTQwNzItOWNhZC02ZWY0ZGQ0Y2QyMWEiLCJlbWFpbCI6ImdnZHVjdnVAZ21haWwuY29tIn19.ql8sTWdckF91bhC4IBPIeI21YvHjX-hLmLpr2Y5wjdcxqYv0Be6YMfv3XjgDnTASmJAhd7bt7iJItH7StdUxLA
2025-05-18 06:43:15.986 DEBUG 1 --- [http-nio-9001-exec-7] org.hibernate.SQL                        : select a1_0.id,a1_0.created_at,a1_0.email,a1_0.password,a1_0.refresh_token,a1_0.updated_at from accounts a1_0 where a1_0.email=?
2025-05-18 06:43:16.022 DEBUG 1 --- [http-nio-9001-exec-7] org.hibernate.SQL                        : select c1_0.id,c1_0.account_id,a1_0.id,a1_0.created_at,a1_0.email,a1_0.password,a1_0.refresh_token,su1_0.id,su1_0.account_id,su1_0.address,su1_0.avatar,su1_0.created_at,su1_0.gender,su1_0.level,su1_0.name,su1_0.phone,su1_0.system_user_status,su1_0.updated_at,a1_0.updated_at,c1_0.avatar,c1_0.created_at,c1_0.date_of_birth,c1_0.gender,c1_0.name,c1_0.phone,c1_0.updated_at,c1_0.user_status from customers c1_0 join accounts a1_0 on a1_0.id=c1_0.account_id left join system_users su1_0 on a1_0.id=su1_0.account_id where c1_0.account_id=?
2025-05-18 06:43:16.067 DEBUG 1 --- [http-nio-9001-exec-7] org.hibernate.SQL                        : select su1_0.id,su1_0.account_id,a1_0.id,a1_0.created_at,c1_0.id,c1_0.account_id,c1_0.avatar,c1_0.created_at,c1_0.date_of_birth,c1_0.gender,c1_0.name,c1_0.phone,c1_0.updated_at,c1_0.user_status,a1_0.email,a1_0.password,a1_0.refresh_token,a1_0.updated_at,su1_0.address,su1_0.avatar,su1_0.created_at,su1_0.gender,su1_0.level,su1_0.name,su1_0.phone,su1_0.system_user_status,su1_0.updated_at from system_users su1_0 join accounts a1_0 on a1_0.id=su1_0.account_id left join customers c1_0 on a1_0.id=c1_0.account_id where su1_0.account_id=?
2025-05-18 06:43:16.086 DEBUG 1 --- [http-nio-9001-exec-7] org.hibernate.SQL                        : select r1_0.account_id,r1_1.id,r1_1.active,r1_1.created_at,r1_1.description,r1_1.name,r1_1.updated_at from account_role r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.account_id=?
2025-05-18 06:43:16.111 DEBUG 1 --- [http-nio-9001-exec-7] org.hibernate.SQL                        : select p1_0.role_id,p1_1.id,p1_1.api_path,p1_1.created_at,p1_1.created_by,p1_1.method,p1_1.module,p1_1.name,p1_1.updated_at,p1_1.updated_by from permission_role p1_0 join permissions p1_1 on p1_1.id=p1_0.permission_id where p1_0.role_id=?
2025-05-18 06:43:16.181  INFO 1 --- [http-nio-9001-exec-7] i.f.s.u.controller.AuthController        : Returning response [d00b8cee-8304-412b-ab58-605c263aa00d]: iuh.fit.se.userservice.dto.response.DataResponse@1b1f9d8
2025-05-18 06:43:16.248 DEBUG 1 --- [http-nio-9001-exec-8] org.hibernate.SQL                        : select top (?) bt1_0.id from blacklisted_tokens bt1_0 where bt1_0.token=?
2025-05-18 06:43:16.261 DEBUG 1 --- [http-nio-9001-exec-8] org.hibernate.SQL                        : select top (?) bt1_0.id from blacklisted_tokens bt1_0 where bt1_0.token=?
2025-05-18 06:43:16.334 DEBUG 1 --- [http-nio-9001-exec-8] org.hibernate.SQL                        : select c1_0.id,c1_0.account_id,c1_0.avatar,c1_0.created_at,c1_0.date_of_birth,c1_0.gender,c1_0.name,c1_0.phone,c1_0.updated_at,c1_0.user_status from customers c1_0 join accounts a1_0 on a1_0.id=c1_0.account_id where a1_0.email like ?
2025-05-18 06:43:16.345 DEBUG 1 --- [http-nio-9001-exec-8] org.hibernate.SQL                        : select a1_0.id,a1_0.created_at,c1_0.id,c1_0.account_id,c1_0.avatar,c1_0.created_at,c1_0.date_of_birth,c1_0.gender,c1_0.name,c1_0.phone,c1_0.updated_at,c1_0.user_status,a1_0.email,a1_0.password,a1_0.refresh_token,su1_0.id,su1_0.account_id,su1_0.address,su1_0.avatar,su1_0.created_at,su1_0.gender,su1_0.level,su1_0.name,su1_0.phone,su1_0.system_user_status,su1_0.updated_at,a1_0.updated_at from accounts a1_0 left join customers c1_0 on a1_0.id=c1_0.account_id left join system_users su1_0 on a1_0.id=su1_0.account_id where a1_0.id=?
2025-05-18 06:43:16.359 DEBUG 1 --- [http-nio-9001-exec-8] org.hibernate.SQL                        : select r1_0.account_id,r1_1.id,r1_1.active,r1_1.created_at,r1_1.description,r1_1.name,r1_1.updated_at from account_role r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.account_id=?
2025-05-18 06:43:16.366 DEBUG 1 --- [http-nio-9001-exec-8] org.hibernate.SQL                        : select p1_0.role_id,p1_1.id,p1_1.api_path,p1_1.created_at,p1_1.created_by,p1_1.method,p1_1.module,p1_1.name,p1_1.updated_at,p1_1.updated_by from permission_role p1_0 join permissions p1_1 on p1_1.id=p1_0.permission_id where p1_0.role_id=?
2025-05-18 06:43:23.501 DEBUG 1 --- [http-nio-9001-exec-9] org.hibernate.SQL                        : select top (?) bt1_0.id from blacklisted_tokens bt1_0 where bt1_0.token=?
2025-05-18 06:43:23.515 DEBUG 1 --- [http-nio-9001-exec-9] org.hibernate.SQL                        : select top (?) bt1_0.id from blacklisted_tokens bt1_0 where bt1_0.token=?
2025-05-18 06:43:23.521  INFO 1 --- [http-nio-9001-exec-9] i.f.s.u.controller.AuthController        : Received token [4aeb57e4-d49c-4f05-8714-d9319334c5af]: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJnZ2R1Y3Z1QGdtYWlsLmNvbSIsInBlcm1pc3Npb24iOlsiUk9MRV9VU0VSX0NSRUFURSIsIlJPTEVfVVNFUl9VUERBVEUiXSwiZXhwIjoxNzU2MTc5MDMyLCJpYXQiOjE3NDc1MzkwMzIsInVzZXIiOnsiaWQiOiI3MTE1NjU4MS0wZmI5LTQwNzItOWNhZC02ZWY0ZGQ0Y2QyMWEiLCJlbWFpbCI6ImdnZHVjdnVAZ21haWwuY29tIn19.ql8sTWdckF91bhC4IBPIeI21YvHjX-hLmLpr2Y5wjdcxqYv0Be6YMfv3XjgDnTASmJAhd7bt7iJItH7StdUxLA
2025-05-18 06:43:23.535 DEBUG 1 --- [http-nio-9001-exec-9] org.hibernate.SQL                        : select a1_0.id,a1_0.created_at,a1_0.email,a1_0.password,a1_0.refresh_token,a1_0.updated_at from accounts a1_0 where a1_0.email=?
2025-05-18 06:43:23.539 DEBUG 1 --- [http-nio-9001-exec-9] org.hibernate.SQL                        : select c1_0.id,c1_0.account_id,a1_0.id,a1_0.created_at,a1_0.email,a1_0.password,a1_0.refresh_token,su1_0.id,su1_0.account_id,su1_0.address,su1_0.avatar,su1_0.created_at,su1_0.gender,su1_0.level,su1_0.name,su1_0.phone,su1_0.system_user_status,su1_0.updated_at,a1_0.updated_at,c1_0.avatar,c1_0.created_at,c1_0.date_of_birth,c1_0.gender,c1_0.name,c1_0.phone,c1_0.updated_at,c1_0.user_status from customers c1_0 join accounts a1_0 on a1_0.id=c1_0.account_id left join system_users su1_0 on a1_0.id=su1_0.account_id where c1_0.account_id=?
2025-05-18 06:43:23.545 DEBUG 1 --- [http-nio-9001-exec-9] org.hibernate.SQL                        : select su1_0.id,su1_0.account_id,a1_0.id,a1_0.created_at,c1_0.id,c1_0.account_id,c1_0.avatar,c1_0.created_at,c1_0.date_of_birth,c1_0.gender,c1_0.name,c1_0.phone,c1_0.updated_at,c1_0.user_status,a1_0.email,a1_0.password,a1_0.refresh_token,a1_0.updated_at,su1_0.address,su1_0.avatar,su1_0.created_at,su1_0.gender,su1_0.level,su1_0.name,su1_0.phone,su1_0.system_user_status,su1_0.updated_at from system_users su1_0 join accounts a1_0 on a1_0.id=su1_0.account_id left join customers c1_0 on a1_0.id=c1_0.account_id where su1_0.account_id=?
2025-05-18 06:43:23.549 DEBUG 1 --- [http-nio-9001-exec-9] org.hibernate.SQL                        : select r1_0.account_id,r1_1.id,r1_1.active,r1_1.created_at,r1_1.description,r1_1.name,r1_1.updated_at from account_role r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.account_id=?
2025-05-18 06:43:23.554 DEBUG 1 --- [http-nio-9001-exec-9] org.hibernate.SQL                        : select p1_0.role_id,p1_1.id,p1_1.api_path,p1_1.created_at,p1_1.created_by,p1_1.method,p1_1.module,p1_1.name,p1_1.updated_at,p1_1.updated_by from permission_role p1_0 join permissions p1_1 on p1_1.id=p1_0.permission_id where p1_0.role_id=?
2025-05-18 06:43:23.568  INFO 1 --- [http-nio-9001-exec-9] i.f.s.u.controller.AuthController        : Returning response [4aeb57e4-d49c-4f05-8714-d9319334c5af]: iuh.fit.se.userservice.dto.response.DataResponse@410782f1
2025-05-18 06:43:24.887 DEBUG 1 --- [http-nio-9001-exec-10] org.hibernate.SQL                        : select top (?) bt1_0.id from blacklisted_tokens bt1_0 where bt1_0.token=?
2025-05-18 06:43:24.954 DEBUG 1 --- [http-nio-9001-exec-10] org.hibernate.SQL                        : select top (?) bt1_0.id from blacklisted_tokens bt1_0 where bt1_0.token=?
2025-05-18 06:43:24.977 DEBUG 1 --- [http-nio-9001-exec-10] org.hibernate.SQL                        : select c1_0.id,c1_0.account_id,a1_0.id,a1_0.created_at,a1_0.email,a1_0.password,a1_0.refresh_token,su1_0.id,su1_0.account_id,su1_0.address,su1_0.avatar,su1_0.created_at,su1_0.gender,su1_0.level,su1_0.name,su1_0.phone,su1_0.system_user_status,su1_0.updated_at,a1_0.updated_at,c1_0.avatar,c1_0.created_at,c1_0.date_of_birth,c1_0.gender,c1_0.name,c1_0.phone,c1_0.updated_at,c1_0.user_status from customers c1_0 join accounts a1_0 on a1_0.id=c1_0.account_id left join system_users su1_0 on a1_0.id=su1_0.account_id where c1_0.id=?
2025-05-18 06:43:47.138 DEBUG 1 --- [http-nio-9001-exec-2] org.hibernate.SQL                        : select c1_0.id,c1_0.account_id,a1_0.id,a1_0.created_at,a1_0.email,a1_0.password,a1_0.refresh_token,su1_0.id,su1_0.account_id,su1_0.address,su1_0.avatar,su1_0.created_at,su1_0.gender,su1_0.level,su1_0.name,su1_0.phone,su1_0.system_user_status,su1_0.updated_at,a1_0.updated_at,c1_0.avatar,c1_0.created_at,c1_0.date_of_birth,c1_0.gender,c1_0.name,c1_0.phone,c1_0.updated_at,c1_0.user_status from customers c1_0 join accounts a1_0 on a1_0.id=c1_0.account_id left join system_users su1_0 on a1_0.id=su1_0.account_id where c1_0.id=?
2025-05-18 06:44:14.050  INFO 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-18 06:45:54.262  INFO 1 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application USERSERVICE with eureka with status DOWN
2025-05-18 06:45:54.267  INFO 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1747550754267, current=DOWN, previous=UP]
2025-05-18 06:45:54.272  INFO 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_USERSERVICE/4bfbc27f0a67:UserService:9001: registering service...
2025-05-18 06:45:54.327  INFO 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_USERSERVICE/4bfbc27f0a67:UserService:9001 - registration status: 204
2025-05-18 06:45:54.688  INFO 1 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-05-18 06:45:54.731  INFO 1 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-05-18 06:45:55.143  INFO 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-18 06:45:55.270  INFO 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-18 06:45:55.320  INFO 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-18 06:45:55.531  INFO 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-05-18 06:45:58.531  INFO 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-05-18 06:45:58.558  INFO 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_USERSERVICE/4bfbc27f0a67:UserService:9001 - deregister  status: 200
2025-05-18 06:45:58.561  INFO 1 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-05-18 06:54:17.223  INFO 1 --- [main] i.f.s.u.UserServiceApplication           : Starting UserServiceApplication v0.0.1-SNAPSHOT using Java 17.0.15 with PID 1 (/app/UserService.jar started by root in /app)
2025-05-18 06:54:17.253 DEBUG 1 --- [main] i.f.s.u.UserServiceApplication           : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-05-18 06:54:17.260  INFO 1 --- [main] i.f.s.u.UserServiceApplication           : The following 1 profile is active: "dev"
2025-05-18 06:54:17.453  INFO 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-05-18 06:54:17.456  INFO 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=application, profiles=[default], label=null, version=1acc8d8659fd96ed52844c8881c260bdb5135241, state=
2025-05-18 06:54:17.460  INFO 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-05-18 06:54:17.465  INFO 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=UserService, profiles=[default], label=null, version=1acc8d8659fd96ed52844c8881c260bdb5135241, state=
2025-05-18 06:54:17.468  INFO 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://configserver:8888
2025-05-18 06:54:17.471  INFO 1 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=UserService, profiles=[dev], label=null, version=1acc8d8659fd96ed52844c8881c260bdb5135241, state=
2025-05-18 06:54:28.253  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-18 06:54:29.105  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 818 ms. Found 7 JPA repository interfaces.
2025-05-18 06:54:31.608  INFO 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=c20ead94-0c4d-3146-a6d3-24d8d193d639
2025-05-18 06:54:36.068  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9001 (http)
2025-05-18 06:54:36.129  INFO 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-18 06:54:36.132  INFO 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-05-18 06:54:36.310  INFO 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-18 06:54:36.313  INFO 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 18832 ms
2025-05-18 06:54:40.968  INFO 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-18 06:54:41.659  INFO 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-05-18 06:54:42.198  INFO 1 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-18 06:54:44.642  INFO 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-18 06:54:44.907  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-18 06:54:45.849  INFO 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 71a1d220-42e7-43b5-9a08-941c6f32f1c9
2025-05-18 06:54:45.864  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-18 06:54:46.326  WARN 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-18 06:54:46.504  INFO 1 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-18 06:54:52.120  INFO 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-18 06:54:53.042 DEBUG 1 --- [main] org.hibernate.SQL                        : alter table blacklisted_tokens alter column token NVARCHAR(1000)
2025-05-18 06:54:56.591  INFO 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-18 06:55:00.707  INFO 1 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-18 06:55:05.579  WARN 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-18 06:55:06.219  INFO 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'OrderService' URL not provided. Will try picking an instance via load-balancing.
2025-05-18 06:55:07.270  INFO 1 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'NotificationService' URL not provided. Will try picking an instance via load-balancing.
2025-05-18 06:55:07.836  INFO 1 --- [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2025-05-18 06:55:11.826  INFO 1 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoints beneath base path '/actuator'
2025-05-18 06:55:13.297  WARN 1 --- [main] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-18 06:55:18.421  INFO 1 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-05-18 06:55:18.840  WARN 1 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-05-18 06:55:19.314  INFO 1 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-05-18 06:55:19.403  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-05-18 06:55:19.424  INFO 1 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-18 06:55:19.461  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-05-18 06:55:19.463  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-05-18 06:55:19.466  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-05-18 06:55:19.468  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-05-18 06:55:19.470  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-05-18 06:55:19.472  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-05-18 06:55:19.474  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-05-18 06:55:20.156  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-05-18 06:55:20.164  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-05-18 06:55:20.174  INFO 1 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-05-18 06:55:20.183  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1747551320182 with initial instances count: 3
2025-05-18 06:55:20.218  INFO 1 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application USERSERVICE with eureka with status UP
2025-05-18 06:55:20.221  INFO 1 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1747551320220, current=UP, previous=STARTING]
2025-05-18 06:55:20.225  INFO 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_USERSERVICE/abf7b1d7595f:UserService:9001: registering service...
2025-05-18 06:55:20.266  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9001 (http) with context path '/'
2025-05-18 06:55:20.270  INFO 1 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9001
2025-05-18 06:55:20.317  INFO 1 --- [main] i.f.s.u.UserServiceApplication           : Started UserServiceApplication in 78.156 seconds (process running for 81.043)
2025-05-18 06:55:20.404  INFO 1 --- [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_USERSERVICE/abf7b1d7595f:UserService:9001 - registration status: 204
2025-05-18 06:55:21.177  WARN 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
2025-05-18 06:55:21.180  WARN 1 --- [AsyncReporter{ZipkinRestTemplateSender{http://localhost:9411/api/v2/spans}}] z.r.i.AsyncReporter$BoundedAsyncReporter : Dropped 2 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused)

org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:925)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:840)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:701)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender.postSpans(ZipkinRestTemplateSender.java:50)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:69)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.HttpSender.postSpans(HttpSender.java:41)
	at zipkin2.reporter.BaseHttpSender.send(BaseHttpSender.java:123)
	at zipkin2.reporter.internal.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:266)
	at zipkin2.reporter.internal.AsyncReporter$Flusher.run(AsyncReporter.java:352)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:547)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:602)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:899)
	... 9 common frames omitted

2025-05-18 06:55:29.770  INFO 1 --- [http-nio-9001-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-18 06:55:29.774  INFO 1 --- [http-nio-9001-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-18 06:55:29.784  INFO 1 --- [http-nio-9001-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 8 ms
2025-05-18 07:00:19.460  INFO 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-18 07:05:19.442  INFO 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-18 07:10:19.428  INFO 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-18 07:12:53.864 DEBUG 1 --- [http-nio-9001-exec-6] org.hibernate.SQL                        : select top (?) bt1_0.id from blacklisted_tokens bt1_0 where bt1_0.token=?
2025-05-18 07:12:54.575 DEBUG 1 --- [http-nio-9001-exec-6] org.hibernate.SQL                        : select top (?) bt1_0.id from blacklisted_tokens bt1_0 where bt1_0.token=?
2025-05-18 07:12:54.761  INFO 1 --- [http-nio-9001-exec-6] i.f.s.u.controller.AuthController        : Received token [dc172b38-cf29-4bd7-a6ea-71d05520696c]: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJnZ2R1Y3Z1QGdtYWlsLmNvbSIsInBlcm1pc3Npb24iOlsiUk9MRV9VU0VSX0NSRUFURSIsIlJPTEVfVVNFUl9VUERBVEUiXSwiZXhwIjoxNzU2MTc5MDMyLCJpYXQiOjE3NDc1MzkwMzIsInVzZXIiOnsiaWQiOiI3MTE1NjU4MS0wZmI5LTQwNzItOWNhZC02ZWY0ZGQ0Y2QyMWEiLCJlbWFpbCI6ImdnZHVjdnVAZ21haWwuY29tIn19.ql8sTWdckF91bhC4IBPIeI21YvHjX-hLmLpr2Y5wjdcxqYv0Be6YMfv3XjgDnTASmJAhd7bt7iJItH7StdUxLA
2025-05-18 07:12:54.797 DEBUG 1 --- [http-nio-9001-exec-6] org.hibernate.SQL                        : select a1_0.id,a1_0.created_at,a1_0.email,a1_0.password,a1_0.refresh_token,a1_0.updated_at from accounts a1_0 where a1_0.email=?
2025-05-18 07:12:54.898 DEBUG 1 --- [http-nio-9001-exec-6] org.hibernate.SQL                        : select c1_0.id,c1_0.account_id,a1_0.id,a1_0.created_at,a1_0.email,a1_0.password,a1_0.refresh_token,su1_0.id,su1_0.account_id,su1_0.address,su1_0.avatar,su1_0.created_at,su1_0.gender,su1_0.level,su1_0.name,su1_0.phone,su1_0.system_user_status,su1_0.updated_at,a1_0.updated_at,c1_0.avatar,c1_0.created_at,c1_0.date_of_birth,c1_0.gender,c1_0.name,c1_0.phone,c1_0.updated_at,c1_0.user_status from customers c1_0 join accounts a1_0 on a1_0.id=c1_0.account_id left join system_users su1_0 on a1_0.id=su1_0.account_id where c1_0.account_id=?
2025-05-18 07:12:55.011 DEBUG 1 --- [http-nio-9001-exec-6] org.hibernate.SQL                        : select su1_0.id,su1_0.account_id,a1_0.id,a1_0.created_at,c1_0.id,c1_0.account_id,c1_0.avatar,c1_0.created_at,c1_0.date_of_birth,c1_0.gender,c1_0.name,c1_0.phone,c1_0.updated_at,c1_0.user_status,a1_0.email,a1_0.password,a1_0.refresh_token,a1_0.updated_at,su1_0.address,su1_0.avatar,su1_0.created_at,su1_0.gender,su1_0.level,su1_0.name,su1_0.phone,su1_0.system_user_status,su1_0.updated_at from system_users su1_0 join accounts a1_0 on a1_0.id=su1_0.account_id left join customers c1_0 on a1_0.id=c1_0.account_id where su1_0.account_id=?
2025-05-18 07:12:55.039 DEBUG 1 --- [http-nio-9001-exec-6] org.hibernate.SQL                        : select r1_0.account_id,r1_1.id,r1_1.active,r1_1.created_at,r1_1.description,r1_1.name,r1_1.updated_at from account_role r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.account_id=?
2025-05-18 07:12:55.068 DEBUG 1 --- [http-nio-9001-exec-6] org.hibernate.SQL                        : select p1_0.role_id,p1_1.id,p1_1.api_path,p1_1.created_at,p1_1.created_by,p1_1.method,p1_1.module,p1_1.name,p1_1.updated_at,p1_1.updated_by from permission_role p1_0 join permissions p1_1 on p1_1.id=p1_0.permission_id where p1_0.role_id=?
2025-05-18 07:12:55.103  INFO 1 --- [http-nio-9001-exec-6] i.f.s.u.controller.AuthController        : Returning response [dc172b38-cf29-4bd7-a6ea-71d05520696c]: iuh.fit.se.userservice.dto.response.DataResponse@5aaad8e
2025-05-18 07:12:55.237 DEBUG 1 --- [http-nio-9001-exec-7] org.hibernate.SQL                        : select top (?) bt1_0.id from blacklisted_tokens bt1_0 where bt1_0.token=?
2025-05-18 07:12:55.247 DEBUG 1 --- [http-nio-9001-exec-7] org.hibernate.SQL                        : select top (?) bt1_0.id from blacklisted_tokens bt1_0 where bt1_0.token=?
2025-05-18 07:12:55.290 DEBUG 1 --- [http-nio-9001-exec-7] org.hibernate.SQL                        : select c1_0.id,c1_0.account_id,c1_0.avatar,c1_0.created_at,c1_0.date_of_birth,c1_0.gender,c1_0.name,c1_0.phone,c1_0.updated_at,c1_0.user_status from customers c1_0 join accounts a1_0 on a1_0.id=c1_0.account_id where a1_0.email like ?
2025-05-18 07:12:55.495 DEBUG 1 --- [http-nio-9001-exec-7] org.hibernate.SQL                        : select a1_0.id,a1_0.created_at,c1_0.id,c1_0.account_id,c1_0.avatar,c1_0.created_at,c1_0.date_of_birth,c1_0.gender,c1_0.name,c1_0.phone,c1_0.updated_at,c1_0.user_status,a1_0.email,a1_0.password,a1_0.refresh_token,su1_0.id,su1_0.account_id,su1_0.address,su1_0.avatar,su1_0.created_at,su1_0.gender,su1_0.level,su1_0.name,su1_0.phone,su1_0.system_user_status,su1_0.updated_at,a1_0.updated_at from accounts a1_0 left join customers c1_0 on a1_0.id=c1_0.account_id left join system_users su1_0 on a1_0.id=su1_0.account_id where a1_0.id=?
2025-05-18 07:12:55.562 DEBUG 1 --- [http-nio-9001-exec-7] org.hibernate.SQL                        : select r1_0.account_id,r1_1.id,r1_1.active,r1_1.created_at,r1_1.description,r1_1.name,r1_1.updated_at from account_role r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.account_id=?
2025-05-18 07:12:55.573 DEBUG 1 --- [http-nio-9001-exec-7] org.hibernate.SQL                        : select p1_0.role_id,p1_1.id,p1_1.api_path,p1_1.created_at,p1_1.created_by,p1_1.method,p1_1.module,p1_1.name,p1_1.updated_at,p1_1.updated_by from permission_role p1_0 join permissions p1_1 on p1_1.id=p1_0.permission_id where p1_0.role_id=?
2025-05-18 07:12:59.088 DEBUG 1 --- [http-nio-9001-exec-8] org.hibernate.SQL                        : select top (?) bt1_0.id from blacklisted_tokens bt1_0 where bt1_0.token=?
2025-05-18 07:12:59.098 DEBUG 1 --- [http-nio-9001-exec-8] org.hibernate.SQL                        : select top (?) bt1_0.id from blacklisted_tokens bt1_0 where bt1_0.token=?
2025-05-18 07:12:59.103  INFO 1 --- [http-nio-9001-exec-8] i.f.s.u.controller.AuthController        : Received token [57136937-b425-405b-ace2-c981a90fc13b]: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJnZ2R1Y3Z1QGdtYWlsLmNvbSIsInBlcm1pc3Npb24iOlsiUk9MRV9VU0VSX0NSRUFURSIsIlJPTEVfVVNFUl9VUERBVEUiXSwiZXhwIjoxNzU2MTc5MDMyLCJpYXQiOjE3NDc1MzkwMzIsInVzZXIiOnsiaWQiOiI3MTE1NjU4MS0wZmI5LTQwNzItOWNhZC02ZWY0ZGQ0Y2QyMWEiLCJlbWFpbCI6ImdnZHVjdnVAZ21haWwuY29tIn19.ql8sTWdckF91bhC4IBPIeI21YvHjX-hLmLpr2Y5wjdcxqYv0Be6YMfv3XjgDnTASmJAhd7bt7iJItH7StdUxLA
2025-05-18 07:12:59.109 DEBUG 1 --- [http-nio-9001-exec-8] org.hibernate.SQL                        : select a1_0.id,a1_0.created_at,a1_0.email,a1_0.password,a1_0.refresh_token,a1_0.updated_at from accounts a1_0 where a1_0.email=?
2025-05-18 07:12:59.116 DEBUG 1 --- [http-nio-9001-exec-8] org.hibernate.SQL                        : select c1_0.id,c1_0.account_id,a1_0.id,a1_0.created_at,a1_0.email,a1_0.password,a1_0.refresh_token,su1_0.id,su1_0.account_id,su1_0.address,su1_0.avatar,su1_0.created_at,su1_0.gender,su1_0.level,su1_0.name,su1_0.phone,su1_0.system_user_status,su1_0.updated_at,a1_0.updated_at,c1_0.avatar,c1_0.created_at,c1_0.date_of_birth,c1_0.gender,c1_0.name,c1_0.phone,c1_0.updated_at,c1_0.user_status from customers c1_0 join accounts a1_0 on a1_0.id=c1_0.account_id left join system_users su1_0 on a1_0.id=su1_0.account_id where c1_0.account_id=?
2025-05-18 07:12:59.127 DEBUG 1 --- [http-nio-9001-exec-8] org.hibernate.SQL                        : select su1_0.id,su1_0.account_id,a1_0.id,a1_0.created_at,c1_0.id,c1_0.account_id,c1_0.avatar,c1_0.created_at,c1_0.date_of_birth,c1_0.gender,c1_0.name,c1_0.phone,c1_0.updated_at,c1_0.user_status,a1_0.email,a1_0.password,a1_0.refresh_token,a1_0.updated_at,su1_0.address,su1_0.avatar,su1_0.created_at,su1_0.gender,su1_0.level,su1_0.name,su1_0.phone,su1_0.system_user_status,su1_0.updated_at from system_users su1_0 join accounts a1_0 on a1_0.id=su1_0.account_id left join customers c1_0 on a1_0.id=c1_0.account_id where su1_0.account_id=?
2025-05-18 07:12:59.134 DEBUG 1 --- [http-nio-9001-exec-8] org.hibernate.SQL                        : select r1_0.account_id,r1_1.id,r1_1.active,r1_1.created_at,r1_1.description,r1_1.name,r1_1.updated_at from account_role r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.account_id=?
2025-05-18 07:12:59.141 DEBUG 1 --- [http-nio-9001-exec-8] org.hibernate.SQL                        : select p1_0.role_id,p1_1.id,p1_1.api_path,p1_1.created_at,p1_1.created_by,p1_1.method,p1_1.module,p1_1.name,p1_1.updated_at,p1_1.updated_by from permission_role p1_0 join permissions p1_1 on p1_1.id=p1_0.permission_id where p1_0.role_id=?
2025-05-18 07:12:59.166  INFO 1 --- [http-nio-9001-exec-8] i.f.s.u.controller.AuthController        : Returning response [57136937-b425-405b-ace2-c981a90fc13b]: iuh.fit.se.userservice.dto.response.DataResponse@7c38df69
2025-05-18 07:13:06.794 DEBUG 1 --- [http-nio-9001-exec-10] org.hibernate.SQL                        : select top (?) bt1_0.id from blacklisted_tokens bt1_0 where bt1_0.token=?
2025-05-18 07:13:06.813 DEBUG 1 --- [http-nio-9001-exec-10] org.hibernate.SQL                        : select top (?) bt1_0.id from blacklisted_tokens bt1_0 where bt1_0.token=?
2025-05-18 07:13:06.913 DEBUG 1 --- [http-nio-9001-exec-10] org.hibernate.SQL                        : select c1_0.id,c1_0.account_id,a1_0.id,a1_0.created_at,a1_0.email,a1_0.password,a1_0.refresh_token,su1_0.id,su1_0.account_id,su1_0.address,su1_0.avatar,su1_0.created_at,su1_0.gender,su1_0.level,su1_0.name,su1_0.phone,su1_0.system_user_status,su1_0.updated_at,a1_0.updated_at,c1_0.avatar,c1_0.created_at,c1_0.date_of_birth,c1_0.gender,c1_0.name,c1_0.phone,c1_0.updated_at,c1_0.user_status from customers c1_0 join accounts a1_0 on a1_0.id=c1_0.account_id left join system_users su1_0 on a1_0.id=su1_0.account_id where c1_0.id=?
2025-05-18 07:13:42.015 DEBUG 1 --- [http-nio-9001-exec-2] org.hibernate.SQL                        : select c1_0.id,c1_0.account_id,a1_0.id,a1_0.created_at,a1_0.email,a1_0.password,a1_0.refresh_token,su1_0.id,su1_0.account_id,su1_0.address,su1_0.avatar,su1_0.created_at,su1_0.gender,su1_0.level,su1_0.name,su1_0.phone,su1_0.system_user_status,su1_0.updated_at,a1_0.updated_at,c1_0.avatar,c1_0.created_at,c1_0.date_of_birth,c1_0.gender,c1_0.name,c1_0.phone,c1_0.updated_at,c1_0.user_status from customers c1_0 join accounts a1_0 on a1_0.id=c1_0.account_id left join system_users su1_0 on a1_0.id=su1_0.account_id where c1_0.id=?
2025-05-18 07:15:19.412  INFO 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-18 07:20:19.398  INFO 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-18 07:25:19.384  INFO 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-18 07:30:19.371  INFO 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-18 07:35:19.360  INFO 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-18 07:40:19.348  INFO 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-18 07:45:19.338  INFO 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-18 07:50:19.328  INFO 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-18 07:55:19.316  INFO 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-18 08:00:19.303  INFO 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-18 08:05:19.290  INFO 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-18 08:10:19.278  INFO 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-18 08:15:19.266  INFO 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-18 08:20:19.255  INFO 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-18 08:25:19.242  INFO 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-18 08:30:19.229  INFO 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-18 08:35:19.215  INFO 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-18 08:40:19.199  INFO 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-18 08:45:19.184  INFO 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-18 08:50:19.171  INFO 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-18 08:55:19.157  INFO 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-18 09:00:19.143  INFO 1 --- [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
